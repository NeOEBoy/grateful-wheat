(this.webpackJsonpwww=this.webpackJsonpwww||[]).push([[0],{119:function(e,t){var a,n,r;function i(){try{var e=navigator.userAgent;if(e.match(/Windows\sPhone/i))return!0;if(e.match(/iPhone|iPod|iPad/i))return!0;if(e.match(/Android/i))return!0;if(e.match(/Edge\D?\d+/i))return!0;var t=e.match(/Trident\D?\d+/i),a=e.match(/MSIE\D?\d+/i),n=e.match(/OPR\D?\d+/i),r=e.match(/Firefox\D?\d+/i),i=e.match(/x64/i);if(!t&&!a&&i)return!0;if(r){if((r=r[0].match(/\d+/))[0]>=41||i)return!0}else if(n){if((n=n[0].match(/\d+/))[0]>=32)return!0}else if(!t&&!a){var o=e.match(/Chrome\D?\d+/i);if(o&&(o=o[0].match(/\d+/))[0]>=41)return!0}return!1}catch(c){return!0}}i()&&function(){if("loading"!==r&&"complete"!==r){r="loading";var e=document.head||document.getElementsByTagName("head")[0]||document.documentElement,t=document.createElement("script"),a=document.createElement("script");t.src="http://localhost:8000/CLodopfuncs.js?priority=1",a.src="http://localhost:18000/CLodopfuncs.js",t.onload=a.onload=function(){r="complete"},t.onerror=a.onerror=function(e){r="complete"},e.insertBefore(t,e.firstChild),e.insertBefore(a,e.firstChild),n=!!(t.src+a.src).match(/\/\/localho|\/\/127.0.0./i)}}(),e.exports={getLodop:function(e,t){var o;try{var c=navigator.userAgent,s=!!c.match(/MSIE/i)||!!c.match(/Trident/i);if(i()){try{o=window.getCLodop()}catch(d){}if(!o&&"complete"!==r)return void("loading"===r?alert("\u7f51\u9875\u8fd8\u6ca1\u4e0b\u8f7d\u5b8c\u6bd5\uff0c\u8bf7\u7a0d\u7b49\u4e00\u4e0b\u518d\u64cd\u4f5c."):alert("\u6ca1\u6709\u52a0\u8f7dCLodop\u7684\u4e3bjs\uff0c\u8bf7\u5148\u8c03\u7528loadCLodop\u8fc7\u7a0b."));if(!o)return void(document.body.innerHTML="<br><font color='#FF00FF'>Web\u6253\u5370\u670d\u52a1CLodop\u672a\u5b89\u88c5\u542f\u52a8\uff0c\u70b9\u51fb\u8fd9\u91cc<a href=download/CLodop_Setup_for_Win32NT.exe target='_self'>\u4e0b\u8f7d\u6267\u884c\u5b89\u88c5</a>"+(n?"<br>\uff08\u82e5\u6b64\u524d\u5df2\u5b89\u88c5\u8fc7\uff0c\u53ef<a href='CLodop.protocol:setup' target='_self'>\u70b9\u8fd9\u91cc\u76f4\u63a5\u518d\u6b21\u542f\u52a8</a>\uff09":"")+"\uff0c\u6210\u529f\u540e\u8bf7\u5237\u65b0\u672c\u9875\u9762\u3002</font>"+document.body.innerHTML);window.CLODOP.CVERSION<"4.1.2.7"&&(document.body.innerHTML="<br><font color='#FF00FF'>Web\u6253\u5370\u670d\u52a1CLodop\u9700\u5347\u7ea7!\u70b9\u51fb\u8fd9\u91cc<a href=download/CLodop_Setup_for_Win32NT.exe target='_self'>\u6267\u884c\u5347\u7ea7</a>,\u5347\u7ea7\u540e\u8bf7\u5237\u65b0\u9875\u9762\u3002</font>"+document.body.innerHTML),t&&t.parentNode&&t.parentNode.removeChild(t),e&&e.parentNode&&e.parentNode.removeChild(e)}else{var l=s&&!!c.match(/x64/i);if(e||t?o=s?e:t:a?o=a:((o=document.createElement("object")).setAttribute("width",0),o.setAttribute("height",0),o.setAttribute("style","position:absolute;left:0px;top:-100px;width:0px;height:0px;"),s?o.setAttribute("classid","clsid:2105C259-1E0C-4534-8141-A753534CB4CA"):o.setAttribute("type","application/x-print-lodop"),document.documentElement.appendChild(o),a=o),!o||!o.VERSION)return c.indexOf("Chrome")>=0&&(document.body.innerHTML="<br><br><font color='#FF00FF'>(\u5982\u679c\u6b64\u524d\u6b63\u5e38\uff0c\u4ec5\u56e0\u6d4f\u89c8\u5668\u5347\u7ea7\u6216\u91cd\u5b89\u88c5\u800c\u51fa\u95ee\u9898\uff0c\u9700\u91cd\u65b0\u6267\u884c\u4ee5\u4e0a\u5b89\u88c5\uff09</font>"+document.body.innerHTML),c.indexOf("Firefox")>=0&&(document.body.innerHTML="<br><br><font color='#FF00FF'>\uff08\u6ce8\u610f\uff1a\u5982\u66fe\u5b89\u88c5\u8fc7Lodop\u65e7\u7248\u9644\u4ef6npActiveXPLugin,\u8bf7\u5728\u3010\u5de5\u5177\u3011->\u3010\u9644\u52a0\u7ec4\u4ef6\u3011->\u3010\u6269\u5c55\u3011\u4e2d\u5148\u5378\u5b83\uff09</font>"+document.body.innerHTML),document.body.innerHTML=(l?"<br><font color='#FF00FF'>\u6253\u5370\u63a7\u4ef6\u672a\u5b89\u88c5!\u70b9\u51fb\u8fd9\u91cc<a href=download/install_lodop64.exe target='_self'>\u6267\u884c\u5b89\u88c5</a>,\u5b89\u88c5\u540e\u8bf7\u5237\u65b0\u9875\u9762\u6216\u91cd\u65b0\u8fdb\u5165\u3002</font>":"<br><font color='#FF00FF'>\u6253\u5370\u63a7\u4ef6\u672a\u5b89\u88c5!\u70b9\u51fb\u8fd9\u91cc<a href=download/install_lodop32.exe target='_self'>\u6267\u884c\u5b89\u88c5</a>,\u5b89\u88c5\u540e\u8bf7\u5237\u65b0\u9875\u9762\u6216\u91cd\u65b0\u8fdb\u5165\u3002</font>")+document.body.innerHTML,o}return o.VERSION<"6.2.2.6"&&(i()||(document.body.innerHTML=(l?"<br><font color='#FF00FF'>\u6253\u5370\u63a7\u4ef6\u9700\u8981\u5347\u7ea7!\u70b9\u51fb\u8fd9\u91cc<a href=download/install_lodop64.exe target='_self'>\u6267\u884c\u5347\u7ea7</a>,\u5347\u7ea7\u540e\u8bf7\u91cd\u65b0\u8fdb\u5165\u3002</font>":"<br><font color='#FF00FF'>\u6253\u5370\u63a7\u4ef6\u9700\u8981\u5347\u7ea7!\u70b9\u51fb\u8fd9\u91cc<a href=download/install_lodop32.exe target='_self'>\u6267\u884c\u5347\u7ea7</a>,\u5347\u7ea7\u540e\u8bf7\u91cd\u65b0\u8fdb\u5165\u3002</font>")+document.body.innerHTML)),o}catch(d){alert("getLodop\u51fa\u9519:"+d)}}}},227:function(e,t,a){e.exports=a(384)},232:function(e,t,a){},295:function(e,t,a){},382:function(e,t,a){},384:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(25),o=a.n(i),c=(a(232),a(6)),s=a.n(c),l=a(8),d=a(49),u=a(50),m=a(52),f=a(51),p=a(390),h=a(385),b=a(224),g=a(157),y=a(96),x=a(47),v=a(391),E=a(147);console.log("process.env.NODE_ENV = production");var k="http://gratefulwheat.ruyue.xyz/apis",w=function(){var e=Object(l.a)(s.a.mark((function e(t,a,n,r,i,o){var c,l,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=k+"/product/saleList",c+="?pageIndex=",c+=r,c+="&pageSize=",c+=i,c+="&userId=",c+=t,c+="&beginDateTime=",c+=a,c+="&endDateTime=",c+=n,c+="&keyword=",c+=o,e.next=15,fetch(c);case 15:return l=e.sent,e.next=18,l.json();case 18:return d=e.sent,e.abrupt("return",d);case 20:case"end":return e.stop()}}),e)})));return function(t,a,n,r,i,o){return e.apply(this,arguments)}}(),I=function(){var e=Object(l.a)(s.a.mark((function e(t,a,n,r){var i,o,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=k+"/product/discardList",i+="?userId=",i+=t,i+="&beginDateTime=",i+=a,i+="&endDateTime=",i+=n,i+="&keyword=",i+=r,console.log(i),e.next=12,fetch(i);case 12:return o=e.sent,e.next=15,o.json();case 15:return c=e.sent,e.abrupt("return",c);case 17:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),S=function(){var e=Object(l.a)(s.a.mark((function e(t,a,n,r,i){var o,c,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=k+"/product/saleAndDiscardList",o+="?userId=",o+=t,o+="&categoryId=",o+=a,o+="&beginDateTime=",o+=n,o+="&endDateTime=",o+=r,o+="&keyword=",o+=i,e.next=13,fetch(o);case 13:return c=e.sent,e.next=16,c.json();case 16:return l=e.sent,e.abrupt("return",l);case 18:case"end":return e.stop()}}),e)})));return function(t,a,n,r,i){return e.apply(this,arguments)}}(),T=function(){var e=Object(l.a)(s.a.mark((function e(t,a,n){var r,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=k+"/coupon/couponSummaryList",r+="?userId=",r+=t,r+="&beginDateTime=",r+=a,r+="&endDateTime=",r+=n,e.next=9,fetch(r);case 9:return i=e.sent,e.next=12,i.json();case 12:return o=e.sent,e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),D=function(){var e=Object(l.a)(s.a.mark((function e(t,a,n,r){var i,o,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=k+"/product/orderList",i+="?userId=",i+=t,i+="&templateId=",i+=a,i+="&beginDateTime=",i+=n,i+="&endDateTime=",i+=r,e.next=11,fetch(i);case 11:return o=e.sent,e.next=14,o.json();case 14:return c=e.sent,e.abrupt("return",c);case 16:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),O=function(){var e=Object(l.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=k+"/product/orderItems",a+="?orderId=",a+=t,e.next=5,fetch(a);case 5:return n=e.sent,e.next=8,n.json();case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(l.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=k+"/product/findTemplate",a+="?templateUid=",a+=t,e.next=5,fetch(a);case 5:return n=e.sent,e.next=8,n.json();case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(l.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=k+"/product/loadProductsByKeyword",a+="?keyword=",a+=t,e.next=5,fetch(a);case 5:return n=e.sent,e.next=8,n.json();case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(l.a)(s.a.mark((function e(t,a,n){var r,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=k+"/coupon/diyCouponList",r+="?pageIndex=",r+=t,r+="&pageSize=",r+=a,r+="&keyword=",r+=n,e.next=9,fetch(r);case 9:return i=e.sent,e.next=12,i.json();case 12:return o=e.sent,e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),M=function(){var e=Object(l.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=k+"/member/memberList",a+="?keyword=",a+=t,e.next=5,fetch(a);case 5:return n=e.sent,e.next=8,n.json();case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(l.a)(s.a.mark((function e(t,a){var n,r,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=k+"/coupon/saveRemark",n+="?couponId=",n+=t,n+="&remark=",n+=a,e.next=7,fetch(n);case 7:return r=e.sent,e.next=10,r.json();case 10:return i=e.sent,e.abrupt("return",i);case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),j=function(){var e=Object(l.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=k+"/coupon/createDIYEvent",a+="?started=",a+=t,e.next=5,fetch(a);case 5:return n=e.sent,e.next=8,n.json();case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(l.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k+"/coupon/DIYEventList",e.next=3,fetch("http://gratefulwheat.ruyue.xyz/apis/coupon/DIYEventList");case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(l.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=k+"/coupon/DeleteDIYEvent",a+="?_id=",a+=t,e.next=5,fetch(a);case 5:return n=e.sent,e.next=8,n.json();case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(l.a)(s.a.mark((function e(t,a,n){var r,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=k+"/coupon/joinToEvent",r+="?couponId=",r+=t,r+="&memberName=",r+=a,r+="&eventId=",r+=n,e.next=9,fetch(r);case 9:return i=e.sent,e.next=12,i.json();case 12:return o=e.sent,e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),H=function(){var e=Object(l.a)(s.a.mark((function e(t,a,n,r,i){var o,c,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=k+"/coupon/sendSMSAndJoinToEvent",o+="?phoneNumber=",o+=t,o+="&templateParam1=",o+=a,o+="&couponId=",o+=n,o+="&memberName=",o+=r,o+="&eventId=",o+=i,e.next=13,fetch(o);case 13:return c=e.sent,e.next=16,c.json();case 16:return l=e.sent,e.abrupt("return",l);case 18:case"end":return e.stop()}}),e)})));return function(t,a,n,r,i){return e.apply(this,arguments)}}(),B=function(){var e=Object(l.a)(s.a.mark((function e(t,a,n){var r,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=k+"/coupon/leaveFromEvent",r+="?couponId=",r+=t,r+="&memberName=",r+=a,r+="&eventId=",r+=n,e.next=9,fetch(r);case 9:return i=e.sent,e.next=12,i.json();case 12:return o=e.sent,e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),F=function(){var e=Object(l.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=k+"/coupon/saveLastPage",a+="?page=",a+=t,e.next=5,fetch(a);case 5:return n=e.sent,e.next=8,n.json();case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(l.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k+"/coupon/getLastPage",e.next=3,fetch("http://gratefulwheat.ruyue.xyz/apis/coupon/getLastPage");case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=a(192),V=a.n(_),W=a(392),U=(a(109),a(53)),K=a(13),q=a.n(K),J=p.a.Search,G=h.a.RangePicker,Z=[{index:0,name:"\u5168\u90e8",userId:""},{index:1,name:"\u6559\u80b2\u5c40\u5e97",userId:"3995767"},{index:2,name:"\u65e7\u9547\u5e97",userId:"3995771"},{index:3,name:"\u6c5f\u6ee8\u5e97",userId:"4061089"},{index:4,name:"\u6c64\u6cc9\u5e97",userId:"4061092"},{index:5,name:"\u5047\u65e5\u5e97",userId:"4339546"},{index:6,name:"\u72ee\u5934\u5e97",userId:"4359267"},{index:7,name:"\u76d8\u9640\u5e97",userId:"4382444"}],$=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(e){var n;Object(d.a)(this,a),(n=t.call(this,e)).handleInfiniteOnLoad=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.fetchNextPage();case 2:case"end":return e.stop()}}),e)})));var r=n.props.query,i="",o="";return r&&(i=(i=r.get("beginDateTime")).replace(" ","+"),o=(o=r.get("endDateTime")).replace(" ","+")),n.state={listData:[],loading:!1,hasMore:!0,pageIndex:1,shopIndex:1,userId:"",beginDateTime:i,endDateTime:o,keyword:""},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(l.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.query,a="",t&&(a=t.get("id")),e.next=5,this.initFirstPage(a);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initFirstPage",value:function(){var e=Object(l.a)(s.a.mark((function e(t,a,n,r){var i,o=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=0;case 1:if(!(i<Z.length)){e.next=8;break}if(Z[i].userId!==t){e.next=5;break}return this.setState({shopIndex:i}),e.abrupt("break",8);case 5:i++,e.next=1;break;case 8:this.setState({userId:void 0!==t?t:this.state.userId,listData:[],loading:!1,hasMore:!0,pageIndex:1,beginDateTime:void 0!==a?a:this.state.beginDateTime,endDateTime:void 0!==n?n:this.state.endDateTime,keyword:void 0!==r?r:this.state.keyword},Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.fetchNextPage();case 2:case"end":return e.stop()}}),e)}))));case 9:case"end":return e.stop()}}),e,this)})));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"fetchNextPage",value:function(){var e=Object(l.a)(s.a.mark((function e(){var t,a,n,r,i,o,c,l,d,u,m,f,p;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,a=t.hasMore,n=t.pageIndex,r=t.listData,a){e.next=4;break}return b.b.warning("\u6ca1\u6709\u66f4\u591a\u6570\u636e\u4e86"),e.abrupt("return");case 4:return this.setState({loading:!0}),e.prev=5,i=this.state,o=i.userId,c=i.beginDateTime,l=i.endDateTime,d=i.keyword,u=[],e.next=10,w(o,c,l,n,20,d);case 10:(m=e.sent)&&0===m.errCode&&(u=m.list),f=u.length/20>=1,p=n,f&&p++,r=r.concat(u),this.setState({listData:r,hasMore:f,loading:!1,pageIndex:p}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(5),this.setState({loading:!1});case 22:case"end":return e.stop()}}),e,this,[[5,19]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.shopIndex,n=t.beginDateTime,i=t.endDateTime,o=Z[a].name;return r.a.createElement("div",{style:{height:window.innerHeight,overflow:"auto"}},r.a.createElement("div",{style:{textAlign:"center",fontSize:24,fontWeight:"bold"}},"\u70ed\u5356",r.a.createElement("br",null),r.a.createElement(g.a,{overlay:function(){var t=Z[0],a=Z[1],n=Z[2],i=Z[3],o=Z[4],c=Z[5],d=Z[6],u=Z[7];return r.a.createElement(y.a,{onClick:function(){var t=Object(l.a)(s.a.mark((function t(a){var n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.key,r=Z[n].userId,t.next=4,e.initFirstPage(r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},r.a.createElement(y.a.Item,{key:t.index},t.name),r.a.createElement(y.a.Item,{key:a.index},a.name),r.a.createElement(y.a.Item,{key:n.index},n.name),r.a.createElement(y.a.Item,{key:i.index},i.name),r.a.createElement(y.a.Item,{key:o.index},o.name),r.a.createElement(y.a.Item,{key:c.index},c.name),r.a.createElement(y.a.Item,{key:d.index},d.name),r.a.createElement(y.a.Item,{key:u.index},u.name))},trigger:["click"]},r.a.createElement(x.a,{size:"small",style:{width:240},onClick:function(e){return e.preventDefault()}},o,r.a.createElement(W.a,null))),r.a.createElement("br",null),r.a.createElement(G,{size:"small",locale:U.a,bordered:!0,style:{width:320,marginTop:15},placeholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"],inputReadOnly:!0,defaultValue:[q()(n,"YYYY.MM.DD+HH:mm:ss"),q()(i,"YYYY.MM.DD+HH:mm:ss")],showTime:{hideDisabledOptions:!0,defaultValue:[q()("00:00:00","HH:mm:ss"),q()("23:59:59","HH:mm:ss")],showTime:!0,showHour:!1,showMinute:!1,showSecond:!1},onChange:function(e){e||b.b.warning("\u8bf7\u9009\u62e9\u6b63\u786e\u7684\u65e5\u671f!")},onOk:function(){var t=Object(l.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.initFirstPage(void 0,a[0]?a[0].format("YYYY.MM.DD+HH:mm:ss"):void 0,a[1]?a[1].format("YYYY.MM.DD+HH:mm:ss"):void 0);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),r.a.createElement("br",null),r.a.createElement(J,{style:{width:280,marginTop:15},size:"small",placeholder:"\u8f93\u5165\u5546\u54c1\u540d\u79f0\u540e\u67e5\u8be2",enterButton:"\u67e5\u8be2",onSearch:function(){var t=Object(l.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.initFirstPage(void 0,void 0,void 0,a);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),r.a.createElement(V.a,{initialLoad:!1,pageStart:0,loadMore:this.handleInfiniteOnLoad,hasMore:!this.state.loading&&this.state.hasMore,useWindow:!1},r.a.createElement(v.b,{dataSource:this.state.listData,locale:{emptyText:"\u6682\u65f6\u6ca1\u6709\u6570\u636e"},footer:r.a.createElement("div",{style:{height:100,textAlign:"center",fontSize:14,fontWeight:"lighter"}},"\u5f2f\u9ea6--\u5fc3\u91cc\u6ee1\u6ee1\u90fd\u662f\u4f60"),renderItem:function(t){var a=e.state.listData.indexOf(t),n="gray";0===a?n="orange":1===a?n="green":2===a&&(n="red");var i="-"!==t.specification?" | "+t.specification:"",o=""!==t.category?" | "+t.category:"";return r.a.createElement(v.b.Item,null,r.a.createElement("div",{style:{width:30,height:30,backgroundColor:n,color:"white",fontSize:14,fontWeight:"bold",textAlign:"center",marginRight:15,marginLeft:15,borderRadius:10}},r.a.createElement("div",{style:{marginTop:3}},a+1)),r.a.createElement(v.b.Item.Meta,{title:r.a.createElement("div",null,r.a.createElement("span",{style:{fontSize:16}},t.name),r.a.createElement("span",{style:{fontSize:12}},i),r.a.createElement("span",{style:{fontSize:10}},o)),description:"\u9500\u552e\u6570\u91cf\uff1a".concat(t.saleNumber," \u73b0\u6709\u5e93\u5b58\uff1a").concat(t.currentNumber)}),r.a.createElement("span",{style:{marginRight:25,color:"coral",fontSize:18}},"\uffe5".concat(t.realIncome)))}},this.state.loading&&this.state.hasMore&&r.a.createElement("div",null,r.a.createElement(E.a,{style:{position:"absolute",bottom:15,width:"100%",textAlign:"center"}})))))}}]),a}(r.a.Component),Q=h.a.RangePicker,X=p.a.Search,ee=[{index:0,name:"\u5168\u90e8",userId:""},{index:1,name:"\u6559\u80b2\u5c40\u5e97",userId:"3995767"},{index:2,name:"\u65e7\u9547\u5e97",userId:"3995771"},{index:3,name:"\u6c5f\u6ee8\u5e97",userId:"4061089"},{index:4,name:"\u6c64\u6cc9\u5e97",userId:"4061092"},{index:5,name:"\u5047\u65e5\u5e97",userId:"4339546"},{index:6,name:"\u72ee\u5934\u5e97",userId:"4359267"},{index:7,name:"\u76d8\u9640\u5e97",userId:"4382444"}],te=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(e){var n;Object(d.a)(this,a);var r=(n=t.call(this,e)).props.query,i="",o="";return r&&(i=(i=r.get("beginDateTime")).replace(" ","+"),o=(o=r.get("endDateTime")).replace(" ","+")),n.state={userId:"",shopIndex:1,listData:[],loading:!1,beginDateTime:i,endDateTime:o,keyword:""},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(l.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.query,a="",t&&(a=t.get("id")),e.next=5,this.initFirstPage(a);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initFirstPage",value:function(){var e=Object(l.a)(s.a.mark((function e(t,a,n,r){var i,o=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=0;case 1:if(!(i<ee.length)){e.next=8;break}if(ee[i].userId!==t){e.next=5;break}return this.setState({shopIndex:i}),e.abrupt("break",8);case 5:i++,e.next=1;break;case 8:this.setState({userId:void 0!==t?t:this.state.userId,listData:[],loading:!1,beginDateTime:void 0!==a?a:this.state.beginDateTime,endDateTime:void 0!==n?n:this.state.endDateTime,keyword:void 0!==r?r:this.state.keyword},Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.fetchListData();case 2:case"end":return e.stop()}}),e)}))));case 9:case"end":return e.stop()}}),e,this)})));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"fetchListData",value:function(){var e=Object(l.a)(s.a.mark((function e(){var t,a,n,r,i,o,c,l,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.state,a=t.listData,n=t.userId,r=t.beginDateTime,i=t.endDateTime,o=t.keyword,c=[],this.setState({loading:!0}),e.next=6,I(n,r,i,o);case 6:(l=e.sent)&&0===l.errCode&&(c=l.list),d=a.concat(c),this.setState({listData:d,loading:!1}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),this.setState({loading:!1});case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.shopIndex,n=t.beginDateTime,i=t.endDateTime,o=ee[a].name;return r.a.createElement("div",null,r.a.createElement(v.b,{dataSource:this.state.listData,loading:this.state.loading,locale:{emptyText:"\u6682\u65f6\u6ca1\u6709\u6570\u636e"},header:r.a.createElement("div",{style:{textAlign:"center",fontSize:24,fontWeight:"bold"}},"\u62a5\u635f",r.a.createElement("br",null),r.a.createElement(g.a,{overlay:function(){var t=ee[0],a=ee[1],n=ee[2],i=ee[3],o=ee[4],c=ee[5],d=ee[6],u=ee[7];return r.a.createElement(y.a,{onClick:function(){var t=Object(l.a)(s.a.mark((function t(a){var n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.key,r=ee[n].userId,t.next=4,e.initFirstPage(r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},r.a.createElement(y.a.Item,{key:t.index},t.name),r.a.createElement(y.a.Item,{key:a.index},a.name),r.a.createElement(y.a.Item,{key:n.index},n.name),r.a.createElement(y.a.Item,{key:i.index},i.name),r.a.createElement(y.a.Item,{key:o.index},o.name),r.a.createElement(y.a.Item,{key:c.index},c.name),r.a.createElement(y.a.Item,{key:d.index},d.name),r.a.createElement(y.a.Item,{key:u.index},u.name))},trigger:["click"]},r.a.createElement(x.a,{size:"small",style:{width:240},onClick:function(e){return e.preventDefault()}},o,r.a.createElement(W.a,null))),r.a.createElement("br",null),r.a.createElement(Q,{size:"small",locale:U.a,bordered:!0,style:{width:320,marginTop:15},placeholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"],inputReadOnly:!0,defaultValue:[q()(n,"YYYY.MM.DD+HH:mm:ss"),q()(i,"YYYY.MM.DD+HH:mm:ss")],showTime:{hideDisabledOptions:!0,defaultValue:[q()("00:00:00","HH:mm:ss"),q()("23:59:59","HH:mm:ss")],showTime:!0,showHour:!1,showMinute:!1,showSecond:!1},onChange:function(e){e||b.b.warning("\u8bf7\u9009\u62e9\u6b63\u786e\u7684\u65e5\u671f!")},onOk:function(){var t=Object(l.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a[0].format("YYYY.MM.DD+HH:mm:ss")),console.log(a[1].format("YYYY.MM.DD+HH:mm:ss")),t.next=4,e.initFirstPage(void 0,a[0]?a[0].format("YYYY.MM.DD+HH:mm:ss"):void 0,a[1]?a[1].format("YYYY.MM.DD+HH:mm:ss"):void 0);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),r.a.createElement("br",null),r.a.createElement(X,{style:{width:280,marginTop:15},size:"small",placeholder:"\u8f93\u5165\u5546\u54c1\u540d\u79f0\u540e\u67e5\u8be2",enterButton:"\u67e5\u8be2",onSearch:function(){var t=Object(l.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.initFirstPage(void 0,void 0,void 0,a);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),footer:r.a.createElement("div",{style:{height:100,textAlign:"center",fontSize:14,fontWeight:"lighter"}},"\u5f2f\u9ea6--\u5fc3\u91cc\u6ee1\u6ee1\u90fd\u662f\u4f60"),renderItem:function(t){var a=e.state.listData.indexOf(t),n="gray";0===a?n="orange":1===a?n="green":2===a&&(n="red");var i="-"!==t.specification?" | "+t.specification:"",o=""!==t.category?" | "+t.category:"";return r.a.createElement(v.b.Item,null,r.a.createElement("div",{style:{width:30,height:30,backgroundColor:n,color:"white",fontSize:14,fontWeight:"bold",textAlign:"center",marginRight:15,marginLeft:15,borderRadius:10}},r.a.createElement("div",{style:{marginTop:3}},a+1)),r.a.createElement(v.b.Item.Meta,{title:r.a.createElement("div",null,r.a.createElement("span",{style:{fontSize:16}},t.name),r.a.createElement("span",{style:{fontSize:12}},i),r.a.createElement("span",{style:{fontSize:10}},o)),description:"\u62a5\u635f\u6570\u91cf\uff1a".concat(t.discardNumber)}),r.a.createElement("span",{style:{marginRight:25,color:"coral",fontSize:18}},"\uffe5".concat(t.diacardMoney)))}}))}}]),a}(r.a.Component),ae=p.a.Search,ne=h.a.RangePicker,re=[{index:0,name:"\u5168\u90e8\u95e8\u5e97",userId:""},{index:1,name:"\u6559\u80b2\u5c40\u5e97",userId:"3995767"},{index:2,name:"\u65e7\u9547\u5e97",userId:"3995771"},{index:3,name:"\u6c5f\u6ee8\u5e97",userId:"4061089"},{index:4,name:"\u6c64\u6cc9\u5e97",userId:"4061092"},{index:5,name:"\u5047\u65e5\u5e97",userId:"4339546"},{index:6,name:"\u72ee\u5934\u5e97",userId:"4359267"},{index:7,name:"\u76d8\u9640\u5e97",userId:"4382444"}],ie="%221593049816479739965%22,%221593049854760654816%22,%221592989355905414162%22,%221593049881212199906%22,%221593059349213583584%22",oe=[{index:0,name:"\u5168\u90e8",categoryId:ie},{index:1,name:"\u73b0\u70e4\u7c7b",categoryId:"%221593049816479739965%22"},{index:2,name:"\u5410\u53f8\u7c7b",categoryId:"%221593049854760654816%22"},{index:3,name:"\u9910\u5305\u7c7b",categoryId:"%221626767161867698544%22"},{index:4,name:"\u897f\u70b9\u7c7b",categoryId:"%221592989355905414162%22"},{index:5,name:"\u5e38\u6e29\u7c7b",categoryId:"%221593049881212199906%22"},{index:6,name:"\u5e72\u70b9\u7c7b",categoryId:"%221593059349213583584%22"}],ce=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(e){var n;Object(d.a)(this,a);var r=(n=t.call(this,e)).props.query,i=q()().format("YYYY-MM-DD")+"+00:00:00",o=q()().format("YYYY-MM-DD")+"+23:59:59";return r&&(i=r.get("beginDateTime")?r.get("beginDateTime"):i,o=r.get("endDateTime")?r.get("endDateTime"):o),n.state={userId:"",shopIndex:1,categoryId:ie,categoryIndex:0,listData:[],loading:!1,beginDateTime:i,endDateTime:o,keyword:""},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(l.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.query,a="",t&&t.get("id")&&(a=t.get("id")),e.next=5,this.initFirstPage(a);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initFirstPage",value:function(){var e=Object(l.a)(s.a.mark((function e(t,a,n,r,i){var o,c,d=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=0;case 1:if(!(o<re.length)){e.next=8;break}if(re[o].userId!==t){e.next=5;break}return this.setState({shopIndex:o}),e.abrupt("break",8);case 5:o++,e.next=1;break;case 8:c=0;case 9:if(!(c<oe.length)){e.next=16;break}if(oe[c].categoryId!==a){e.next=13;break}return this.setState({categoryIndex:c}),e.abrupt("break",16);case 13:c++,e.next=9;break;case 16:this.setState({userId:void 0!==t?t:this.state.userId,categoryId:void 0!==a?a:this.state.categoryId,listData:[],loading:!1,beginDateTime:void 0!==n?n:this.state.beginDateTime,endDateTime:void 0!==r?r:this.state.endDateTime,keyword:void 0!==i?i:""},Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.fetchListData();case 2:case"end":return e.stop()}}),e)}))));case 17:case"end":return e.stop()}}),e,this)})));return function(t,a,n,r,i){return e.apply(this,arguments)}}()},{key:"fetchListData",value:function(){var e=Object(l.a)(s.a.mark((function e(){var t,a,n,r,i,o,c,l,d,u,m,f,p,h;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.state,a=t.listData,n=t.userId,r=t.categoryId,i=t.beginDateTime,o=t.endDateTime,c=t.keyword,l=[],this.setState({loading:!0}),(u=(d=i).indexOf("+"))>=0&&(d=d.substring(0,u)),(f=(m=o).indexOf("+"))>=0&&(m=m.substring(0,f)),e.next=12,S(n,r,d,m,c);case 12:(p=e.sent)&&0===p.errCode&&(l=p.list),h=a.concat(l),this.setState({listData:h,loading:!1}),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),this.setState({loading:!1});case 21:case"end":return e.stop()}}),e,this,[[0,18]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.shopIndex,n=t.beginDateTime,i=t.endDateTime,o=t.categoryIndex,c=re[a].name,d=oe[o].name;return r.a.createElement("div",null,r.a.createElement(v.b,{dataSource:this.state.listData,loading:this.state.loading,locale:{emptyText:"\u6682\u65f6\u6ca1\u6709\u6570\u636e"},header:r.a.createElement("div",{style:{textAlign:"center",fontSize:24,fontWeight:"bold"}},"\u5546\u54c1\u62a5\u635f\u4e0e\u9500\u552e\u5206\u6790",r.a.createElement("br",null),r.a.createElement(g.a,{overlay:function(){var t=re[0],a=re[1],n=re[2],i=re[3],o=re[4],c=re[5],d=re[6],u=re[7];return r.a.createElement(y.a,{onClick:function(){var t=Object(l.a)(s.a.mark((function t(a){var n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.key,r=re[n].userId,t.next=4,e.initFirstPage(r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},r.a.createElement(y.a.Item,{key:t.index},t.name),r.a.createElement(y.a.Item,{key:a.index},a.name),r.a.createElement(y.a.Item,{key:n.index},n.name),r.a.createElement(y.a.Item,{key:i.index},i.name),r.a.createElement(y.a.Item,{key:o.index},o.name),r.a.createElement(y.a.Item,{key:c.index},c.name),r.a.createElement(y.a.Item,{key:d.index},d.name),r.a.createElement(y.a.Item,{key:u.index},u.name))},trigger:["click"]},r.a.createElement(x.a,{size:"small",style:{width:240},onClick:function(e){return e.preventDefault()}},c,r.a.createElement(W.a,null))),r.a.createElement("br",null),r.a.createElement(g.a,{overlay:function(){var t=oe[0],a=oe[1],n=oe[2],i=oe[3],o=oe[4],c=oe[5],d=oe[6];return r.a.createElement(y.a,{onClick:function(){var t=Object(l.a)(s.a.mark((function t(a){var n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.key,r=oe[n].categoryId,t.next=4,e.initFirstPage(void 0,r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},r.a.createElement(y.a.Item,{key:t.index},t.name),r.a.createElement(y.a.Item,{key:a.index},a.name),r.a.createElement(y.a.Item,{key:n.index},n.name),r.a.createElement(y.a.Item,{key:i.index},i.name),r.a.createElement(y.a.Item,{key:o.index},o.name),r.a.createElement(y.a.Item,{key:c.index},c.name),r.a.createElement(y.a.Item,{key:d.index},d.name))},trigger:["click"]},r.a.createElement(x.a,{size:"small",style:{width:240},onClick:function(e){return e.preventDefault()}},d,r.a.createElement(W.a,null))),r.a.createElement("br",null),r.a.createElement(ne,{size:"small",locale:U.a,bordered:!0,style:{width:320,marginTop:15},placeholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"],inputReadOnly:!0,defaultValue:[q()(n,"YYYY-MM-DD+HH:mm:ss"),q()(i,"YYYY-MM-DD+HH:mm:ss")],showTime:{hideDisabledOptions:!0,defaultValue:[q()("00:00:00","HH:mm:ss"),q()("23:59:59","HH:mm:ss")],showTime:!1,showHour:!1,showMinute:!1,showSecond:!1},onChange:function(e){e||b.b.warning("\u8bf7\u9009\u62e9\u6b63\u786e\u7684\u65e5\u671f!")},onOk:function(){var t=Object(l.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a.length>=2)){t.next=3;break}return t.next=3,e.initFirstPage(void 0,void 0,a[0]?a[0].format("YYYY-MM-DD"):void 0,a[1]?a[1].format("YYYY-MM-DD"):void 0);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),r.a.createElement("br",null),r.a.createElement(ae,{style:{width:280,marginTop:15},size:"small",placeholder:"\u8f93\u5165\u5546\u54c1\u540d\u79f0\u540e\u67e5\u8be2",enterButton:"\u67e5\u8be2",onSearch:function(){var t=Object(l.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.initFirstPage(void 0,void 0,void 0,void 0,a);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),value:this.state.keyword,onChange:function(t){var a=t.target.value;e.setState({keyword:a})}})),footer:r.a.createElement("div",{style:{height:100,textAlign:"center",fontSize:14,fontWeight:"lighter"}},"\u5f2f\u9ea6--\u5fc3\u91cc\u6ee1\u6ee1\u90fd\u662f\u4f60"),renderItem:function(t){var a=e.state.listData.indexOf(t),n="gray";0===a?n="orange":1===a?n="green":2===a&&(n="red");var i="-"!==t.specification?" | "+t.specification:"",o=""!==t.category?" | "+t.category:"";return r.a.createElement(v.b.Item,null,r.a.createElement("div",{style:{width:30,height:30,backgroundColor:n,color:"white",fontSize:14,fontWeight:"bold",textAlign:"center",marginRight:15,marginLeft:15,borderRadius:10}},r.a.createElement("div",{style:{marginTop:3}},a+1)),r.a.createElement(v.b.Item.Meta,{title:r.a.createElement("div",null,r.a.createElement("span",{style:{fontSize:16}},t.name),r.a.createElement("span",{style:{fontSize:12}},i),r.a.createElement("span",{style:{fontSize:10}},o)),description:r.a.createElement("div",null,r.a.createElement("div",{style:{color:"coral",fontSize:12}},"\u62a5\u635f\u6570\u91cf\uff1a".concat(t.discardNumber,"  \u62a5\u635f\u91d1\u989d\uff1a\uffe5").concat(t.diacardMoney)),r.a.createElement("div",{style:{color:"coral",fontSize:12}},"\u9500\u552e\u6570\u91cf\uff1a".concat(t.saleNumber,"  \u9500\u552e\u91d1\u989d\uff1a\uffe5").concat(t.saleMoney)),r.a.createElement("div",{style:{color:"darkred",fontSize:16}},"\u62a5\u635f\u7387\uff1a".concat(t.discardProportion," %")))}))}}))}}]),a}(r.a.Component),se=h.a.RangePicker,le=[{index:0,name:"\u5168\u90e8",userId:""},{index:1,name:"\u6559\u80b2\u5c40\u5e97",userId:"3995767"},{index:2,name:"\u65e7\u9547\u5e97",userId:"3995771"},{index:3,name:"\u6c5f\u6ee8\u5e97",userId:"4061089"},{index:4,name:"\u6c64\u6cc9\u5e97",userId:"4061092"},{index:5,name:"\u5047\u65e5\u5e97",userId:"4339546"},{index:6,name:"\u72ee\u5934\u5e97",userId:"4359267"},{index:7,name:"\u76d8\u9640\u5e97",userId:"4382444"}],de=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(e){var n;Object(d.a)(this,a);var r=(n=t.call(this,e)).props.query,i=q()().format("YYYY.MM.DD")+"+00:00:00",o=q()().format("YYYY.MM.DD")+"+23:59:59";return r&&(i=r.get("beginDateTime")?r.get("beginDateTime"):i,o=r.get("endDateTime")?r.get("endDateTime"):o),n.state={userId:"",shopIndex:1,listData:[],loading:!1,beginDateTime:i,endDateTime:o},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(l.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.query,a="",t&&t.get("id")&&(a=t.get("id")),e.next=5,this.initFirstPage(a);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initFirstPage",value:function(){var e=Object(l.a)(s.a.mark((function e(t,a,n){var r,i=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=0;case 1:if(!(r<le.length)){e.next=8;break}if(le[r].userId!==t){e.next=5;break}return this.setState({shopIndex:r}),e.abrupt("break",8);case 5:r++,e.next=1;break;case 8:this.setState({userId:void 0!==t?t:this.state.userId,listData:[],loading:!1,beginDateTime:void 0!==a?a:this.state.beginDateTime,endDateTime:void 0!==n?n:this.state.endDateTime},Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.fetchListData();case 2:case"end":return e.stop()}}),e)}))));case 9:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"fetchListData",value:function(){var e=Object(l.a)(s.a.mark((function e(){var t,a,n,r,i,o,c,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.state,a=t.listData,n=t.userId,r=t.beginDateTime,i=t.endDateTime,o=[],this.setState({loading:!0}),e.next=6,T(n,r,i);case 6:(c=e.sent)&&0===c.errCode&&(o=c.list),l=a.concat(o),this.setState({listData:l,loading:!1}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),this.setState({loading:!1});case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.shopIndex,n=t.beginDateTime,i=t.endDateTime,o=le[a].name;return r.a.createElement("div",null,r.a.createElement(v.b,{dataSource:this.state.listData,loading:this.state.loading,locale:{emptyText:"\u6682\u65f6\u6ca1\u6709\u6570\u636e"},header:r.a.createElement("div",{style:{textAlign:"center",fontSize:24,fontWeight:"bold"}},"\u4f18\u60e0\u52b5\u7edf\u8ba1",r.a.createElement("br",null),r.a.createElement(g.a,{overlay:function(){var t=le[0],a=le[1],n=le[2],i=le[3],o=le[4],c=le[5],d=le[6],u=le[7];return r.a.createElement(y.a,{onClick:function(){var t=Object(l.a)(s.a.mark((function t(a){var n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.key,r=le[n].userId,t.next=4,e.initFirstPage(r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},r.a.createElement(y.a.Item,{key:t.index},t.name),r.a.createElement(y.a.Item,{key:a.index},a.name),r.a.createElement(y.a.Item,{key:n.index},n.name),r.a.createElement(y.a.Item,{key:i.index},i.name),r.a.createElement(y.a.Item,{key:o.index},o.name),r.a.createElement(y.a.Item,{key:c.index},c.name),r.a.createElement(y.a.Item,{key:d.index},d.name),r.a.createElement(y.a.Item,{key:u.index},u.name))},trigger:["click"]},r.a.createElement(x.a,{size:"small",style:{width:240},onClick:function(e){return e.preventDefault()}},o,r.a.createElement(W.a,null))),r.a.createElement("br",null),r.a.createElement(se,{size:"small",locale:U.a,bordered:!0,style:{width:320,marginTop:15},placeholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"],inputReadOnly:!0,defaultValue:[q()(n,"YYYY.MM.DD+HH:mm:ss"),q()(i,"YYYY.MM.DD+HH:mm:ss")],showTime:{hideDisabledOptions:!0,defaultValue:[q()("00:00:00","HH:mm:ss"),q()("23:59:59","HH:mm:ss")],showTime:!0,showHour:!1,showMinute:!1,showSecond:!1},onChange:function(e){e||b.b.warning("\u8bf7\u9009\u62e9\u6b63\u786e\u7684\u65e5\u671f!")},onOk:function(){var t=Object(l.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a[0].format("YYYY.MM.DD+HH:mm:ss")),console.log(a[1].format("YYYY.MM.DD+HH:mm:ss")),t.next=4,e.initFirstPage(void 0,a[0]?a[0].format("YYYY.MM.DD+HH:mm:ss"):void 0,a[1]?a[1].format("YYYY.MM.DD+HH:mm:ss"):void 0);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),r.a.createElement("br",null)),footer:r.a.createElement("div",{style:{height:100,textAlign:"center",fontSize:14,fontWeight:"lighter"}},"\u5f2f\u9ea6--\u5fc3\u91cc\u6ee1\u6ee1\u90fd\u662f\u4f60"),renderItem:function(t){var a=e.state.listData.indexOf(t),n="gray";return 0===a?n="orange":1===a?n="green":2===a&&(n="red"),r.a.createElement(v.b.Item,null,r.a.createElement("div",{style:{width:30,height:30,backgroundColor:n,color:"white",fontSize:14,fontWeight:"bold",textAlign:"center",marginRight:15,marginLeft:15,borderRadius:10}},r.a.createElement("div",{style:{marginTop:3}},a+1)),r.a.createElement(v.b.Item.Meta,{title:r.a.createElement("div",null,r.a.createElement("span",{style:{fontSize:16}},t.name)),description:r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("span",{style:{color:"darkred",fontSize:14}},"\u5c5e\u6027\uff1a"),r.a.createElement("span",{style:{color:"darkred",fontSize:12}},"\u9762\u503c\u91d1\u989d\uff1a".concat(t.faceValue," , \u9500\u552e\u4ef7\u683c\uff1a\uffe5").concat(t.salePrice))),r.a.createElement("div",null,r.a.createElement("span",{style:{color:"darkred",fontSize:14}},"\u6838\u9500\uff1a"),r.a.createElement("span",{style:{color:"darkred",fontSize:12}},"\u6570\u91cf\uff1a".concat(t.writeOffNumber," , \u4f18\u60e0\u91d1\u989d\uff1a\uffe5").concat(t.writeOffValue,", \u4ea4\u6613\u91d1\u989d\uff1a\uffe5").concat(t.payValue))),r.a.createElement("div",null,r.a.createElement("span",{style:{color:"gray",fontSize:14}},"\u9500\u552e\uff1a"),r.a.createElement("span",{style:{color:"gray",fontSize:12}},"\u6570\u91cf\uff1a".concat(t.saleNumber," , \u9500\u552e\u91d1\u989d\uff1a\uffe5").concat(t.saleValue))),r.a.createElement("div",null,r.a.createElement("span",{style:{color:"gray",fontSize:14}},"\u975e\u9500\u552e(\u8d60\u9001)\uff1a"),r.a.createElement("span",{style:{color:"gray",fontSize:12}},"\u6570\u91cf\uff1a".concat(t.presentNumber))))}))}}))}}]),a}(r.a.Component),ue=a(388),me=a(155),fe=a(389),pe=a(156),he=a(393),be=a(394),ge=a(395),ye=a(396),xe=a(397),ve=a(398),Ee=a(399),ke=a(400),we=a(401),Ie=a(402),Se=(a(295),p.a.TextArea),Te=p.a.Search,De=ue.a.Text,Oe=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).showCallModal=function(){var e=Object(l.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({callModalVisible:!0,phoneNumToBeCall:"-----------"}),e.next=3,n.getPhoneNumberBy(t);case 3:(a=e.sent)&&n.setState({phoneNumToBeCall:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleCallModalOnOk=function(){n.setState({callModalVisible:!1}),window.location.href="tel:"+n.state.phoneNumToBeCall},n.handleCallModalOnCancel=function(){n.setState({callModalVisible:!1})},n.showMessageModal=function(){var e=Object(l.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({messageModalVisible:!0,phoneNumToBeCall:"-----------"}),e.next=3,n.getPhoneNumberBy(t);case 3:(a=e.sent)&&n.setState({phoneNumToBeCall:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleMessageModalOnOk=Object(l.a)(s.a.mark((function e(){var t,a,r,i,o,c,l,d,u,m;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.setState({messageModalVisible:!1}),t=n.state,a=t.DIYEventList,r=t.whichEventIndexToChoose,i=t.lastMessageItem,!(o=a[r])){e.next=12;break}return c=q()(o.started).utcOffset(8),l=i.couponId,d=i.memberName,u=o._id,e.next=10,H(n.state.phoneNumToBeCall,c.format("MM-DD HH:mm"),l,d,u);case 10:(m=e.sent)&&0===m.errCode?(b.b.info("\u52a0\u5165DIY\u6d3b\u52a8\u540d\u5355\u5e76\u6210\u529f\u53d1\u9001\u77ed\u4fe1"),i.remark=m.remark,n.fetchDIYEventList(),"small"===n.state.DIYEventShowMode&&(n.setState({DIYEventShowMode:"large"}),n.setState({DIYEventShowMode:"small"})),n.forceUpdate()):m?b.b.info(m.errMessage):b.b.info("\u6dfb\u52a0\u5931\u8d25");case 12:case"end":return e.stop()}}),e)}))),n.handleMessageModalOnCancel=function(){n.setState({messageModalVisible:!1})},n.showCreateDIYEventModal=function(){n.setState({createDIYEventModalVisible:!0})},n.showJoinToEventModal=function(){n.setState({joinToEventModalVisible:!0})},n.getPhoneNumberBy=function(){var e=Object(l.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="",e.next=3,M(t);case 3:return 0===(n=e.sent).errCode&&1===n.list.length&&(r=n.list[0].phoneNum,a=r),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleCreateDIYEventModalOnOk=Object(l.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({createDIYEventModalVisible:!1}),t=n.state.eventTime4createDIY,e.next=4,j(t);case 4:a=e.sent,console.log(a),0!==a.errCode?b.b.error(a.errMessage):(b.b.info("\u521b\u5efaDIY\u6d3b\u52a8\u6210\u529f\uff01"),n.fetchDIYEventList(!1));case 7:case"end":return e.stop()}}),e)}))),n.handleCreateDIYEventModalOnCancel=function(){n.setState({createDIYEventModalVisible:!1})},n.handleCreateDIYEventDayOnOk=function(e){n.setState({eventTime4createDIY:e})},n.handleDeleteDIY=function(){var e=Object(l.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t);case 2:if(!(a=e.sent)||0!==a.errCode){e.next=6;break}return e.next=6,n.fetchDIYEventList(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleJoinToEventModalOnOk=Object(l.a)(s.a.mark((function e(){var t,a,r,i,o,c,l,d,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({joinToEventModalVisible:!1}),t=n.state,a=t.lastJoinToEventItem,r=t.whichEventIndexToChoose,i=t.DIYEventList,o=a.couponId,c=a.memberName,l=i[r],d=l._id,e.next=8,A(o,c,d);case 8:(u=e.sent)&&0===u.errCode?(b.b.info("\u6d3b\u52a8\u52a0\u5165\u6210\u529f"),n.fetchDIYEventList(),a.remark=u.remark,"small"===n.state.DIYEventShowMode&&(n.setState({DIYEventShowMode:"large"}),n.setState({DIYEventShowMode:"small"})),n.forceUpdate()):u?b.b.info(u.errMessage):b.b.info("\u6dfb\u52a0\u5931\u8d25");case 10:case"end":return e.stop()}}),e)}))),n.handleJoinToEventModalOnCancel=function(){n.setState({joinToEventModalVisible:!1})},n.state={pageIndex:1,total:1,listData:[],loading:!1,callModalVisible:!1,phoneNumToBeCall:"",messageModalVisible:!1,lastCallItem:void 0,lastMessageItem:void 0,lastSaveItem:void 0,lastJoinToEventItem:void 0,keyword:"",createDIYEventModalVisible:!1,eventTime4createDIY:q()().set("second",0).set("millisecond",0),DIYEventList:[],DIYEventShowMode:"large",whichEventIndexToChoose:0,joinToEventModalVisible:!1},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(l.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R();case 2:(t=e.sent)&&0===t.errCode&&(a=t.page,this.fetchListDataByPage(a)),this.fetchDIYEventList(!0);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchDIYEventList",value:function(){var e=Object(l.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,z();case 3:(n=e.sent)&&0===n.errCode&&(a=n.list),this.setState({DIYEventList:a});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchListDataByPage",value:function(){var e=Object(l.a)(s.a.mark((function e(t){var a,n=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a=this.state.keyword,this.setState({listData:[],pageIndex:t},Object(l.a)(s.a.mark((function e(){var r,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],i=1,n.setState({loading:!0}),e.next=5,N(t,10,a);case 5:(o=e.sent)&&0===o.errCode&&(r=o.list,i=o.total),n.setState({listData:r,loading:!1,total:i});case 8:case"end":return e.stop()}}),e)}))))}catch(r){this.setState({loading:!1})}case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.listData,n=t.pageIndex,i=t.total,o=t.loading,c=t.phoneNumToBeCall,d=t.lastCallItem,u=t.lastMessageItem,m=t.lastSaveItem,f=t.lastJoinToEventItem,p=t.DIYEventList,g=t.DIYEventShowMode,y=t.whichEventIndexToChoose,E="-----------"===c,k="-----------"===c||p.length<=0,w=p.length<=0,I=q()();if(p.length>0&&y>=0&&y<p.length){var S=p[y];S&&(I=q()(S.started).utcOffset(8))}var T=0;return p.forEach((function(e){e.participants&&(T+=e.participants.length)})),r.a.createElement("div",null,r.a.createElement("div",{style:{position:"fixed",zIndex:5,fontSize:12,fontWeight:"bold",width:"100%",background:"rgba(136,136,136,0.95)"}},r.a.createElement("div",{style:{marginTop:4,marginLeft:6,fontSize:24}},"DIY\u6d3b\u52a8\u9884\u7ea6"),r.a.createElement(Te,{style:{width:240,marginTop:4,marginLeft:6,marginBottom:4},size:"middle",placeholder:"\u5238\u53f7/\u4f1a\u5458\u53f7/\u4f1a\u5458\u59d3\u540d",enterButton:"\u67e5\u8be2",onSearch:Object(l.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.fetchListDataByPage(1);case 1:case"end":return t.stop()}}),t)}))),value:this.state.keyword,onChange:function(t){var a=t.target.value;e.setState({keyword:a})}}),r.a.createElement(me.a,{style:{marginTop:4,marginLeft:6,marginBottom:12},onChange:function(t){e.fetchListDataByPage(t),F(t)},showQuickJumper:!0,showSizeChanger:!1,defaultCurrent:1,current:n,pageSize:10,total:i})),"small"===g?r.a.createElement("div",{style:{position:"fixed",zIndex:5,fontSize:12,bottom:0,right:0,background:"rgba(136,136,136,0.9)",borderRadius:10}},r.a.createElement(x.a,{size:"small",shape:"round",style:{marginLeft:4,marginTop:4,marginRight:4,marginBottom:4},icon:r.a.createElement(he.a,null),onClick:function(){e.setState({DIYEventShowMode:"large"})}},r.a.createElement("span",null,"\u67e5\u770bDIY\u6d3b\u52a8"),r.a.createElement("span",{style:{marginLeft:4,width:22,height:22,backgroundColor:"orange",borderRadius:11},className:"animaToBig"},T))):r.a.createElement("div",{style:{position:"fixed",zIndex:5,fontSize:12,bottom:0,right:0,background:"rgba(136,136,136,0.98)",borderRadius:10}},r.a.createElement(v.b,{size:"small",locale:{emptyText:"\u6ca1\u6709DIY\u6d3b\u52a8\uff0c\u8bf7\u521b\u5efa"},dataSource:p,renderItem:function(t){var a=q()(t.started).utcOffset(8).format("YYYY-MM-DD dddd HH:mm"),n=t.participants.length;return r.a.createElement(v.b.Item,null,r.a.createElement("div",{style:{marginLeft:-10,marginRight:0},className:"animaToBig"},r.a.createElement(x.a,{size:"small",onClick:function(){void 0!==t.fold?t.fold=!t.fold:t.fold=!0,e.forceUpdate()}},r.a.createElement("span",null,a),r.a.createElement("span",{style:{marginLeft:4,width:22,height:22,backgroundColor:"orange",borderRadius:11}},n)),t.fold?r.a.createElement("div",{style:{textAlign:"center",color:"green",fontSize:12}},"\u70b9\u51fb\u4e0a\u65b9\u6807\u9898\u5c55\u5f00\u540d\u5355"):r.a.createElement(v.b,{split:!1,size:"small",style:{width:196,marginTop:2},grid:{column:2,gutter:0},locale:{emptyText:"\u6ca1\u6709\u53c2\u52a0\u8005\uff0c\u8bf7\u9080\u8bf7"},dataSource:t.participants,renderItem:function(a){var n=t.participants.indexOf(a);return r.a.createElement(v.b.Item,{style:{background:"gray",margin:2},extra:r.a.createElement("div",null,r.a.createElement(x.a,{shape:"circle",danger:!0,style:{marginLeft:-16},size:"small",disabled:!0},n+1),r.a.createElement(x.a,{danger:!0,style:{marginLeft:20},size:"small",icon:r.a.createElement(be.a,null),onClick:Object(l.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:fe.a.confirm({style:{top:0},title:"\u662f\u5426\u5220\u9664",content:"\u5220\u9664\u4f1a\u4eceDIY\u6d3b\u52a8\u540d\u5355\u4e2d\u79fb\u9664\u8be5\u4f1a\u5458",okText:"\u786e\u8ba4\u5220\u9664",cancelText:"\u53d6\u6d88",onOk:function(){var t=Object(l.a)(s.a.mark((function t(){var n,r,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.couponId,r=a.memberName,i=a.eventId,t.next=5,B(n,r,i);case 5:return t.next=7,e.fetchDIYEventList(!1);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()});case 1:case"end":return t.stop()}}),t)})))})),className:"animaToBig"},r.a.createElement(v.b.Item.Meta,{title:r.a.createElement("div",{style:{marginTop:-4,marginBottom:-4}},r.a.createElement(De,{style:{color:"white",fontSize:12,width:94,marginLeft:-12},ellipsis:!0},a.memberName))}))}})),r.a.createElement("div",null,r.a.createElement(x.a,{size:"small",danger:!0,icon:r.a.createElement(ge.a,null),style:{marginLeft:2,marginRight:10},onClick:function(){fe.a.confirm({style:{top:0},icon:r.a.createElement(ye.a,null),title:"\u662f\u5426\u5220\u9664",content:r.a.createElement("div",null,"\u5220\u9664\u4f1a\u76f8\u5e94\u89e3\u6563",r.a.createElement("span",{style:{color:"red"}},a),"\u7684DIY\u6d3b\u52a8?"),okText:"\u786e\u8ba4\u5220\u9664",cancelText:"\u53d6\u6d88",onOk:function(){e.handleDeleteDIY(t._id)}})}})))},header:r.a.createElement("div",{style:{textAlign:"center",fontSize:12,color:"white",height:10}},"DIY\u6d3b\u52a8\u5217\u8868",r.a.createElement(x.a,{style:{position:"absolute",right:4,top:6},type:"dashed",shape:"circle",size:"small",icon:r.a.createElement(xe.a,null),onClick:function(){e.setState({DIYEventShowMode:"small"})}})),footer:r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(x.a,{icon:r.a.createElement(ve.a,null),shape:"round",style:{marginBottom:0},size:"small",onClick:function(){e.showCreateDIYEventModal()}},"\u521b\u5efaDIY\u6d3b\u52a8"))})),r.a.createElement(v.b,{size:"small",locale:{emptyText:"\u6682\u65f6\u6ca1\u6709\u6570\u636e"},loading:o,header:r.a.createElement("div",{style:{height:110}}),footer:r.a.createElement("div",{style:{height:40,textAlign:"center",fontSize:14,fontWeight:"lighter"}},"\u5f2f\u9ea6--\u5fc3\u91cc\u6ee1\u6ee1\u90fd\u662f\u4f60"),dataSource:a,renderItem:function(t){var a="-"!==t.couponWriteOffTime,n=d===t,i=m===t,o=u===t,c=f===t;return r.a.createElement(v.b.Item,{key:t.serialNumber},r.a.createElement("div",{style:{width:20,height:20,backgroundColor:"crimson",color:"white",fontSize:12,fontWeight:"bold",textAlign:"center",marginRight:6,marginLeft:6,borderRadius:4}},r.a.createElement("div",{style:{marginTop:1}},r.a.createElement("span",null,t.serialNumber))),r.a.createElement(v.b.Item.Meta,{title:r.a.createElement("div",null,r.a.createElement("span",{style:{color:"black",fontSize:14}},"\u5238\u7f16\u53f7\uff1a"),r.a.createElement("span",{style:{color:"black",fontSize:12}},t.couponId)),description:r.a.createElement("div",null,r.a.createElement("div",{style:{marginTop:-10}},r.a.createElement("span",{style:{color:"gray",fontSize:12}},"\u5236\u5238:"),r.a.createElement("span",{style:{color:"gray",fontSize:10}},"".concat(t.couponCreateTime))),r.a.createElement("div",{style:{marginTop:-8}},r.a.createElement("span",{style:{color:"gray",fontSize:12}},"\u4f7f\u7528:"),r.a.createElement("span",{style:{color:"gray",fontSize:10}},"".concat(t.couponWriteOffTime))),r.a.createElement("div",{style:{marginTop:-8}},r.a.createElement("span",{style:{color:"gray",fontSize:12}},"\u540d\u5b57:"),r.a.createElement(De,{ellipsis:!0,style:{color:"crimson",fontSize:10,width:100}},"".concat(t.memberName))),r.a.createElement("div",{style:{marginTop:-8}},r.a.createElement("span",{style:{color:"gray",fontSize:12}},"\u72b6\u6001:"),r.a.createElement("span",{style:{color:"crimson",fontSize:10}},"".concat(t.couponStatus))),r.a.createElement(x.a,{type:"primary",icon:r.a.createElement(Ee.a,null),shape:"circle",danger:n,onClick:function(){e.setState({lastCallItem:t}),e.showCallModal(t.memberId)},disabled:a}),r.a.createElement("span",null," "),r.a.createElement(x.a,{type:"primary",icon:r.a.createElement(ke.a,null),shape:"circle",danger:c,onClick:function(){e.setState({lastJoinToEventItem:t}),e.showJoinToEventModal()},disabled:a}),r.a.createElement("span",null," "),r.a.createElement(x.a,{type:"primary",icon:r.a.createElement(we.a,null),shape:"circle",danger:o,onClick:function(){e.setState({lastMessageItem:t}),e.showMessageModal(t.memberId)},disabled:a}))}),r.a.createElement("div",{style:{marginRight:10}},r.a.createElement("div",null,"\u5907\u6ce8\uff1a"),r.a.createElement(Se,{value:t.remark,onChange:function(a){var n=a.target.value;t.remark=n,e.forceUpdate()},disabled:a,style:{width:180},placeholder:"\u8fd9\u91cc\u8f93\u5165\u5907\u6ce8",autoSize:{minRows:2}}),r.a.createElement("br",null),r.a.createElement(x.a,{type:"primary",icon:r.a.createElement(Ie.a,null),disabled:a,danger:i,onClick:Object(l.a)(s.a.mark((function a(){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e.setState({lastSaveItem:t}),a.next=3,Y(t.couponId,t.remark);case 3:0===a.sent.errCode?b.b.success("\u5df2\u7ecf\u4fdd\u5b58"):b.b.warning("\u4fdd\u5b58\u5931\u8d25");case 5:case"end":return a.stop()}}),a)}))),style:{marginTop:2}},"\u4fdd\u5b58\u5907\u6ce8")))}}),r.a.createElement(fe.a,{style:{top:0},title:"\u62e8\u6253\u7535\u8bdd",visible:this.state.callModalVisible,onOk:this.handleCallModalOnOk,onCancel:this.handleCallModalOnCancel,okText:"\u786e\u8ba4\u62e8\u6253",cancelText:"\u53d6\u6d88",closable:!0,okButtonProps:{disabled:E},cancelButtonProps:{disabled:E}},r.a.createElement("div",null,r.a.createElement("span",null,"\u4f1a\u5458\u7535\u8bdd\u4e3a\uff1a"),r.a.createElement("span",{style:{color:"red"}},c),r.a.createElement("span",null,"\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u62e8\u6253\uff1f"))),r.a.createElement(fe.a,{style:{top:0},title:"\u53d1\u9001\u77ed\u4fe1",visible:this.state.messageModalVisible,onOk:this.handleMessageModalOnOk,onCancel:this.handleMessageModalOnCancel,okText:"\u6dfb\u52a0\u5230\u540d\u5355\u4e2d\u5e76\u53d1\u9001\u77ed\u4fe1",cancelText:"\u53d6\u6d88",closable:!0,okButtonProps:{disabled:k},cancelButtonProps:{disabled:k}},p.length>0?r.a.createElement("div",null,r.a.createElement("span",{style:{fontSize:16}},"\u4f1a\u5458\u7535\u8bdd\u4e3a\uff1a"),r.a.createElement("span",{style:{color:"red"}},c),r.a.createElement("br",null),r.a.createElement("span",{style:{fontSize:16}},"\u77ed\u4fe1\u6a21\u677f\u4e3a\uff1a"),r.a.createElement("span",null,"\u3010\u5f2f\u9ea6\u70d8\u7119\u3011\u60a8\u5df2\u6210\u529f\u9884\u7ea6DIY\u6d3b\u52a8\uff0c\u6d3b\u52a8\u65f6\u95f4\uff1a"),r.a.createElement("span",{style:{color:"green",textDecoration:"underline"}},"".concat(I.format("MM-DD HH:mm"))),r.a.createElement("span",null,"\uff0c\u8bf7\u63d0\u524d10\u5206\u949f\u5230\u8fbe\uff0c\u5982\u53d8\u66f4\u8bf7\u63d0\u524d\u4e00\u5929\u62e8\u625313290768588\u3002"),r.a.createElement("br",null),r.a.createElement("span",{style:{fontSize:16}},"\u6d3b\u52a8\u65f6\u95f4\u4e3a\uff1a"),r.a.createElement(pe.a.Group,{name:"radiogroup",defaultValue:0,value:y,onChange:function(t){var a=t.target.value;e.setState({whichEventIndexToChoose:a})}},p.map((function(e){var t=q()(e.started).utcOffset(8).format("YYYY-MM-DD dddd HH:mm"),a=p.indexOf(e);return r.a.createElement(pe.a,{key:a,value:a},t)}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("span",null,"\u53d1\u9001\u6b63\u6587\u77ed\u6d88\u606f\u7ed9\u4f1a\u5458\uff0c\u662f\u5426\u53d1\u9001\uff1f")):r.a.createElement("div",null,"\u8fd8\u672a\u521b\u5efaDIY\u6d3b\u52a8\uff0c\u8bf7\u5148\u53f3\u4e0b\u89d2\u521b\u5efaDIY\u6d3b\u52a8\u518d\u53d1\u9001\u77ed\u4fe1\u3002")),r.a.createElement(fe.a,{style:{top:0},title:"\u521b\u5efaDIY\u6d3b\u52a8",visible:this.state.createDIYEventModalVisible,onOk:this.handleCreateDIYEventModalOnOk,onCancel:this.handleCreateDIYEventModalOnCancel,okText:"\u786e\u8ba4\u521b\u5efa",cancelText:"\u53d6\u6d88",closable:!0},r.a.createElement("div",null,r.a.createElement("span",null,"\u6d3b\u52a8\u65f6\u95f4\uff1a"),r.a.createElement(h.a,{format:"MM-DD dddd HH:mm",showTime:{format:"HH:mm"},value:this.state.eventTime4createDIY,onOk:this.handleCreateDIYEventDayOnOk}),r.a.createElement("div",{style:{marginTop:10}},r.a.createElement("span",null,"\u5feb\u6377\u8bbe\u7f6e\uff1a"),r.a.createElement("span",null,r.a.createElement(x.a,{style:{marginLeft:8,marginTop:8},type:"dashed",danger:!0,onClick:function(){var t=q()().endOf("week").subtract(1,"days").set("hour",15).set("minute",30).set("second",0).set("millisecond",0);e.setState({eventTime4createDIY:t})}},"\u672c\u5468\u516d15:30"),r.a.createElement(x.a,{style:{marginLeft:8,marginTop:8},type:"dashed",danger:!0,onClick:function(){var t=q()().endOf("week").set("hour",15).set("minute",30).set("second",0).set("millisecond",0);e.setState({eventTime4createDIY:t})}},"\u672c\u5468\u65e515:30"),r.a.createElement(x.a,{style:{marginLeft:8,marginTop:8},type:"dashed",danger:!0,onClick:function(){var t=q()().add(7,"days").endOf("week").subtract(1,"days").set("hour",15).set("minute",30).set("second",0).set("millisecond",0);e.setState({eventTime4createDIY:t})}},"\u4e0b\u5468\u516d15:30"),r.a.createElement(x.a,{style:{marginLeft:8,marginTop:8},type:"dashed",danger:!0,onClick:function(){var t=q()().add(7,"days").endOf("week").set("hour",15).set("minute",30).set("second",0).set("millisecond",0);e.setState({eventTime4createDIY:t})}},"\u4e0b\u5468\u65e515:30"))))),r.a.createElement(fe.a,{style:{top:0},title:"\u9009\u62e9\u53c2\u52a0DIY\u6d3b\u52a8",visible:this.state.joinToEventModalVisible,onOk:this.handleJoinToEventModalOnOk,onCancel:this.handleJoinToEventModalOnCancel,okText:"\u786e\u8ba4\u52a0\u5165",cancelText:"\u53d6\u6d88",closable:!0,okButtonProps:{disabled:w},cancelButtonProps:{disabled:w}},p.length>0?r.a.createElement("div",null,r.a.createElement(pe.a.Group,{name:"radiogroup",defaultValue:0,value:y,onChange:function(t){var a=t.target.value;e.setState({whichEventIndexToChoose:a})}},p.map((function(e){var t=q()(e.started).utcOffset(8).format("YYYY-MM-DD dddd HH:mm"),a=p.indexOf(e);return r.a.createElement(pe.a,{key:a,value:a},t)})))):r.a.createElement("div",null,"\u8fd8\u672a\u521b\u5efaDIY\u6d3b\u52a8\uff0c\u8bf7\u5148\u53f3\u4e0b\u89d2\u521b\u5efaDIY\u6d3b\u52a8\u518d\u9009\u62e9\u3002")))}}]),a}(r.a.Component),Ce=a(119),Pe=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).printPreprew=function(){var e=Object(Ce.getLodop)();if(e){e.PRINT_INIT("react\u4f7f\u7528\u6253\u5370\u63d2\u4ef6CLodop");e.SET_PRINT_PAGESIZE(2,0,0,""),e.SET_PREVIEW_WINDOW(0,0,0,1e3,800,""),e.SET_SHOW_MODE("LANDSCAPE_DEFROTATED",1),e.ADD_PRINT_HTM(50,0,"90%",700,"<style>\n                </style> "+document.getElementById("printDiv").innerHTML),e.PREVIEW()}},n.state={dataSource:[]},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(l.a)(s.a.mark((function e(){var t,a,n,r,i,o,c,l,d,u,m,f,p;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=[],(a={}).shopNameTitle="-\u751f\u4ea7\u8f66\u95f4-",a.productionPlanTitle="|15\u53f7\u5f2f\u9ea6\u73b0\u70e4|",a.productNameTitle="\u54c1\u540d",a.productNumber="\u6570\u91cf",n=[],r=0;r<25;r++)(i=[]).push(r+"\u540d"),i.push(r+"\u6570"),n.push(i);for(a.productArray=n,t.push(a),(o={}).shopNameTitle="-\u751f\u4ea7\u8f66\u95f4-",o.productionPlanTitle="|15\u53f7\u5f2f\u9ea6\u73b0\u70e4|",o.productNameTitle="\u54c1\u540d",o.productNumber="\u6570\u91cf",c=[],l=0;l<4;l++)(d=[]).push(l+"\u540d"),d.push(l+"\u6570"),c.push(d);for(o.productArray=c,t.push(o),(u={}).shopNameTitle="-\u751f\u4ea7\u8f66\u95f4-",u.productionPlanTitle="|15\u53f7\u5f2f\u9ea6\u73b0\u70e4|",u.productNameTitle="\u54c1\u540d",u.productNumber="\u6570\u91cf",m=[],f=0;f<10;f++)(p=[]).push(f+"\u540d"),p.push(f+"\u6570"),m.push(p);u.productArray=m,t.push(u),this.setState({dataSource:t});case 29:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.dataSource;return r.a.createElement("div",{style:{marginLeft:10,marginTop:10}},r.a.createElement("div",{id:"printConfig",style:{float:"left",borderStyle:"none",width:90}},r.a.createElement("div",{style:{background:"lightgray",padding:10,fontWeight:"bold"}},"\u70b9\u51fb\u4e0b\u65b9\u6309\u94ae\u6253\u5370\u53f3\u4fa7\u5185\u5bb9"),r.a.createElement("div",null,r.a.createElement(x.a,{type:"primary",style:{width:90,height:80},onClick:this.printPreprew},r.a.createElement("div",{style:{fontWeight:"bold",fontSize:16,textDecoration:"underline"}},"\u6253\u5370\u9884\u89c8"))),r.a.createElement("div",null,r.a.createElement(x.a,{style:{width:90,height:80},onClick:this.printPreprew},r.a.createElement("div",{style:{fontWeight:"bold",fontSize:16,textDecoration:"underline"}},"\u76f4\u63a5\u6253\u5370")))),r.a.createElement("div",{id:"printDiv",style:{float:"left",marginLeft:10,borderStyle:"dashed",width:1380}},r.a.createElement("div",{style:{width:1330,marginTop:50,marginLeft:20}},r.a.createElement("div",{style:{fontSize:15,textAlign:"center"}},"\u751f\u4ea7\u8ba1\u5212\u5355")),r.a.createElement("div",{id:"printTable",style:{marginLeft:20,width:1330}},r.a.createElement("div",{style:{float:"left",marginLeft:0,marginRight:0,height:750,borderStyle:"dotted"}}),e.map((function(e){var t=e.productArray;return r.a.createElement("div",{style:{float:"left",height:800}},r.a.createElement("table",{border:"1",borderCollapse:"collapse",cellSpacing:"1",cellPadding:"2",style:{float:"left"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"2",style:{width:200,textAlign:"center"}},e.productionPlanTitle,r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"2",style:{width:200,textAlign:"center"}},e.shopNameTitle)),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:140,textAlign:"center",fontWeight:"bold"}},e.productNameTitle),r.a.createElement("th",{style:{width:60,textAlign:"center",fontWeight:"bold"}},e.productNumber))))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",null,e.map((function(t){var a=0===e.indexOf(t)?140:60;return r.a.createElement("th",{style:{width:{itemWidth:a},height:20,textAlign:"center"}},t)})))})))),r.a.createElement("div",{style:{float:"left",marginLeft:0,marginRight:0,height:750,borderStyle:"dotted"}}))})))))}}]),a}(r.a.Component),Ne=a(71),Me=a(172),Ye=a(121),je=a(387),ze=a(386),Le=a(209),Ae=a.n(Le),He=a(403),Be=p.a.Search,Fe=h.a.RangePicker,Re=[{index:0,name:"\u5168\u90e8\u95e8\u5e97",userId:""},{index:1,name:"001 - \u5f2f\u9ea6(\u6559\u80b2\u5c40\u5e97)",userId:"3995767"},{index:2,name:"002 - \u5f2f\u9ea6(\u65e7\u9547\u5e97)",userId:"3995771"},{index:3,name:"003 - \u5f2f\u9ea6(\u6c5f\u6ee8\u5e97)",userId:"4061089"},{index:4,name:"004 - \u5f2f\u9ea6(\u6c64\u6cc9\u5e97)",userId:"4061092"},{index:5,name:"005 - \u5f2f\u9ea6(\u5047\u65e5\u5e97)",userId:"4339546"},{index:6,name:"006 - \u5f2f\u9ea6(\u72ee\u5934\u5e97)",userId:"4359267"},{index:7,name:"007 - \u5f2f\u9ea6(\u76d8\u9640\u5e97)",userId:"4382444"}],_e=[{index:0,name:"\u5168\u90e8\u6a21\u677f",templateId:"",templateUid:""},{index:1,name:"\u73b0\u70e4\u7c7b",templateId:"187",templateUid:"1595310806940367327"},{index:2,name:"\u897f\u70b9\u7c7b",templateId:"189",templateUid:"1595397637628133418"},{index:3,name:"\u5e38\u6e29\u7c7b",templateId:"183",templateUid:"1595077654714716554"},{index:4,name:"\u5410\u53f8\u9910\u5305\u7c7b",templateId:"182",templateUid:"1595077405589137749"}],Ve=[{title:"\u5e8f",dataIndex:"key",key:"key",width:40,render:function(e){return r.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u8ba2\u8d27\u5355\u53f7",dataIndex:"orderSerialNumber",key:"orderSerialNumber",width:180,render:function(e){return r.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u8ba2\u8d27\u65f6\u95f4",dataIndex:"orderTime",key:"orderTime",width:150,render:function(e){return r.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u671f\u671b\u5230\u8d27",dataIndex:"expectTime",key:"expectTime",width:100,render:function(e){return r.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u8ba2\u8d27\u5355\u7c7b\u578b",dataIndex:"orderType",key:"orderType",width:140,render:function(e){return r.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u8ba2\u8d27\u6536\u94f6\u5458",dataIndex:"orderCashier",key:"orderCashier",width:120,render:function(e){return r.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u6a21\u677f\u540d\u79f0",dataIndex:"templateName",key:"templateName",width:120,render:function(e){return r.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u8ba2\u8d27\u95e8\u5e97",dataIndex:"orderShop",key:"orderShop",width:180,render:function(e){return r.a.createElement("span",{style:{fontSize:10,color:"red"}},e)}},{title:"\u914d\u8d27\u95e8\u5e97",dataIndex:"prepareShop",key:"prepareShop",width:100,render:function(e){return r.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u72b6\u6001",dataIndex:"status",key:"status",width:100,render:function(e){return r.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u5907\u6ce8",dataIndex:"remark",key:"remark",width:"*",render:function(e){return r.a.createElement("span",{style:{fontSize:10}},e)}}],We=[Re[1].name,Re[2].name,Re[3].name,Re[4].name,Re[5].name,Re[6].name,Re[7].name],Ue=[_e[1].name,_e[2].name,_e[3].name,_e[4].name],Ke={"187-2006251756022":1,"187-2006291720144":2,"187-2007261431428":3,"187-2006261548488":4,"187-2006251720443":5,"187-2007171555580":6,"182-2106241432414":1,"182-2106281603003":2,"182-2106281600071":3,"182-2106281603355":4,"182-2106241433091":5,"182-2106281601535":6,"182-2010291510063":7},qe={"1595310806940367327":[],"1595397637628133418":[],"1595077654714716554":[],"1595077405589137749":[]},Je=[{title:"\u5e8f",dataIndex:"key",key:"key",width:40,render:function(e){return r.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u6761\u5f62\u7801",dataIndex:"barcode",key:"barcode",width:140,render:function(e){return r.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u54c1\u540d",dataIndex:"orderProductName",key:"orderProductName",width:120,render:function(e){return r.a.createElement("span",{style:{fontSize:14,color:"red"}},e)}},{title:"\u914d\u8d27\u91cf",dataIndex:"transferNumber",key:"transferNumber",width:80,editable:!0,render:function(e){return r.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u5206\u7c7b",dataIndex:"categoryName",key:"categoryName",width:120,render:function(e){return r.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u89c4\u683c",dataIndex:"specification",key:"specification",width:120,render:function(e){return r.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u914d\u8d27\u4ef7",dataIndex:"transferPrice",key:"transferPrice",width:140,render:function(e){return r.a.createElement("span",{style:{fontSize:10}},e)}}],Ge=r.a.createContext(null),Ze=function(e){e.index;var t=Object(Ye.a)(e,["index"]),a=je.a.useForm(),n=Object(Me.a)(a,1)[0];return r.a.createElement(je.a,{form:n,component:!1},r.a.createElement(Ge.Provider,{value:n},r.a.createElement("tr",t)))},$e=function(e){var t=e.title,a=e.editable,i=e.children,o=e.dataIndex,c=e.record,d=e.handleEditableCellNextFocus,u=e.handleEditableCellCurrentFocus,m=Object(Ye.a)(e,["title","editable","children","dataIndex","record","handleEditableCellNextFocus","handleEditableCellCurrentFocus"]),f=i,h=Object(n.useRef)(null),b=Object(n.useContext)(Ge);if(c){h&&h.current&&setTimeout((function(){c&&c.editing&&h.current&&h.current.select()}),0);var g=function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.validateFields();case 3:t=e.sent,c[o]=t[o],e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Save failed:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(c);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(a){var x=c[o];f=r.a.createElement(je.a.Item,{style:{margin:0},name:o,rules:[{required:!0,message:"".concat(t," \u8bf7\u8f93\u5165\u6574\u6570."),pattern:/^[0-9]+$/}],initialValue:x},r.a.createElement(p.a,{id:c&&c.key,ref:h,onChange:g,onPressEnter:function(){d()},onFocus:y}))}}return r.a.createElement("td",m,f)},Qe=r.a.createContext(null),Xe=function(e){e.index;var t=Object(Ye.a)(e,["index"]),a=je.a.useForm(),n=Object(Me.a)(a,1)[0];return r.a.createElement(je.a,{form:n,component:!1},r.a.createElement(Qe.Provider,{value:n},r.a.createElement("tr",t)))},et=function(e){var t=e.title,a=e.editable,i=e.children,o=e.dataIndex,c=e.record,d=e.handleEditableCellNextFocus,u=e.handleEditableCellCurrentFocus,m=Object(Ye.a)(e,["title","editable","children","dataIndex","record","handleEditableCellNextFocus","handleEditableCellCurrentFocus"]),f=i,h=Object(n.useRef)(null),b=Object(n.useContext)(Qe);if(c){h&&h.current&&setTimeout((function(){c&&c.editing&&h.current&&h.current.select()}),0);var g=function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.validateFields();case 3:t=e.sent,c[o]=t[o],e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Save failed:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(c);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=c[o];a&&(f=r.a.createElement(je.a.Item,{style:{margin:0},name:o,rules:[{required:!0,message:"".concat(t," \u8bf7\u8f93\u5165\u6574\u6570."),pattern:/^[0-9]+$/}],initialValue:x},r.a.createElement(p.a,{id:c&&c.key,ref:h,disabled:c.disabledInput,onChange:g,onPressEnter:function(){d()},onFocus:y})))}return r.a.createElement("td",m,f)},tt=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(e){var n;Object(d.a)(this,a),(n=t.call(this,e)).productPrintPreprew=function(){var e=Object(Ce.getLodop)();if(e){e.PRINT_INIT("react\u4f7f\u7528\u6253\u5370\u63d2\u4ef6CLodop");e.SET_PRINT_PAGESIZE(2,0,0,""),e.SET_PREVIEW_WINDOW(0,0,0,1e3,800,""),e.SET_SHOW_MODE("LANDSCAPE_DEFROTATED",1),e.ADD_PRINT_HTM(0,0,"100%","100%","<style>\n                </style> "+document.getElementById("printDiv").innerHTML),e.PREVIEW()}},n.productPrintDirect=function(){var e=Object(Ce.getLodop)();if(e){e.PRINT_INIT("react\u4f7f\u7528\u6253\u5370\u63d2\u4ef6CLodop");e.SET_PRINT_PAGESIZE(2,0,0,""),e.SET_PREVIEW_WINDOW(0,0,0,1e3,800,""),e.SET_SHOW_MODE("LANDSCAPE_DEFROTATED",1),e.ADD_PRINT_HTM(0,0,"100%","100%","<style>\n                </style> "+document.getElementById("printDiv").innerHTML),e.PRINT()}},n.fetchOrderList=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n.setState({alreadyOrderListData:[],alreadyOrderLoading:!0,selectedRowKeys:[]},Object(l.a)(s.a.mark((function e(){var t,a,r,i,o,c,l,d,u,m,f,p,h,b;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state,a=t.currentShop,r=t.currentTemplate,i=t.beginDateTime,o=t.endDateTime,c=[],l=[],d=We,u=Ue,m=i.format("YYYY.MM.DD%2BHH:mm:ss"),f=o.format("YYYY.MM.DD%2BHH:mm:ss"),e.next=10,D(a.userId,r.templateId,m,f);case 10:(p=e.sent)&&0===p.errCode&&(c=(c=p.list).sort((function(e,t){return e.orderShopIndex-t.orderShopIndex})),h=[],b=[],c.forEach((function(e){e.key=c.indexOf(e)+1,l.push(e.key),-1===h.indexOf(e.orderShop)&&h.push(e.orderShop),-1===b.indexOf(e.templateName)&&b.push(e.templateName)})),d=[],We.forEach((function(e){-1===h.indexOf(e)&&d.push(e)})),u=[],Ue.forEach((function(e){-1===b.indexOf(e)&&u.push(e)}))),n.setState({alreadyOrderListData:c,selectedRowKeys:l,alreadyOrderLoading:!1,noyetOrderShops:d,noyetOrderTemplates:u});case 13:case"end":return e.stop()}}),e)}))))}catch(t){n.setState({alreadyOrderLoading:!1})}case 1:case"end":return e.stop()}}),e)}))),n.onOrderItemSelectChange=function(e){n.setState({selectedRowKeys:e})},n.handleProductionPrint=function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({productionButtonText:"\u51c6\u5907\u6253\u5370..."},Object(l.a)(s.a.mark((function e(){var t,a,r,i,o,c,l,d,u,m,f,p,h,g,y,x,v,E,k,w,I,S,T,D,C,P,N,M,Y,j,z,L,A,H,B,F,R,_,V,W,U,K,q,J,G,Z,$,Q,X,ee,te,ae,ne,re,ie,oe,ce,se,le,de,ue;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],a=n.state,r=a.alreadyOrderListData,i=a.currentTemplate,o=a.selectedRowKeys,n.setState({productionButtonText:"\u51c6\u5907\u83b7\u53d6..."}),c=0;case 4:if(!(c<r.length)){e.next=61;break}if(!(l=r[c])){e.next=58;break}if(-1!==o.indexOf(l.key)){e.next=9;break}return e.abrupt("continue",58);case 9:return n.setState({productionButtonText:"\u83b7\u53d6"+l.orderShop+"..."}),e.next=12,O(l.orderId);case 12:if(0!==(d=e.sent).errCode||!d.items){e.next=55;break}u=!1,m=void 0,m=0;case 17:if(!(m<t.length)){e.next=24;break}if(t[m].orderShop!==l.orderShop||t[m].templateName!==l.templateName){e.next=21;break}return u=!0,e.abrupt("break",24);case 21:++m,e.next=17;break;case 24:if(!u){e.next=46;break}f=t[m].items,p=d.items,h=0;case 28:if(!(h<p.length)){e.next=44;break}g=p[h],y=-1,x=0;case 32:if(!(x<f.length)){e.next=40;break}if(f[x].barcode!==g.barcode){e.next=37;break}return y=x,e.abrupt("break",40);case 37:++x,e.next=32;break;case 40:-1!==y?(v=f[y].orderNumber+g.orderNumber,f[y].orderNumber=v):(E=Object(Ne.a)({},g),f.push(E));case 41:++h,e.next=28;break;case 44:e.next=53;break;case 46:for((k={}).orderShop=l.orderShop,k.templateName=l.templateName,k.expectTime=l.expectTime,k.items=d.items,w=0;w<d.items.length;++w)I=i.templateId+"-"+d.items[w].barcode,S=Ke[I],d.items[w].sortId=S||200;t.push(k);case 53:e.next=58;break;case 55:return t=[],b.b.error("\u83b7\u53d6<"+l.orderShop+">\u8ba2\u8d27\u4ea7\u54c1\u51fa\u9519\uff0c\u8bf7\u68c0\u67e5\uff01"),e.abrupt("break",61);case 58:++c,e.next=4;break;case 61:n.setState({productionButtonText:"\u5408\u5e76\u81f3\u751f\u4ea7\u8f66\u95f4..."}),(T={}).orderShop="000 - \u5f2f\u9ea6(\u751f\u4ea7\u8f66\u95f4)",T.templateName=i.name,t&&t.length>0&&(T.expectTime=t[0].expectTime),D=[],C=0;case 68:if(!(C<t.length)){e.next=90;break}P=t[C].items,N=0;case 71:if(!(N<P.length)){e.next=87;break}M=P[N],Y=M.barcode,j=-1,z=0;case 76:if(!(z<D.length)){e.next=83;break}if(D[z].barcode!==Y){e.next=80;break}return j=z,e.abrupt("break",83);case 80:++z,e.next=76;break;case 83:-1!==j?(L=D[j].orderNumber+M.orderNumber,D[j].orderNumber=L):(A=Object(Ne.a)({},M),D.push(A));case 84:++N,e.next=71;break;case 87:++C,e.next=68;break;case 90:return H=D,e.next=93,n.findTemplateCache(i.templateUid);case 93:if(!(0===(B=e.sent).errCode&&B.list.length>0)){e.next=114;break}F=B.list,H=[],R=0;case 98:if(!(R<F.length)){e.next=114;break}_=-1,V=0;case 101:if(!(V<D.length)){e.next=108;break}if(F[R].barcode!==D[V].barcode){e.next=105;break}return _=V,e.abrupt("break",108);case 105:++V,e.next=101;break;case 108:W={},-1!==_?(W.categoryName=D[_].categoryName,W.orderProductName=D[_].orderProductName,W.barcode=D[_].barcode,W.barcodeSimple=D[_].barcodeSimple,W.sortId=D[_].sortId,W.orderNumber=D[_].orderNumber):(W.categoryName=F[R].categoryName,W.orderProductName=F[R].name,W.barcode=F[R].barcode,W.barcodeSimple=F[R].barcodeSimple,U=i.templateId+"-"+W.barcode,K=Ke[U],W.sortId=K||200,W.orderNumber=0),H.push(W);case 111:++R,e.next=98;break;case 114:q=[],J=0;case 116:if(!(J<H.length)){e.next=131;break}G=H[J],Z=-1,$=q.length-1;case 120:if(!($>=0)){e.next=127;break}if(q[$].categoryName!==G.categoryName){e.next=124;break}return Z=$,e.abrupt("break",127);case 124:--$,e.next=120;break;case 127:-1!==Z?q.splice(Z+1,0,G):q.push(G);case 128:++J,e.next=116;break;case 131:q=q.sort((function(e,t){return e.sortId-t.sortId})),T.items=q,t.unshift(T),Q=[],X=0;case 136:if(!(X<t.length)){e.next=174;break}if("000 - \u5f2f\u9ea6(\u751f\u4ea7\u8f66\u95f4)"!==(ee=t[X]).orderShop){e.next=141;break}return Q.push(ee),e.abrupt("continue",171);case 141:(te={}).orderShop=ee.orderShop,te.templateName=ee.templateName,te.expectTime=ee.expectTime,te.items=[],ae=0;case 147:if(!(ae<T.items.length)){e.next=170;break}if(!(ne=T.items[ae])){e.next=167;break}(re={}).categoryName=ne.categoryName,re.orderProductName=ne.orderProductName,re.barcode=ne.barcode,re.barcodeSimple=ne.barcodeSimple,re.sortId=ne.sortId,re.orderNumber=0,ie=0;case 158:if(!(ie<ee.items.length)){e.next=166;break}if(oe=ee.items[ie],re.barcode!==oe.barcode){e.next=163;break}return re.orderNumber=oe.orderNumber,e.abrupt("break",166);case 163:++ie,e.next=158;break;case 166:te.items.push(re);case 167:++ae,e.next=147;break;case 170:Q.push(te);case 171:++X,e.next=136;break;case 174:for(ce=[],se=0;se<Q.length;++se)for(le=Q[se].items,de=0;de<le.length;++de)de%29===0&&((ue={}).orderShop=Q[se].orderShop,ue.templateName=Q[se].templateName,ue.expectTime=Q[se].expectTime,ue.items=[],ce.push(ue)),ce[ce.length-1].items.push(le[de]);n.setState({productionButtonText:"\u6253\u5370\u751f\u4ea7\u5355",allProductionDataToBePrint:ce});case 177:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleDistributionPrint=function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({distributionButtonText:"\u51c6\u5907\u6253\u5370..."},Object(l.a)(s.a.mark((function e(){var t,a,r,i,o,c,l,d,u,m,f,p,h,g,y,x,v,E,k,w,I,S,T,D,C,P,N,M,Y,j,z,L,A,H,B,F,R,_,V,W,U,K,q,J,G,Z,$,Q;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],a=n.state,r=a.alreadyOrderListData,i=a.selectedRowKeys,n.setState({distributionButtonText:"\u51c6\u5907\u83b7\u53d6..."}),o=0;case 4:if(!(o<r.length)){e.next=72;break}if(!(c=r[o])){e.next=69;break}if(-1!==i.indexOf(c.key)){e.next=9;break}return e.abrupt("continue",69);case 9:return n.setState({distributionButtonText:"\u83b7\u53d6"+c.templateName+"..."}),e.next=12,O(c.orderId);case 12:if(0!==(l=e.sent).errCode||!l.items){e.next=66;break}d=-1,u=0;case 16:if(!(u<_e.length)){e.next=23;break}if(_e[u].name!==c.templateName){e.next=20;break}return d=u,e.abrupt("break",23);case 20:++u,e.next=16;break;case 23:if(-1!==d){e.next=25;break}return e.abrupt("return");case 25:m=!1,f=void 0,f=0;case 28:if(!(f<t.length)){e.next=35;break}if(t[f].orderShop!==c.orderShop||t[f].templateName!==c.templateName){e.next=32;break}return m=!0,e.abrupt("break",35);case 32:++f,e.next=28;break;case 35:if(!m){e.next=57;break}p=t[f].items,h=l.items,g=0;case 39:if(!(g<h.length)){e.next=55;break}y=h[g],x=-1,v=0;case 43:if(!(v<p.length)){e.next=51;break}if(p[v].barcode!==y.barcode){e.next=48;break}return x=v,e.abrupt("break",51);case 48:++v,e.next=43;break;case 51:-1!==x?(E=p[x].orderNumber+y.orderNumber,p[x].orderNumber=E):((k={}).categoryName=y.categoryName,k.orderProductName=y.orderProductName,k.barcode=y.barcode,k.barcodeSimple=y.barcodeSimple,k.orderNumber=y.orderNumber,k.sortId=y.sortId,p.push(k));case 52:++g,e.next=39;break;case 55:e.next=64;break;case 57:for((w={}).orderShop=c.orderShop,w.templateName=c.templateName,w.expectTime=c.expectTime,w.items=l.items,I=0;I<l.items.length;++I)S=_e[d].templateId+"-"+l.items[I].barcode,T=Ke[S],l.items[I].sortId=T||200;t.push(w);case 64:e.next=69;break;case 66:return t=[],b.b.error("\u83b7\u53d6<"+c.orderShop+">\u8ba2\u8d27\u4ea7\u54c1\u51fa\u9519\uff0c\u8bf7\u68c0\u67e5\uff01"),e.abrupt("break",72);case 69:++o,e.next=4;break;case 72:n.setState({distributionButtonText:"\u6574\u7406\u6a21\u677f\u4e2d..."}),D=[],C=0;case 75:if(!(C<t.length)){e.next=139;break}P=t[C].items,N=P,M=-1,Y=0;case 80:if(!(Y<_e.length)){e.next=87;break}if(_e[Y].name!==t[C].templateName){e.next=84;break}return M=Y,e.abrupt("break",87);case 84:++Y,e.next=80;break;case 87:if(-1!==M){e.next=89;break}return e.abrupt("return");case 89:return e.next=91,n.findTemplateCache(_e[M].templateUid);case 91:if(!(0===(j=e.sent).errCode&&j.list.length>0)){e.next=136;break}z=j.list,N=[],L=0;case 96:if(!(L<z.length)){e.next=112;break}A=-1,H=0;case 99:if(!(H<P.length)){e.next=106;break}if(z[L].barcode!==P[H].barcode){e.next=103;break}return A=H,e.abrupt("break",106);case 103:++H,e.next=99;break;case 106:B={},-1!==A?(B.categoryName=P[A].categoryName,B.orderProductName=P[A].orderProductName,B.barcode=P[A].barcode,B.barcodeSimple=P[A].barcodeSimple,B.sortId=P[A].sortId,B.orderNumber=P[A].orderNumber):(B.categoryName=z[L].categoryName,B.orderProductName=z[L].name,B.barcode=z[L].barcode,B.barcodeSimple=z[L].barcodeSimple,F=_e[M].templateId+"-"+z[L].barcode,R=Ke[F],B.sortId=R||200,B.orderNumber=0),N.push(B);case 109:++L,e.next=96;break;case 112:_=[],V=0;case 114:if(!(V<N.length)){e.next=129;break}W=N[V],U=-1,K=_.length-1;case 118:if(!(K>=0)){e.next=125;break}if(_[K].categoryName!==W.categoryName){e.next=122;break}return U=K,e.abrupt("break",125);case 122:--K,e.next=118;break;case 125:-1!==U?_.splice(U+1,0,W):_.push(W);case 126:++V,e.next=114;break;case 129:_=_.sort((function(e,t){return e.sortId-t.sortId})),(q={}).orderShop=t[C].orderShop,q.templateName=t[C].templateName,q.expectTime=t[C].expectTime,q.items=_,D.push(q);case 136:++C,e.next=75;break;case 139:for(n.setState({distributionButtonText:"\u6574\u7406A4\u4e2d..."}),J=[],G=0;G<D.length;++G)for(Z=D[G].items,$=0;$<Z.length;++$)$%29===0&&((Q={}).orderShop=D[G].orderShop,Q.templateName=D[G].templateName,Q.expectTime=D[G].expectTime,Q.items=[],J.push(Q)),J[J.length-1].items.push(Z[$]);n.setState({distributionButtonText:"\u6253\u5370\u914d\u8d27\u5355",allDistributionDataToBePrint:J});case 143:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.findTemplateCache=function(){var e=Object(l.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((a=qe[t]).length>0)){e.next=3;break}return e.abrupt("return",{errCode:0,list:a});case 3:return e.next=5,C(t);case 5:if(!(0===(n=e.sent).errCode&&n.list.length>0)){e.next=9;break}return qe[t]=n.list,e.abrupt("return",n);case 9:return e.abrupt("return",{errCode:-1});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleTransfer=function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({transferButtonText:"\u51c6\u5907\u5f55\u5165..."},Object(l.a)(s.a.mark((function e(){var t,a,r,i,o,c,l,d,u,m,f,p,h,g,y,x,v,E,k,w,I,S,T,D,C,P,N,M,Y,j,z,L,A,H,B,F,R,_,V,W,U,K,q,J;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],a=n.state,r=a.alreadyOrderListData,i=a.currentTemplate,o=a.selectedRowKeys,n.setState({transferButtonText:"\u51c6\u5907\u83b7\u53d6..."}),c=0;case 4:if(!(c<r.length)){e.next=68;break}if(!(l=r[c])){e.next=65;break}if(-1!==o.indexOf(l.key)){e.next=9;break}return e.abrupt("continue",65);case 9:return e.next=11,O(l.orderId);case 11:if(0!==(d=e.sent).errCode||!d.items){e.next=62;break}u=!1,m=void 0,m=0;case 16:if(!(m<t.length)){e.next=23;break}if(t[m].orderShop!==l.orderShop||t[m].templateName!==l.templateName){e.next=20;break}return u=!0,e.abrupt("break",23);case 20:++m,e.next=16;break;case 23:if(!u){e.next=45;break}f=t[m].items,p=d.items,h=0;case 27:if(!(h<p.length)){e.next=43;break}g=p[h],y=-1,x=0;case 31:if(!(x<f.length)){e.next=39;break}if(f[x].barcode!==g.barcode){e.next=36;break}return y=x,e.abrupt("break",39);case 36:++x,e.next=31;break;case 39:-1!==y?(v=f[y].orderNumber+g.orderNumber,f[y].orderNumber=v):((E={}).categoryName=g.categoryName,E.orderProductName=g.orderProductName,E.specification=g.specification,E.barcode=g.barcode,E.barcodeSimple=g.barcodeSimple,E.orderNumber=g.orderNumber,E.transferPrice=g.transferPrice,E.sortId=g.sortId,f.push(E));case 40:++h,e.next=27;break;case 43:e.next=60;break;case 45:(k={}).orderShop=l.orderShop,k.templateName=l.templateName,w=0;case 49:if(!(w<_e.length)){e.next=56;break}if(_e[w].name!==l.templateName){e.next=53;break}return k.templateUid=_e[w].templateUid,e.abrupt("break",56);case 53:++w,e.next=49;break;case 56:for(k.expectTime=l.expectTime,k.items=d.items,I=0;I<d.items.length;++I)S=i.templateId+"-"+d.items[I].barcode,T=Ke[S],d.items[I].sortId=T||200;t.push(k);case 60:e.next=65;break;case 62:return t=[],b.b.error("\u83b7\u53d6<"+l.orderShop+">\u8ba2\u8d27\u4ea7\u54c1\u51fa\u9519\uff0c\u8bf7\u68c0\u67e5\uff01"),e.abrupt("break",68);case 65:++c,e.next=4;break;case 68:n.setState({transferButtonText:"\u6309\u7167\u6a21\u677f\u6392\u5e8f..."}),D=[],C=0;case 71:if(!(C<t.length)){e.next=108;break}return P=t[C],N=P.items,(M={}).orderShop=P.orderShop,M.templateName=P.templateName,M.expectTime=P.expectTime,M.templateUid=P.templateUid,n.setState({transferButtonText:"\u67e5\u627e-".concat(P.templateName,"-\u6a21\u677f...")}),e.next=82,n.findTemplateCache(P.templateUid);case 82:if(!(0===(Y=e.sent).errCode&&Y.list.length>0)){e.next=104;break}j=Y.list,z=[],L=0;case 87:if(!(L<j.length)){e.next=103;break}A=-1,H=0;case 90:if(!(H<N.length)){e.next=97;break}if(j[L].barcode!==N[H].barcode){e.next=94;break}return A=H,e.abrupt("break",97);case 94:++H,e.next=90;break;case 97:B={},-1!==A?(B.categoryName=N[A].categoryName,B.orderProductName=N[A].orderProductName,B.specification=N[A].specification,B.barcode=N[A].barcode,B.barcodeSimple=N[A].barcodeSimple,B.sortId=N[A].sortId,B.orderNumber=N[A].orderNumber,B.transferNumber=0,B.transferPrice=N[A].transferPrice):(B.categoryName=j[L].categoryName,B.orderProductName=j[L].name,B.specification=j[L].specification,B.barcode=j[L].barcode,B.barcodeSimple=j[L].barcodeSimple,B.transferPrice=j[L].transferPrice,F=i.templateId+"-"+B.barcode,R=Ke[F],B.sortId=R||200,B.orderNumber=0,B.transferNumber=0),z.push(B);case 100:++L,e.next=87;break;case 103:M.items=z;case 104:D.push(M);case 105:++C,e.next=71;break;case 108:for(n.setState({transferButtonText:"\u6574\u7406\u5546\u54c1..."}),_=[],V=0,W=0;W<D.length;++W)for(U=D[W],K=U.items,q=0;q<K.length;++q)(J=K[q]).orderNumber>0&&(J.key=++V,_.push(J));n.setState({transferButtonText:"\u5f55\u5165\u914d\u8d27\u5355",allProductionDataToBeTransfer:_});case 113:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleEditableCellNextFocus=function(){for(var e=n.state.transferItems4NextFocus,t=-1,a=0;a<e.length;++a){if(e[a].editing){t=a;break}}var r=t+1;r>=0&&r<e.length?e[r].editing=!0:n._searchInput&&n._searchInput.select(),t>=0&&t<e.length&&(e[t].editing=!1),n.setState({transferItems4NextFocus:e})},n.handleEditableCellCurrentFocus=function(e){for(var t=n.state.transferItems4NextFocus,a=0;a<t.length;++a){var r=t[a];r.editing=!1,r.barcode===e.barcode&&(r.editing=!0)}n.forceUpdate()},n.handleEditableCell4AddProductNextFocus=function(){for(var e=n.state.searchProductDataToBeAdd,t=-1,a=0;a<e.length;++a){if(e[a].editing){t=a;break}}for(var r=t;;){if(++r>=e.length){n._searchInput4AddProduct&&n._searchInput4AddProduct.select();break}var i=e[r];if(!i.disabledInput){i.editing=!0;break}}t>=0&&t<e.length&&(e[t].editing=!1),n.forceUpdate()},n.handleEditableCell4AddProductCurrentFocus=function(e){for(var t=n.state.searchProductDataToBeAdd,a=0;a<t.length;++a){var r=t[a];r.editing=!1,r.barcode===e.barcode&&(r.editing=!0)}n.forceUpdate()},n.getColumnSearchProps=function(e){return{filterDropdownVisible:n.state.filterDropdownVisible4Transfer,filterDropdown:function(e){var t=e.setSelectedKeys,a=(e.selectedKeys,e.confirm);e.clearFilters;return r.a.createElement("div",{style:{padding:8,width:130}},r.a.createElement(p.a,{ref:function(e){!n._searchInput&&e&&(n._searchInput=e,n._searchInput.focus())},placeholder:"\u8f93\u5165\u7b80\u7801",value:n._searchText4Transfer,onChange:function(e){t(e.target.value?[e.target.value]:[]),a(),n._searchText4Transfer=e.target.value,n._addProductButton&&(n._addProductButton.disabled=n._searchText4Transfer.length>0)},onFocus:function(e){},onPressEnter:function(e){n.setState({transferItems4NextFocus:[]},(function(){var e=[];n.state.allProductionDataToBeTransfer.forEach((function(t){-1!==t.barcodeSimple.indexOf(n._searchText4Transfer)&&e.push(t)})),e.length>0&&(e[0].editing=!0,n.setState({transferItems4NextFocus:e}))}))},style:{marginBottom:8,display:"block"}}))},filterIcon:function(e){return r.a.createElement(He.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(t,a){var n=a[e].toString();return n?n.includes(t):""},onFilterDropdownVisibleChange:function(e){e&&n._searchInput&&setTimeout((function(){return n._searchInput&&n._searchInput.select()}),100)},render:function(e){return r.a.createElement(Ae.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[n._searchText4Transfer],autoEscape:!0,textToHighlight:e?e.toString():""})}}},n.onAddProductionSelectChange=function(e){n.setState({addProductionSelectedRowKeys:e})},n.onAddProductSelect=function(e,t,a,r){e.editing=!1,n._searchInput4AddProduct&&n._searchInput4AddProduct.select();for(var i=n.state.allProductionDataToBeTransfer,o=-1,c=0;c<i.length;++c){if(i[c].barcode===e.barcode){o=c;break}}if(t){if(e.disabledInput=!0,-1===o){var s={};s.barcode=e.barcode,s.barcodeSimple=e.barcode.substring(e.barcode.length-4,e.barcode.length),s.categoryName=e.categoryName,s.editing=!1,s.transferPrice=e.price,s.orderProductName=e.productName,s.specification=e.specification,s.orderNumber=e.transferNumber,s.transferNumber=e.transferNumber,s.sortId=200,s.remark="\u65b0\u589e",s.key=i.length+1;var l=[],d=[];i.forEach((function(e){e.editing=!1;var t=Object(Ne.a)({},e);l.push(t),d.push(e)})),l.push(s),d.push(s),n.setState({allProductionDataToBeTransfer:l,transferItems4NextFocus:d})}}else if(e.disabledInput=!1,-1!==o){for(var u=i[o],m=[],f=[],p=0,h=0;h<i.length;++h){var b=i[h];if(b.barcode!==u.barcode){++p,b.key=p;var g=Object(Ne.a)({},b);m.push(g),f.push(g)}}n.setState({allProductionDataToBeTransfer:m,transferItems4NextFocus:f})}},n.handleAddProductionModalOk=function(){n.setState({isAddProductionModalVisible:!1}),n.setState({filterDropdownVisible4Transfer:!0}),setTimeout((function(){n._searchInput.select()}),100)},n.handleAddProductionModalCancel=function(){n.handleAddProductionModalOk()},n.onAddProductSearch=function(){var e=Object(l.a)(s.a.mark((function e(t,a){var r,i,o,c,l,d,u,m;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&!(t.length<=0)){e.next=3;break}return b.b.error("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u5546\u54c1\u540d\u79f0\u6216\u6761\u7801"),e.abrupt("return");case 3:if(r=n.state.searchProductDataToBeAdd,i="search","Enter"===a.key&&(n._lastSearchText4AddProduct!==t?i="search":r.length>0&&(i="setAndJump")),"search"!==i){e.next=16;break}return n.setState({searchingProductData:!0,searchProductDataToBeAdd:[]}),n._lastSearchText4AddProduct=t,e.next=11,P(t);case 11:0===(o=e.sent).errCode&&o.items&&o.items.length>0&&(c=n.state.allProductionDataToBeTransfer,l=[],o.items.forEach((function(e){e.transferNumber=0,e.editing=!1,c.forEach((function(t){e.barcode===t.barcode&&-1===l.indexOf(e.key)&&(e.disabledInput=!0,l.push(e.key))}))})),n.setState({searchProductDataToBeAdd:o.items,addProductionSelectedRowKeys:l})),n.setState({searchingProductData:!1}),e.next=17;break;case 16:if("setAndJump"===i){for(d=n.state.searchProductDataToBeAdd,u=0;u<d.length;++u)(m=d[u])&&!m.disabledInput&&(m.editing=!0);n.forceUpdate()}case 17:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.handleProductionTransferPreview=Object(l.a)(s.a.mark((function e(){var t,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.state.allProductionDataToBeTransfer,a=[],r=0,t.forEach((function(e){if(e.editing=!1,e.transferNumber>0){++r;var t=Object(Ne.a)({},e);t.key=r,a.push(t)}})),n.setState({allProductionDataRealToBeTransfer:a,productTransferPreviewShow:!0,filterDropdownVisible4Transfer:!1});case 5:case"end":return e.stop()}}),e)}))),n.handleProductTransferPreviewCancel=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({productTransferPreviewShow:!1},(function(){n.setState({allProductionDataRealToBeTransfer:[],filterDropdownVisible4Transfer:!0})}));case 1:case"end":return e.stop()}}),e)}))),n.handleProductTransferPreviewOK=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.state.allProductionDataRealToBeTransfer,console.log(t),n.handleProductTransferPreviewCancel();case 3:case"end":return e.stop()}}),e)})));var i=q()().startOf("day"),o=q()().endOf("day");return n.state={alreadyOrderListData:[],alreadyOrderLoading:!1,currentShop:Re[1],currentTemplate:_e[0],beginDateTime:i,endDateTime:o,timePickerOpen:!1,selectedRowKeys:[],noyetOrderShops:[],noyetOrderTemplates:[],allProductionDataToBePrint:[],productionButtonText:"\u6253\u5370\u751f\u4ea7\u5355",allDistributionDataToBePrint:[],distributionButtonText:"\u6253\u5370\u914d\u8d27\u5355",allProductionDataToBeTransfer:[],transferButtonText:"\u5f55\u5165\u914d\u8d27\u5355",transferItems4NextFocus:[],currentFocusItem:{},filterDropdownVisible4Transfer:!0,isAddProductionModalVisible:!1,searchProductDataToBeAdd:[],searchingProductData:!1,addProductionSelectedRowKeys:[],allProductionDataRealToBeTransfer:[],productTransferPreviewShow:!1},n._searchInput=null,n._searchInput4AddProduct=null,n._searchText4Transfer="",n._lastSearchText4AddProduct="",n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchOrderList();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.alreadyOrderListData,n=t.currentShop,i=t.currentTemplate,o=t.isAddProductionModalVisible,c=t.alreadyOrderLoading,d=t.beginDateTime,u=t.endDateTime,m=t.timePickerOpen,f=t.selectedRowKeys,p=t.noyetOrderShops,h=t.noyetOrderTemplates,v=t.productionButtonText,E=t.transferButtonText,k=t.distributionButtonText,w=t.allProductionDataToBePrint,I=t.allProductionDataToBeTransfer,S=t.allDistributionDataToBePrint,T=t.searchProductDataToBeAdd,D=t.searchingProductData,O=t.addProductionSelectedRowKeys,C=t.allProductionDataRealToBeTransfer,P=t.productTransferPreviewShow,N={selectedRowKeys:f,onChange:this.onOrderItemSelectChange},M="\u65e0";p&&p.length>0&&(M=p.join(" | "));var Y=""!==n.userId||""===i.templateId||f.length<=0||"\u6253\u5370\u751f\u4ea7\u5355"!==v,j=w&&w.length>0,z=""===n.userId,L="\u65e0";h&&h.length>0&&(L=h.join(" | "));var A=""===n.userId||""!==i.templateId||f.length<=0||"\u6253\u5370\u914d\u8d27\u5355"!==k,H=S&&S.length>0,B=""===i.templateId,F=""===n.userId||""!==i.templateId||f.length<=0||"\u5f55\u5165\u914d\u8d27\u5355"!==E,R=I&&I.length>0,_=[{title:"\u5e8f",dataIndex:"key",key:"key",width:60,render:function(e){return r.a.createElement("span",{style:{fontSize:10}},e)}},Object(Ne.a)({title:"\u7b80\u7801",dataIndex:"barcodeSimple",key:"barcodeSimple",width:200,editingIndex:"editing"},this.getColumnSearchProps("barcodeSimple")),{title:"\u54c1\u540d",dataIndex:"orderProductName",key:"orderProductName",width:160,render:function(e){return r.a.createElement("span",{style:{fontSize:14,color:"red"}},e)}},{title:"\u8ba2\u8d27\u91cf",dataIndex:"orderNumber",key:"orderNumber",width:80,render:function(e){return r.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u914d\u8d27\u91cf",dataIndex:"transferNumber",key:"transferNumber",width:160,editable:!0,render:function(e){return r.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u914d\u8d27\u4ef7",dataIndex:"transferPrice",key:"transferPrice",width:100,render:function(e){return r.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u5206\u7c7b",dataIndex:"categoryName",key:"categoryName",width:100,render:function(e){return r.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u89c4\u683c",dataIndex:"specification",key:"specification",width:100,render:function(e){return r.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u5907\u6ce8",dataIndex:"remark",key:"remark",width:"*",render:function(e){return"\u65b0\u589e"===e?r.a.createElement("span",{style:{fontSize:14,color:"skyblue",backgroundColor:"yellow",fontWeight:"bold"}},e):r.a.createElement("span",{style:{fontSize:10}},e)}}],V={body:{row:Ze,cell:$e}},K=_.map((function(t){return t.editable?Object(Ne.a)(Object(Ne.a)({},t),{},{onCell:function(a){return{record:a,editable:t.editable,dataIndex:t.dataIndex,title:t.title,handleEditableCellNextFocus:e.handleEditableCellNextFocus,handleEditableCellCurrentFocus:e.handleEditableCellCurrentFocus}}}):t})),J={hideSelectAll:!0,selectedRowKeys:O,onChange:this.onAddProductionSelectChange,onSelect:this.onAddProductSelect},G={body:{row:Xe,cell:et}},Z=[{title:"\u5e8f",dataIndex:"key",key:"key",width:40,render:function(e){return r.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u6761\u5f62\u7801",dataIndex:"barcode",key:"barcode",width:140,render:function(e){return r.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u54c1\u540d",dataIndex:"productName",key:"productName",width:120,render:function(e){return r.a.createElement("span",{style:{fontSize:14,color:"red"}},e)}},{title:"\u914d\u8d27\u91cf",dataIndex:"transferNumber",key:"transferNumber",width:80,editable:!0,render:function(e){return r.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u5206\u7c7b",dataIndex:"categoryName",key:"categoryName",width:120,render:function(e){return r.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u89c4\u683c",dataIndex:"specification",key:"specification",width:120,render:function(e){return r.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u9500\u552e\u4ef7",dataIndex:"price",key:"price",width:140,render:function(e){return r.a.createElement("span",{style:{fontSize:10}},e)}}].map((function(t){return t.editable?Object(Ne.a)(Object(Ne.a)({},t),{},{onCell:function(a){return{record:a,editable:t.editable,dataIndex:t.dataIndex,title:t.title,handleEditableCellNextFocus:e.handleEditableCell4AddProductNextFocus,handleEditableCellCurrentFocus:e.handleEditableCell4AddProductCurrentFocus}}}):t}));return r.a.createElement("div",null,R?r.a.createElement("div",null,r.a.createElement("div",{style:{zIndex:2,bottom:0,left:0,right:0,position:"fixed",width:"100%",height:60,backgroundColor:"lightgray"}},r.a.createElement("div",null,r.a.createElement(x.a,{danger:!0,type:"primary",onClick:this.handleProductionTransferPreview,style:{width:210,height:30,marginLeft:50,marginTop:10}},"\u914d\u8d27\u9884\u89c8"))),r.a.createElement("div",{style:{marginLeft:10,marginTop:10}},r.a.createElement(x.a,{type:"primary",style:{width:80,height:40},onClick:function(){e._searchInput=null,e._searchText4Transfer="",e.setState({allProductionDataToBeTransfer:[]})}},r.a.createElement("div",{style:{fontSize:16}},"\u540e\u9000")),r.a.createElement("span",{style:{marginLeft:10}},"\u603b\u90e8=="),r.a.createElement("span",{style:{marginLeft:0}},"\u8c03\u5f80=>"),r.a.createElement("span",{style:{marginLeft:0,marginRight:10,color:"red"}},n.name),r.a.createElement(x.a,{type:"primary",danger:!0,style:{width:60,height:30},ref:function(t){!e._addProductButton&&t&&(e._addProductButton=t)},onClick:function(){e._searchInput=null,e.setState({addProductionSelectedRowKeys:[],isAddProductionModalVisible:!0,filterDropdownVisible4Transfer:!1,searchProductDataToBeAdd:[]})}},r.a.createElement("div",{style:{fontSize:8}},"+\u5546\u54c1"))),r.a.createElement("div",null,r.a.createElement(fe.a,{width:1e3,centered:!0,keyboard:!0,maskClosable:!1,title:r.a.createElement("div",null,r.a.createElement("span",null,"\u6dfb\u52a0\u5546\u54c1"),r.a.createElement(Be,{style:{width:240,marginLeft:20},ref:function(t){!e._searchInput4AddProduct&&t&&(t&&t.focus(),e._searchInput4AddProduct=t)},enterButton:!0,placeholder:"\u8f93\u5165\u5546\u54c1\u540d\u79f0",onSearch:function(t,a){return e.onAddProductSearch(t,a)}})),visible:o,onOk:this.handleAddProductionModalOk,onCancel:this.handleAddProductionModalCancel,okText:"\u5b8c\u6bd5",cancelButtonProps:{hidden:!0}},r.a.createElement(ze.a,{size:"small",rowSelection:J,loading:D,dataSource:T,components:G,columns:Z,bordered:!0,pagination:!1,scroll:{y:360,scrollToFirstRowOnChange:!0}})),r.a.createElement(ze.a,{style:{marginTop:10,marginLeft:10,marginRight:10},size:"small",components:V,rowClassName:function(){return"editable-row"},dataSource:I,columns:K,pagination:!1,bordered:!0,scroll:{y:550,scrollToFirstRowOnChange:!0},footer:function(){return r.a.createElement("div",null,r.a.createElement("div",{style:{textAlign:"center",height:20}},"---\u5fc3\u91cc\u6ee1\u6ee1\u90fd\u662f\u4f60---"),r.a.createElement("div",{style:{height:20}}))}})),r.a.createElement("div",null,r.a.createElement(fe.a,{width:1e3,centered:!0,keyboard:!0,maskClosable:!1,title:"\u914d\u8d27\u9884\u89c8",visible:P,onCancel:function(){e.handleProductTransferPreviewCancel()},onOk:function(){return e.handleProductTransferPreviewOK()},okText:"---\u786e\u5b9a\u51fa\u8d27---"},r.a.createElement(ze.a,{size:"small",dataSource:C,columns:Je,bordered:!0,pagination:!1,scroll:{y:360,scrollToFirstRowOnChange:!0}})))):H?r.a.createElement("div",{style:{marginLeft:10,marginTop:10}},r.a.createElement("div",{id:"printConfig",style:{float:"left",borderStyle:"none",width:90}},r.a.createElement("div",null,r.a.createElement(x.a,{type:"primary",style:{width:90,height:80},onClick:function(){e.setState({allDistributionDataToBePrint:[]})}},r.a.createElement("div",{style:{fontSize:16}},"\u540e\u9000"))),r.a.createElement(x.a,{type:"primary",style:{marginTop:10,width:90,height:80},onClick:this.productPrintPreprew},r.a.createElement("div",{style:{fontWeight:"bold",fontSize:16,textDecoration:"underline"}},"\u6253\u5370\u9884\u89c8")),r.a.createElement(x.a,{type:"primary",danger:!0,style:{marginTop:10,width:90,height:80},onClick:this.productPrintDirect},r.a.createElement("div",{style:{fontWeight:"bold",fontSize:16,textDecoration:"underline"}},"\u76f4\u63a5\u6253\u5370"))),r.a.createElement("div",{id:"printDiv",style:{float:"left",marginLeft:10,borderStyle:"dotted",width:1379,height:968}},r.a.createElement("div",{id:"printTable",style:{marginTop:0,marginLeft:0,width:1375,height:964,backgroundColor:"transparent"}},S.map((function(e){var t=e.items,a=S.indexOf(e);return r.a.createElement("div",{key:a,style:{float:"left",zIndex:10,backgroundColor:"transparent",marginTop:44,height:920}},r.a.createElement("div",{style:{float:"left",marginLeft:0,width:6,height:920}}),r.a.createElement("table",{border:"1",cellSpacing:"0",cellPadding:"2",style:{float:"left"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"7",style:{width:323,textAlign:"center"}},e.orderShop)),r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"7",style:{width:323,textAlign:"center"}},e.templateName)),r.a.createElement("tr",null,r.a.createElement("th",{style:{textAlign:"center",fontSize:14}},"\u7b80\u7801"),r.a.createElement("th",{style:{textAlign:"center"}},"\u54c1\u540d"),r.a.createElement("th",{style:{textAlign:"center",fontSize:10}},"\u8ba2\u8d27\u91cf"),r.a.createElement("th",{style:{textAlign:"center"}},"\u65e9"),r.a.createElement("th",{style:{textAlign:"center"}},"\u4e2d"),r.a.createElement("th",{style:{textAlign:"center"}},"\u665a"),r.a.createElement("th",{style:{textAlign:"center",fontSize:12}},"\u5907\u6ce8"))),r.a.createElement("tbody",null,t.map((function(e){var a=t.indexOf(e)+1;return r.a.createElement("tr",{key:a,style:{height:24}},r.a.createElement("th",{key:"1",style:{textAlign:"center",fontSize:16,width:16}},e.barcodeSimple),r.a.createElement("th",{key:"2",style:{textAlign:"center",fontSize:15,width:130}},e.orderProductName),r.a.createElement("th",{key:"3",style:{textAlign:"center",fontSize:16,width:8}},0!==e.orderNumber?e.orderNumber:""),r.a.createElement("th",{key:"4",style:{textAlign:"center",fontSize:16,width:8}}),r.a.createElement("th",{key:"5",style:{textAlign:"center",fontSize:16,width:8}}),r.a.createElement("th",{key:"6",style:{textAlign:"center",fontSize:16,width:8}}),r.a.createElement("th",{key:"7",style:{textAlign:"center",fontSize:16,width:8}}))}))),r.a.createElement("tfoot",null,r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"7"},e.expectTime)))),r.a.createElement("div",{style:{float:"left",marginLeft:0,width:6,height:920}}))}))))):j?r.a.createElement("div",{style:{marginLeft:10,marginTop:10}},r.a.createElement("div",{id:"printConfig",style:{float:"left",borderStyle:"none",width:90}},r.a.createElement("div",null,r.a.createElement(x.a,{type:"primary",style:{width:90,height:80},onClick:function(){e.setState({allProductionDataToBePrint:[]})}},r.a.createElement("div",{style:{fontSize:16}},"\u540e\u9000"))),r.a.createElement(x.a,{type:"primary",style:{marginTop:10,width:90,height:80},onClick:this.productPrintPreprew},r.a.createElement("div",{style:{fontWeight:"bold",fontSize:16,textDecoration:"underline"}},"\u6253\u5370\u9884\u89c8")),r.a.createElement(x.a,{type:"primary",danger:!0,style:{marginTop:10,width:90,height:80},onClick:this.productPrintDirect},r.a.createElement("div",{style:{fontWeight:"bold",fontSize:16,textDecoration:"underline"}},"\u76f4\u63a5\u6253\u5370"))),r.a.createElement("div",{id:"printDiv",style:{float:"left",marginLeft:10,borderStyle:"dotted",width:1379,height:968}},r.a.createElement("div",{id:"printTable",style:{marginTop:0,marginLeft:0,width:1375,height:964,backgroundColor:"transparent"}},w.map((function(e){var t=e.items,a=w.indexOf(e);return r.a.createElement("div",{key:a,style:{float:"left",zIndex:10,backgroundColor:"transparent",marginTop:44,height:920}},r.a.createElement("div",{style:{float:"left",marginLeft:0,width:8,height:920}}),r.a.createElement("table",{border:"1",cellSpacing:"0",cellPadding:"2",style:{float:"left"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"2",style:{width:318,textAlign:"center"}},e.orderShop)),r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"2",style:{textAlign:"center"}},e.templateName)),r.a.createElement("tr",null,r.a.createElement("th",{style:{textAlign:"center",fontWeight:"bold"}},"\u54c1\u540d"),r.a.createElement("th",{style:{textAlign:"center",fontWeight:"bold"}},"\u6570"))),r.a.createElement("tbody",null,t.map((function(e){var a=t.indexOf(e)+1;return r.a.createElement("tr",{key:a},r.a.createElement("th",{key:"1",style:{height:20,textAlign:"center",fontSize:16}},e.orderProductName),r.a.createElement("th",{key:"2",style:{height:20,textAlign:"center",fontSize:16}},0!==e.orderNumber?e.orderNumber:""))}))),r.a.createElement("tfoot",null,r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"2"},e.expectTime)))),r.a.createElement("div",{style:{float:"left",marginLeft:0,width:8,height:920}}))}))))):r.a.createElement("div",null,r.a.createElement("div",{style:{marginLeft:30,marginTop:10,fontSize:20}},"\u751f\u4ea7\u5355 | \u914d\u8d27\u5355 \u6253\u5370\u6a21\u5757"),r.a.createElement("div",{style:{zIndex:2,bottom:0,left:0,right:0,position:"fixed",width:"100%",height:140,backgroundColor:"lightgray"}},r.a.createElement("div",null,r.a.createElement(x.a,{danger:!0,disabled:Y,type:"primary",onClick:this.handleProductionPrint,style:{width:210,height:30,marginLeft:50,marginTop:10}},v),z?r.a.createElement("span",null,r.a.createElement("span",{style:{marginLeft:10,color:"tomato",fontSize:8}},"\u672a\u62a5\u8d27\u95e8\u5e97:"),r.a.createElement("span",{style:{marginLeft:5,color:"red",fontSize:14,fontWeight:"bold"}},M)):r.a.createElement("span",null)),r.a.createElement("div",null,r.a.createElement(x.a,{danger:!0,disabled:A,type:"primary",onClick:this.handleDistributionPrint,style:{width:210,height:30,marginLeft:50,marginTop:10}},k),B?r.a.createElement("span",null,r.a.createElement("span",{style:{marginLeft:10,color:"tomato",fontSize:8}},"\u672a\u62a5\u8d27\u6a21\u677f:"),r.a.createElement("span",{style:{marginLeft:5,color:"red",fontSize:14,fontWeight:"bold"}},L)):r.a.createElement("span",null)),r.a.createElement("div",null,r.a.createElement(x.a,{danger:!0,disabled:F,type:"primary",onClick:this.handleTransfer,style:{width:210,height:30,marginLeft:50,marginTop:10}},E))),r.a.createElement("div",{style:{marginLeft:30,marginTop:10,marginRight:30,marginBottom:30}},r.a.createElement(g.a,{style:{marginLeft:0},overlay:function(){return r.a.createElement(y.a,{onClick:function(){var t=Object(l.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=a.key,e.setState({currentShop:Re[n]},Object(l.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchOrderList();case 2:case"end":return t.stop()}}),t)}))));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Re.map((function(e){return r.a.createElement(y.a.Item,{key:e.index},e.name)})))},arrow:!0,trigger:["click"],disabled:c},r.a.createElement(x.a,{size:"small",style:{width:160},onClick:function(e){return e.preventDefault()}},n.name,r.a.createElement(W.a,null))),r.a.createElement(g.a,{overlay:function(){return r.a.createElement(y.a,{onClick:function(){var t=Object(l.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=a.key,e.setState({currentTemplate:_e[n]},Object(l.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchOrderList();case 2:case"end":return t.stop()}}),t)}))));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},_e.map((function(e){return r.a.createElement(y.a.Item,{key:e.index},e.name)})))},arrow:!0,trigger:["click"],disabled:c},r.a.createElement(x.a,{size:"small",style:{width:160,marginLeft:10},onClick:function(e){return e.preventDefault()}},i.name,r.a.createElement(W.a,null))),r.a.createElement(Fe,{open:m,onOpenChange:function(t){e.setState({timePickerOpen:t})},style:{marginLeft:10},size:"small",locale:U.a,bordered:!0,placeholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"],inputReadOnly:!0,disabled:c,value:[q()(d,"YYYY-MM-DD+HH:mm:ss"),q()(u,"YYYY-MM-DD+HH:mm:ss")],defaultValue:[q()(d,"YYYY-MM-DD+HH:mm:ss"),q()(u,"YYYY-MM-DD+HH:mm:ss")],showTime:{hideDisabledOptions:!0,defaultValue:[q()("00:00:00","HH:mm:ss"),q()("23:59:59","HH:mm:ss")],showTime:!0,showHour:!0,showMinute:!0,showSecond:!0},onOk:function(){var t=Object(l.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a.length>=2&&a[0]&&a[1])){t.next=5;break}if(!(a[0]>a[1])){t.next=4;break}return b.b.info("\u8bf7\u8f93\u5165\u6b63\u786e\u65f6\u95f4"),t.abrupt("return");case 4:e.setState({beginDateTime:a[0],endDateTime:a[1]},Object(l.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchOrderList();case 2:case"end":return t.stop()}}),t)}))));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),renderExtraFooter:function(){return r.a.createElement("span",null,r.a.createElement(x.a,{size:"small",type:"primary",onClick:function(t){var a=q()().subtract(1,"day").startOf("day"),n=q()().subtract(1,"day").endOf("day");e.setState({beginDateTime:a,endDateTime:n,timePickerOpen:!1},Object(l.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchOrderList();case 2:case"end":return t.stop()}}),t)}))))}},"\u6628\u5929"),r.a.createElement(x.a,{style:{marginLeft:10},size:"small",type:"primary",onClick:function(t){var a=q()().startOf("day"),n=q()().endOf("day");e.setState({beginDateTime:a,endDateTime:n,timePickerOpen:!1},Object(l.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchOrderList();case 2:case"end":return t.stop()}}),t)}))))}},"\u4eca\u5929"))}}),r.a.createElement(x.a,{style:{width:180,marginLeft:10},type:"primary",onClick:function(){var t=Object(l.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchOrderList();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},"\u67e5\u8be2\u95e8\u5e97\u8ba2\u8d27\u5355"),r.a.createElement(ze.a,{style:{marginTop:10},size:"small",loading:c,dataSource:a,columns:Ve,rowSelection:N,pagination:!1,bordered:!0,footer:function(){return r.a.createElement("div",null,r.a.createElement("div",{style:{textAlign:"center",height:50}},"---\u5fc3\u91cc\u6ee1\u6ee1\u90fd\u662f\u4f60---"),r.a.createElement("div",{style:{height:50}}))}}))))}}]),a}(r.a.Component),at=a(41),nt=a(216),rt=(a(382),a(24)),it=a(223);function ot(){var e=new URLSearchParams(Object(at.e)().search);return r.a.createElement("div",null,r.a.createElement(at.a,{exact:!0,path:"/",children:r.a.createElement($,null)}),r.a.createElement(at.a,{path:"/productsale",children:r.a.createElement($,{query:e})}),r.a.createElement(at.a,{path:"/discardsale",children:r.a.createElement(te,{query:e})}),r.a.createElement(at.a,{path:"/productsaleanddiscard",children:r.a.createElement(ce,{query:e})}),r.a.createElement(at.a,{path:"/couponsummary",children:r.a.createElement(de,{query:e})}),r.a.createElement(at.a,{path:"/diyreserve",children:r.a.createElement(Oe,{query:e})}),r.a.createElement(at.a,{path:"/printproductionplan",children:r.a.createElement(Pe,{query:e})}),r.a.createElement(at.a,{path:"/makeproductionplan",children:r.a.createElement(tt,{query:e})}))}function ct(){return r.a.createElement(rt.b,{locale:it.a},r.a.createElement(nt.a,null,r.a.createElement(ot,null)))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(ct,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[227,1,2]]]);
//# sourceMappingURL=main.3ef98ffc.chunk.js.map