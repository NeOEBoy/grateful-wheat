(this.webpackJsonpwww=this.webpackJsonpwww||[]).push([[0],{143:function(e,t,a){e.exports=a(221)},148:function(e,t,a){},219:function(e,t,a){},221:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(22),s=a.n(i),c=(a(148),a(11)),o=a.n(c),l=a(31),u=a(79),d=a(80),m=a(94),h=a(92),p=a(226),f=a(223),g=a(227),v=a(229),x=a(225),y=a(54),b=a(224),w=a(132);console.log("process.env.NODE_ENV = production");var k="http://gratefulwheat.ruyue.xyz/apis",E=function(){var e=Object(l.a)(o.a.mark((function e(t,a,n,r,i,s){var c,l,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=k+"/product/saleList",c+="?pageIndex=",c+=r,c+="&pageSize=",c+=i,c+="&userId=",c+=t,c+="&beginDateTime=",c+=a,c+="&endDateTime=",c+=n,c+="&keyword=",c+=s,e.next=15,fetch(c);case 15:return l=e.sent,e.next=18,l.json();case 18:return u=e.sent,e.abrupt("return",u);case 20:case"end":return e.stop()}}),e)})));return function(t,a,n,r,i,s){return e.apply(this,arguments)}}(),D=function(){var e=Object(l.a)(o.a.mark((function e(t,a,n,r){var i,s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=k+"/product/discardList",i+="?userId=",i+=t,i+="&beginDateTime=",i+=a,i+="&endDateTime=",i+=n,i+="&keyword=",i+=r,console.log(i),e.next=12,fetch(i);case 12:return s=e.sent,e.next=15,s.json();case 15:return c=e.sent,e.abrupt("return",c);case 17:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),I=a(116),T=a.n(I),Y=a(228),O=(a(107),a(93)),M=a(34),S=a.n(M),H=p.a.Search,j=f.a.RangePicker,z=[{index:0,name:"\u5168\u90e8",userId:""},{index:1,name:"\u6559\u80b2\u5c40\u5e97",userId:"3995767"},{index:2,name:"\u65e7\u9547\u5e97",userId:"3995771"},{index:3,name:"\u6c5f\u6ee8\u5e97",userId:"4061089"},{index:4,name:"\u6c64\u6cc9\u4e16\u7eaa\u5e97",userId:"4061092"}],P=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;Object(u.a)(this,a),(n=t.call(this,e)).handleInfiniteOnLoad=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.fetchNextPage();case 2:case"end":return e.stop()}}),e)})));var r=n.props.query,i="",s="";return r&&(i=(i=r.get("beginDateTime")).replace(" ","+"),s=(s=r.get("endDateTime")).replace(" ","+")),n.state={listData:[],loading:!1,hasMore:!0,pageIndex:1,shopIndex:1,userId:"",beginDateTime:i,endDateTime:s,keyword:""},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.query,a="",t&&(a=t.get("id")),e.next=5,this.initFirstPage(a);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initFirstPage",value:function(){var e=Object(l.a)(o.a.mark((function e(t,a,n,r){var i,s=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=0;case 1:if(!(i<z.length)){e.next=8;break}if(z[i].userId!==t){e.next=5;break}return this.setState({shopIndex:i}),e.abrupt("break",8);case 5:i++,e.next=1;break;case 8:this.setState({userId:void 0!==t?t:this.state.userId,listData:[],loading:!1,hasMore:!0,pageIndex:1,beginDateTime:void 0!==a?a:this.state.beginDateTime,endDateTime:void 0!==n?n:this.state.endDateTime,keyword:void 0!==r?r:this.state.keyword},Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.fetchNextPage();case 2:case"end":return e.stop()}}),e)}))));case 9:case"end":return e.stop()}}),e,this)})));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"fetchNextPage",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,a,n,r,i,s,c,l,u,d,m,h,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,a=t.hasMore,n=t.pageIndex,r=t.listData,a){e.next=4;break}return g.b.warning("\u6ca1\u6709\u66f4\u591a\u6570\u636e\u4e86"),e.abrupt("return");case 4:return this.setState({loading:!0}),e.prev=5,i=this.state,s=i.userId,c=i.beginDateTime,l=i.endDateTime,u=i.keyword,d=[],e.next=10,E(s,c,l,n,20,u);case 10:(m=e.sent)&&0===m.errCode&&(d=m.list),h=d.length/20>=1,p=n,h&&p++,r=r.concat(d),this.setState({listData:r,hasMore:h,loading:!1,pageIndex:p}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(5),this.setState({loading:!1});case 22:case"end":return e.stop()}}),e,this,[[5,19]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.shopIndex,n=t.beginDateTime,i=t.endDateTime,s=z[a].name;return r.a.createElement("div",{style:{height:window.innerHeight,overflow:"auto"}},r.a.createElement("div",{style:{textAlign:"center",fontSize:24,fontWeight:"bold"}},"\u70ed\u5356\u5546\u54c1",r.a.createElement("br",null),r.a.createElement(v.a,{overlay:function(){var t=z[0],a=z[1],n=z[2],i=z[3],s=z[4];return r.a.createElement(x.a,{onClick:function(){var t=Object(l.a)(o.a.mark((function t(a){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.key,r=z[n].userId,t.next=4,e.initFirstPage(r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},r.a.createElement(x.a.Item,{key:t.index},t.name),r.a.createElement(x.a.Item,{key:a.index},a.name),r.a.createElement(x.a.Item,{key:n.index},n.name),r.a.createElement(x.a.Item,{key:i.index},i.name),r.a.createElement(x.a.Item,{key:s.index},s.name))},trigger:["click"]},r.a.createElement(y.a,{size:"small",style:{width:240},onClick:function(e){return e.preventDefault()}},s,r.a.createElement(Y.a,null))),r.a.createElement("br",null),r.a.createElement(j,{size:"small",locale:O.a,bordered:!0,style:{width:320,marginTop:15},placeholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"],inputReadOnly:!0,defaultValue:[S()(n,"YYYY.MM.DD+HH:mm:ss"),S()(i,"YYYY.MM.DD+HH:mm:ss")],showTime:{hideDisabledOptions:!0,defaultValue:[S()("00:00:00","HH:mm:ss"),S()("23:59:59","HH:mm:ss")],showTime:!0,showHour:!1,showMinute:!1,showSecond:!1},onChange:function(e){e||g.b.warning("\u8bf7\u9009\u62e9\u6b63\u786e\u7684\u65e5\u671f!")},onOk:function(){var t=Object(l.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.initFirstPage(void 0,a[0]?a[0].format("YYYY.MM.DD+HH:mm:ss"):void 0,a[1]?a[1].format("YYYY.MM.DD+HH:mm:ss"):void 0);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),r.a.createElement("br",null),r.a.createElement(H,{style:{width:280,marginTop:15},size:"small",placeholder:"\u8f93\u5165\u5546\u54c1\u540d\u79f0\u540e\u67e5\u8be2",enterButton:"\u67e5\u8be2",onSearch:function(){var t=Object(l.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.initFirstPage(void 0,void 0,void 0,a);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),r.a.createElement(T.a,{initialLoad:!1,pageStart:0,loadMore:this.handleInfiniteOnLoad,hasMore:!this.state.loading&&this.state.hasMore,useWindow:!1},r.a.createElement(b.b,{dataSource:this.state.listData,locale:{emptyText:"\u6682\u65f6\u6ca1\u6709\u6570\u636e"},footer:r.a.createElement("div",{style:{height:100,textAlign:"center",fontSize:14,fontWeight:"lighter"}},"\u5f2f\u9ea6--\u5fc3\u91cc\u6ee1\u6ee1\u90fd\u662f\u4f60"),renderItem:function(t){var a=e.state.listData.indexOf(t),n="gray";0===a?n="orange":1===a?n="green":2===a&&(n="red");var i="-"!==t.specification?" | "+t.specification:"",s=""!==t.category?" | "+t.category:"";return r.a.createElement(b.b.Item,null,r.a.createElement("div",{style:{width:30,height:30,backgroundColor:n,color:"white",fontSize:14,fontWeight:"bold",textAlign:"center",marginRight:15,marginLeft:15,borderRadius:10}},r.a.createElement("div",{style:{marginTop:3}},a+1)),r.a.createElement(b.b.Item.Meta,{title:r.a.createElement("div",null,r.a.createElement("span",{style:{fontSize:16}},t.name),r.a.createElement("span",{style:{fontSize:12}},i),r.a.createElement("span",{style:{fontSize:10}},s)),description:"\u9500\u552e\u6570\u91cf\uff1a".concat(t.saleNumber," \u73b0\u6709\u5e93\u5b58\uff1a").concat(t.currentNumber)}),r.a.createElement("span",{style:{marginRight:25,color:"coral",fontSize:18}},"\uffe5".concat(t.realIncome)))}},this.state.loading&&this.state.hasMore&&r.a.createElement("div",null,r.a.createElement(w.a,{style:{position:"absolute",bottom:15,width:"100%",textAlign:"center"}})))))}}]),a}(r.a.Component),C=f.a.RangePicker,R=p.a.Search,F=[{index:0,name:"\u5168\u90e8",userId:""},{index:1,name:"\u6559\u80b2\u5c40\u5e97",userId:"3995767"},{index:2,name:"\u65e7\u9547\u5e97",userId:"3995771"},{index:3,name:"\u6c5f\u6ee8\u5e97",userId:"4061089"},{index:4,name:"\u6c64\u6cc9\u4e16\u7eaa\u5e97",userId:"4061092"}],L=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;Object(u.a)(this,a);var r=(n=t.call(this,e)).props.query,i="",s="";return r&&(i=(i=r.get("beginDateTime")).replace(" ","+"),s=(s=r.get("endDateTime")).replace(" ","+")),n.state={userId:"",shopIndex:1,listData:[],loading:!1,beginDateTime:i,endDateTime:s,keyword:""},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.query,a="",t&&(a=t.get("id")),e.next=5,this.initFirstPage(a);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initFirstPage",value:function(){var e=Object(l.a)(o.a.mark((function e(t,a,n,r){var i,s=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=0;case 1:if(!(i<F.length)){e.next=8;break}if(F[i].userId!==t){e.next=5;break}return this.setState({shopIndex:i}),e.abrupt("break",8);case 5:i++,e.next=1;break;case 8:this.setState({userId:void 0!==t?t:this.state.userId,listData:[],loading:!1,beginDateTime:void 0!==a?a:this.state.beginDateTime,endDateTime:void 0!==n?n:this.state.endDateTime,keyword:void 0!==r?r:this.state.keyword},Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.fetchListData();case 2:case"end":return e.stop()}}),e)}))));case 9:case"end":return e.stop()}}),e,this)})));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"fetchListData",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,a,n,r,i,s,c,l,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.state,a=t.listData,n=t.userId,r=t.beginDateTime,i=t.endDateTime,s=t.keyword,c=[],this.setState({loading:!0}),e.next=6,D(n,r,i,s);case 6:(l=e.sent)&&0===l.errCode&&(c=l.list),u=a.concat(c),this.setState({listData:u,loading:!1}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),this.setState({loading:!1});case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.shopIndex,n=t.beginDateTime,i=t.endDateTime,s=F[a].name;return r.a.createElement("div",null,r.a.createElement(b.b,{dataSource:this.state.listData,loading:this.state.loading,locale:{emptyText:"\u6682\u65f6\u6ca1\u6709\u6570\u636e"},header:r.a.createElement("div",{style:{textAlign:"center",fontSize:24,fontWeight:"bold"}},"\u62a5\u635f\u5546\u54c1",r.a.createElement("br",null),r.a.createElement(v.a,{overlay:function(){var t=F[0],a=F[1],n=F[2],i=F[3],s=F[4];return r.a.createElement(x.a,{onClick:function(){var t=Object(l.a)(o.a.mark((function t(a){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.key,r=F[n].userId,t.next=4,e.initFirstPage(r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},r.a.createElement(x.a.Item,{key:t.index},t.name),r.a.createElement(x.a.Item,{key:a.index},a.name),r.a.createElement(x.a.Item,{key:n.index},n.name),r.a.createElement(x.a.Item,{key:i.index},i.name),r.a.createElement(x.a.Item,{key:s.index},s.name))},trigger:["click"]},r.a.createElement(y.a,{size:"small",style:{width:240},onClick:function(e){return e.preventDefault()}},s,r.a.createElement(Y.a,null))),r.a.createElement("br",null),r.a.createElement(C,{size:"small",locale:O.a,bordered:!0,style:{width:320,marginTop:15},placeholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"],inputReadOnly:!0,defaultValue:[S()(n,"YYYY.MM.DD+HH:mm:ss"),S()(i,"YYYY.MM.DD+HH:mm:ss")],showTime:{hideDisabledOptions:!0,defaultValue:[S()("00:00:00","HH:mm:ss"),S()("23:59:59","HH:mm:ss")],showTime:!0,showHour:!1,showMinute:!1,showSecond:!1},onChange:function(e){e||g.b.warning("\u8bf7\u9009\u62e9\u6b63\u786e\u7684\u65e5\u671f!")},onOk:function(){var t=Object(l.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a[0].format("YYYY.MM.DD+HH:mm:ss")),console.log(a[1].format("YYYY.MM.DD+HH:mm:ss")),t.next=4,e.initFirstPage(void 0,a[0]?a[0].format("YYYY.MM.DD+HH:mm:ss"):void 0,a[1]?a[1].format("YYYY.MM.DD+HH:mm:ss"):void 0);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),r.a.createElement("br",null),r.a.createElement(R,{style:{width:280,marginTop:15},size:"small",placeholder:"\u8f93\u5165\u5546\u54c1\u540d\u79f0\u540e\u67e5\u8be2",enterButton:"\u67e5\u8be2",onSearch:function(){var t=Object(l.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.initFirstPage(void 0,void 0,void 0,a);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),footer:r.a.createElement("div",{style:{height:100,textAlign:"center",fontSize:14,fontWeight:"lighter"}},"\u5f2f\u9ea6--\u5fc3\u91cc\u6ee1\u6ee1\u90fd\u662f\u4f60"),renderItem:function(t){var a=e.state.listData.indexOf(t),n="gray";0===a?n="orange":1===a?n="green":2===a&&(n="red");var i="-"!==t.specification?" | "+t.specification:"",s=""!==t.category?" | "+t.category:"";return r.a.createElement(b.b.Item,null,r.a.createElement("div",{style:{width:30,height:30,backgroundColor:n,color:"white",fontSize:14,fontWeight:"bold",textAlign:"center",marginRight:15,marginLeft:15,borderRadius:10}},r.a.createElement("div",{style:{marginTop:3}},a+1)),r.a.createElement(b.b.Item.Meta,{title:r.a.createElement("div",null,r.a.createElement("span",{style:{fontSize:16}},t.name),r.a.createElement("span",{style:{fontSize:12}},i),r.a.createElement("span",{style:{fontSize:10}},s)),description:"\u62a5\u635f\u6570\u91cf\uff1a".concat(t.discardNumber)}),r.a.createElement("span",{style:{marginRight:25,color:"coral",fontSize:18}},"\uffe5".concat(t.diacardMoney)))}}))}}]),a}(r.a.Component),W=a(29),N=a(134);a(219);function A(){var e=new URLSearchParams(Object(W.e)().search);return r.a.createElement("div",null,r.a.createElement(W.a,{exact:!0,path:"/",children:r.a.createElement(P,null)}),r.a.createElement(W.a,{path:"/productsale",children:r.a.createElement(P,{query:e})}),r.a.createElement(W.a,{path:"/discardsale",children:r.a.createElement(L,{query:e})}))}function q(){return r.a.createElement(N.a,null,r.a.createElement(A,null))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[143,1,2]]]);
//# sourceMappingURL=main.3f7af307.chunk.js.map