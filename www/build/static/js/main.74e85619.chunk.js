(this.webpackJsonpwww=this.webpackJsonpwww||[]).push([[0],{291:function(e,t,a){e.exports=a(444)},296:function(e,t,a){},308:function(e,t,a){},438:function(e,t,a){e.exports=a.p+"static/media/shoppingCart.09b8794b.png"},439:function(e,t,a){e.exports=a.p+"static/media/\u6559\u80b2\u5c40\u603b\u5e972\u53f7\u5fae\u4fe1.a0f6db3a.jpg"},440:function(e,t,a){e.exports=a.p+"static/media/logo.224b18a1.png"},441:function(e,t,a){},442:function(e,t,a){},444:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(49),o=a.n(i),c=(a(296),a(2)),l=a.n(c),s=a(7),d=a(30),m=a(31),u=a(33),p=a(32),f=a(277),g=a(449),h=a(278),y=a(203),b=a(198),E=a(60),v=a(458),k=a(191);console.log("process.env.NODE_ENV = production");var T=function(){return/^(([-\u4E00-\u9FA5a-z0-9]{1,63})\.)+([\u4E00-\u9FA5a-z]{2,63})\.?$/.test(document.domain)?"http://gratefulwheat.ruyue.xyz/apis":"http://123.207.119.232/apis"},x=function(){var e=Object(s.a)(l.a.mark((function e(t,a,r,n,i,o){var c,s,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=T()+"/product/saleList",c+="?pageIndex=",c+=n,c+="&pageSize=",c+=i,c+="&userId=",c+=t,c+="&beginDateTime=",c+=a,c+="&endDateTime=",c+=r,c+="&keyword=",c+=o,e.next=15,fetch(c);case 15:return s=e.sent,e.next=18,s.json();case 18:return d=e.sent,e.abrupt("return",d);case 20:case"end":return e.stop()}}),e)})));return function(t,a,r,n,i,o){return e.apply(this,arguments)}}(),S=function(){var e=Object(s.a)(l.a.mark((function e(t,a,r,n){var i,o,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=T()+"/product/discardList",i+="?userId=",i+=t,i+="&beginDateTime=",i+=a,i+="&endDateTime=",i+=r,i+="&keyword=",i+=n,console.log(i),e.next=12,fetch(i);case 12:return o=e.sent,e.next=15,o.json();case 15:return c=e.sent,e.abrupt("return",c);case 17:case"end":return e.stop()}}),e)})));return function(t,a,r,n){return e.apply(this,arguments)}}(),w=function(){var e=Object(s.a)(l.a.mark((function e(t,a,r,n,i){var o,c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=T()+"/product/saleAndDiscardList",o+="?userId=",o+=t,o+="&categoryId=",o+=a,o+="&beginDateTime=",o+=r,o+="&endDateTime=",o+=n,o+="&keyword=",o+=i,e.next=13,fetch(o);case 13:return c=e.sent,e.next=16,c.json();case 16:return s=e.sent,e.abrupt("return",s);case 18:case"end":return e.stop()}}),e)})));return function(t,a,r,n,i){return e.apply(this,arguments)}}(),A=function(){var e=Object(s.a)(l.a.mark((function e(t,a,r){var n,i,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=T()+"/coupon/couponSummaryList",n+="?userId=",n+=t,n+="&beginDateTime=",n+=a,n+="&endDateTime=",n+=r,e.next=9,fetch(n);case 9:return i=e.sent,e.next=12,i.json();case 12:return o=e.sent,e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),I=function(){var e=Object(s.a)(l.a.mark((function e(t,a,r,n,i){var o,c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=T()+"/product/orderList",o+="?userId=",o+=t,o+="&templateId=",o+=a,o+="&timeType=",o+=r,o+="&beginDateTime=",o+=n,o+="&endDateTime=",o+=i,e.next=13,fetch(o);case 13:return c=e.sent,e.next=16,c.json();case 16:return s=e.sent,e.abrupt("return",s);case 18:case"end":return e.stop()}}),e)})));return function(t,a,r,n,i){return e.apply(this,arguments)}}(),D=function(){var e=Object(s.a)(l.a.mark((function e(t){var a,r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=T()+"/product/orderItems",a+="?orderId=",a+=t,e.next=5,fetch(a);case 5:return r=e.sent,e.next=8,r.json();case 8:return n=e.sent,e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(s.a)(l.a.mark((function e(t){var a,r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=T()+"/product/findTemplate",a+="?templateUid=",a+=t,e.next=5,fetch(a);case 5:return r=e.sent,e.next=8,r.json();case 8:return n=e.sent,e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(s.a)(l.a.mark((function e(t){var a,r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=T()+"/product/loadProductsByKeyword",a+="?keyword=",a+=t,e.next=5,fetch(a);case 5:return r=e.sent,e.next=8,r.json();case 8:return n=e.sent,e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(s.a)(l.a.mark((function e(t,a){var r,n,i,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=T()+"/product/createStockFlowOut",(n={}).toUserId=t,n.items=a,e.next=6,fetch(r,{method:"post",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}});case 6:return i=e.sent,e.next=9,i.json();case 9:return o=e.sent,e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),P=function(){var e=Object(s.a)(l.a.mark((function e(t){var a,r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=T()+"/product/refuseStockFlow",a+="?flowId=",a+=t,e.next=5,fetch(a);case 5:return r=e.sent,e.next=8,r.json();case 8:return n=e.sent,e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(s.a)(l.a.mark((function e(t){var a,r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=T()+"/product/confirmStockFlow",a+="?flowId=",a+=t,e.next=5,fetch(a);case 5:return r=e.sent,e.next=8,r.json();case 8:return n=e.sent,e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(s.a)(l.a.mark((function e(t,a,r,n){var i,o,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=T()+"/product/flowList",i+="?userId=",i+=t,i+="&flowTypeId=",i+=a,i+="&beginDateTime=",i+=r,i+="&endDateTime=",i+=n,e.next=11,fetch(i);case 11:return o=e.sent,e.next=14,o.json();case 14:return c=e.sent,e.abrupt("return",c);case 16:case"end":return e.stop()}}),e)})));return function(t,a,r,n){return e.apply(this,arguments)}}(),j=function(){var e=Object(s.a)(l.a.mark((function e(t){var a,r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=T()+"/product/flowDetail",a+="?flowId=",a+=t,e.next=5,fetch(a);case 5:return r=e.sent,e.next=8,r.json();case 8:return n=e.sent,e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(s.a)(l.a.mark((function e(t,a,r){var n,i,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=T()+"/coupon/diyCouponList",n+="?pageIndex=",n+=t,n+="&pageSize=",n+=a,n+="&keyword=",n+=r,e.next=9,fetch(n);case 9:return i=e.sent,e.next=12,i.json();case 12:return o=e.sent,e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),B=function(){var e=Object(s.a)(l.a.mark((function e(t){var a,r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=T()+"/member/memberList",a+="?keyword=",a+=t,e.next=5,fetch(a);case 5:return r=e.sent,e.next=8,r.json();case 8:return n=e.sent,e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(s.a)(l.a.mark((function e(t,a){var r,n,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=T()+"/coupon/saveRemark",r+="?couponId=",r+=t,r+="&remark=",r+=a,e.next=7,fetch(r);case 7:return n=e.sent,e.next=10,n.json();case 10:return i=e.sent,e.abrupt("return",i);case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),_=function(){var e=Object(s.a)(l.a.mark((function e(t){var a,r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=T()+"/coupon/createDIYEvent",a+="?started=",a+=t,e.next=5,fetch(a);case 5:return r=e.sent,e.next=8,r.json();case 8:return n=e.sent,e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(s.a)(l.a.mark((function e(){var t,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=T()+"/coupon/DIYEventList",e.next=3,fetch(t);case 3:return a=e.sent,e.next=6,a.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(s.a)(l.a.mark((function e(t){var a,r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=T()+"/coupon/DeleteDIYEvent",a+="?_id=",a+=t,e.next=5,fetch(a);case 5:return r=e.sent,e.next=8,r.json();case 8:return n=e.sent,e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(s.a)(l.a.mark((function e(t,a,r){var n,i,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=T()+"/coupon/joinToEvent",n+="?couponId=",n+=t,n+="&memberName=",n+=a,n+="&eventId=",n+=r,e.next=9,fetch(n);case 9:return i=e.sent,e.next=12,i.json();case 12:return o=e.sent,e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),H=function(){var e=Object(s.a)(l.a.mark((function e(t,a,r,n,i){var o,c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=T()+"/coupon/sendSMSAndJoinToEvent",o+="?phoneNumber=",o+=t,o+="&templateParam1=",o+=a,o+="&couponId=",o+=r,o+="&memberName=",o+=n,o+="&eventId=",o+=i,e.next=13,fetch(o);case 13:return c=e.sent,e.next=16,c.json();case 16:return s=e.sent,e.abrupt("return",s);case 18:case"end":return e.stop()}}),e)})));return function(t,a,r,n,i){return e.apply(this,arguments)}}(),U=function(){var e=Object(s.a)(l.a.mark((function e(t,a,r){var n,i,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=T()+"/coupon/leaveFromEvent",n+="?couponId=",n+=t,n+="&memberName=",n+=a,n+="&eventId=",n+=r,e.next=9,fetch(n);case 9:return i=e.sent,e.next=12,i.json();case 12:return o=e.sent,e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),W=function(){var e=Object(s.a)(l.a.mark((function e(t){var a,r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=T()+"/coupon/saveLastPage",a+="?page=",a+=t,e.next=5,fetch(a);case 5:return r=e.sent,e.next=8,r.json();case 8:return n=e.sent,e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(s.a)(l.a.mark((function e(){var t,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=T()+"/coupon/getLastPage",e.next=3,fetch(t);case 3:return a=e.sent,e.next=6,a.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(s.a)(l.a.mark((function e(t,a,r,n,i,o,c){var s,d,m;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=T()+"/product/loadProductsSale",s+="?categoryId=",s+=t,s+="&userIds=",s+=a,s+="&isSellWell=",s+=r,s+="&beginDateTime=",s+=n,s+="&endDateTime=",s+=i,s+="&orderColumn=",s+=o,s+="&asc=",s+=c,e.next=17,fetch(s);case 17:return d=e.sent,e.next=20,d.json();case 20:return m=e.sent,e.abrupt("return",m);case 22:case"end":return e.stop()}}),e)})));return function(t,a,r,n,i,o,c){return e.apply(this,arguments)}}(),V=function(){var e=Object(s.a)(l.a.mark((function e(){var t,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/image/\u751f\u65e5\u86cb\u7cd5/\u86cb\u7cd53.0/a-\u63a8\u8350\u86cb\u7cd5.json",t+="?random=",t+=Math.floor(1e3*Math.random()),e.next=5,fetch(t,{mode:"no-cors"});case 5:return a=e.sent,e.next=8,a.json();case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(s.a)(l.a.mark((function e(){var t,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/image/\u751f\u65e5\u86cb\u7cd5/\u86cb\u7cd53.0/a-\u6240\u6709\u86cb\u7cd5.json",t+="?random=",t+=Math.floor(1e3*Math.random()),e.next=5,fetch(t,{mode:"no-cors"});case 5:return a=e.sent,e.next=8,a.json();case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(s.a)(l.a.mark((function e(){var t,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/image/\u751f\u65e5\u86cb\u7cd5/\u86cb\u7cd53.0/a-\u5fae\u4fe1\u914d\u7f6e.json",t+="?random=",t+=Math.floor(1e3*Math.random()),e.next=5,fetch(t,{mode:"no-cors"});case 5:return a=e.sent,e.next=8,a.json();case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(s.a)(l.a.mark((function e(){var t,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/image/\u9762\u5305\u725b\u5976/a-\u63a8\u8350\u9762\u5305\u725b\u5976.json",t+="?random=",t+=Math.floor(1e3*Math.random()),e.next=5,fetch(t,{mode:"no-cors"});case 5:return a=e.sent,e.next=8,a.json();case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(s.a)(l.a.mark((function e(){var t,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/image/\u9762\u5305\u725b\u5976/a-\u6240\u6709\u9762\u5305\u725b\u5976.json",t+="?random=",t+=Math.floor(1e3*Math.random()),e.next=5,fetch(t,{mode:"no-cors"});case 5:return a=e.sent,e.next=8,a.json();case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(s.a)(l.a.mark((function e(t){var a,r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=T()+"/wechat/sign",a+="?url=",a+=t,e.next=5,fetch(a);case 5:return r=e.sent,e.next=8,r.json();case 8:return n=e.sent,e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(s.a)(l.a.mark((function e(t,a,r,n,i,o,c){var s,d,m;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=T()+"/wechat/templateSendToSomePeople",s+="?_id=",s+=t,s+="&title=",s+=a,s+="&orderNum=",s+=r,s+="&style=",s+=n,s+="&deliverTime=",s+=i,s+="&name=",s+=o,s+="&phone=",s+=c,e.next=17,fetch(s);case 17:return d=e.sent,e.next=20,d.json();case 20:return m=e.sent,e.abrupt("return",m);case 22:case"end":return e.stop()}}),e)})));return function(t,a,r,n,i,o,c){return e.apply(this,arguments)}}(),te=function(){var e=Object(s.a)(l.a.mark((function e(t,a){var r,n,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=T()+"/amap/geocode",r+="?address=",r+=t,r+="&city=",r+=a,e.next=7,fetch(r);case 7:return n=e.sent,e.next=10,n.json();case 10:return i=e.sent,e.abrupt("return",i);case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ae=function(){var e=Object(s.a)(l.a.mark((function e(t,a,r,n,i,o,c,s,d,m,u,p,f,g,h,y,b,E,v,k){var x,S,w;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x=T()+"/birthdaycake/createOrder",x+="?cakeName=",x+=t,x+="&cakeDescription=",x+=a,x+="&creamType=",x+=r,x+="&cakeSize=",x+=n,x+="&cakeSizeExtra=",x+=i,x+="&cakePrice=",x+=o,x+="&cakeFillings=",x+=c,x+="&candleType=",x+=s,x+="&ignitorType=",x+=d,x+="&hatType=",x+=m,x+="&number4candle=",x+=u,x+="&cakePlateNumber=",x+=p,x+="&pickUpDay=",x+=f,x+="&pickUpTime=",x+=g,x+="&pickUpType=",x+=h,x+="&responseShop=",x+=y,x+="&deliverAddress=",x+=b,x+="&pickUpName=",x+=E,x+="&phoneNumber=",x+=v,x+="&remarks=",x+=k,e.next=43,fetch(x);case 43:return S=e.sent,e.next=46,S.json();case 46:return w=e.sent,e.abrupt("return",w);case 48:case"end":return e.stop()}}),e)})));return function(t,a,r,n,i,o,c,l,s,d,m,u,p,f,g,h,y,b,E,v){return e.apply(this,arguments)}}(),re=function(){var e=Object(s.a)(l.a.mark((function e(t){var a,r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=T()+"/birthdaycake/findOrder",a+="?_id=",a+=t,e.next=5,fetch(a);case 5:return r=e.sent,e.next=8,r.json();case 8:return n=e.sent,e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=a(262),ie=a.n(ne),oe=a(214),ce=(a(116),a(57)),le=a(10),se=a.n(le),de=f.a.Search,me=g.a.RangePicker,ue=[{index:0,name:"\u5168\u90e8",userId:""},{index:1,name:"\u6559\u80b2\u5c40\u5e97",userId:"3995767"},{index:2,name:"\u65e7\u9547\u5e97",userId:"3995771"},{index:3,name:"\u6c5f\u6ee8\u5e97",userId:"4061089"},{index:4,name:"\u6c64\u6cc9\u5e97",userId:"4061092"},{index:5,name:"\u76d8\u9640\u5e97",userId:"4339546"},{index:6,name:"\u72ee\u5934\u5e97",userId:"4359267"},{index:7,name:"\u6f33\u6d66\u7acb\u4eba",userId:"4382444"}],pe=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;Object(d.a)(this,a),(r=t.call(this,e)).handleInfiniteOnLoad=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.fetchNextPage();case 2:case"end":return e.stop()}}),e)})));var n=r.props.query,i="",o="";return n&&(i=(i=n.get("beginDateTime")).replace(" ","+"),o=(o=n.get("endDateTime")).replace(" ","+")),r.state={listData:[],loading:!1,hasMore:!0,pageIndex:1,shopIndex:1,userId:"",beginDateTime:i,endDateTime:o,keyword:""},r}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(s.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.query,a="",t&&(a=t.get("id")),e.next=5,this.initFirstPage(a);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initFirstPage",value:function(){var e=Object(s.a)(l.a.mark((function e(t,a,r,n){var i,o=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=0;case 1:if(!(i<ue.length)){e.next=8;break}if(ue[i].userId!==t){e.next=5;break}return this.setState({shopIndex:i}),e.abrupt("break",8);case 5:i++,e.next=1;break;case 8:this.setState({userId:void 0!==t?t:this.state.userId,listData:[],loading:!1,hasMore:!0,pageIndex:1,beginDateTime:void 0!==a?a:this.state.beginDateTime,endDateTime:void 0!==r?r:this.state.endDateTime,keyword:void 0!==n?n:this.state.keyword},Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.fetchNextPage();case 2:case"end":return e.stop()}}),e)}))));case 9:case"end":return e.stop()}}),e,this)})));return function(t,a,r,n){return e.apply(this,arguments)}}()},{key:"fetchNextPage",value:function(){var e=Object(s.a)(l.a.mark((function e(){var t,a,r,n,i,o,c,s,d,m,u,p,f;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,a=t.hasMore,r=t.pageIndex,n=t.listData,a){e.next=4;break}return h.b.warning("\u6ca1\u6709\u66f4\u591a\u6570\u636e\u4e86"),e.abrupt("return");case 4:return this.setState({loading:!0}),e.prev=5,i=this.state,o=i.userId,c=i.beginDateTime,s=i.endDateTime,d=i.keyword,m=[],e.next=10,x(o,c,s,r,20,d);case 10:(u=e.sent)&&0===u.errCode&&(m=u.list),p=m.length/20>=1,f=r,p&&f++,n=n.concat(m),this.setState({listData:n,hasMore:p,loading:!1,pageIndex:f}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(5),this.setState({loading:!1});case 22:case"end":return e.stop()}}),e,this,[[5,19]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.shopIndex,r=t.beginDateTime,i=t.endDateTime,o=ue[a].name;return n.a.createElement("div",{style:{height:window.innerHeight,overflow:"auto"}},n.a.createElement("div",{style:{textAlign:"center",fontSize:24,fontWeight:"bold"}},"\u70ed\u5356",n.a.createElement("br",null),n.a.createElement(y.a,{overlay:function(){var t=ue[0],a=ue[1],r=ue[2],i=ue[3],o=ue[4],c=ue[5],d=ue[6],m=ue[7];return n.a.createElement(b.a,{onClick:function(){var t=Object(s.a)(l.a.mark((function t(a){var r,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.key,n=ue[r].userId,t.next=4,e.initFirstPage(n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},n.a.createElement(b.a.Item,{key:t.index},t.name),n.a.createElement(b.a.Item,{key:a.index},a.name),n.a.createElement(b.a.Item,{key:r.index},r.name),n.a.createElement(b.a.Item,{key:i.index},i.name),n.a.createElement(b.a.Item,{key:o.index},o.name),n.a.createElement(b.a.Item,{key:c.index},c.name),n.a.createElement(b.a.Item,{key:d.index},d.name),n.a.createElement(b.a.Item,{key:m.index},m.name))},trigger:["click"]},n.a.createElement(E.a,{size:"small",style:{width:240},onClick:function(e){return e.preventDefault()}},o,n.a.createElement(oe.a,null))),n.a.createElement("br",null),n.a.createElement(me,{size:"small",locale:ce.a,bordered:!0,style:{width:320,marginTop:15},placeholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"],inputReadOnly:!0,defaultValue:[se()(r,"YYYY.MM.DD+HH:mm:ss"),se()(i,"YYYY.MM.DD+HH:mm:ss")],showTime:{hideDisabledOptions:!0,defaultValue:[se()("00:00:00","HH:mm:ss"),se()("23:59:59","HH:mm:ss")],showTime:!0,showHour:!1,showMinute:!1,showSecond:!1},onChange:function(e){e||h.b.warning("\u8bf7\u9009\u62e9\u6b63\u786e\u7684\u65e5\u671f!")},onOk:function(){var t=Object(s.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.initFirstPage(void 0,a[0]?a[0].format("YYYY.MM.DD+HH:mm:ss"):void 0,a[1]?a[1].format("YYYY.MM.DD+HH:mm:ss"):void 0);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),n.a.createElement("br",null),n.a.createElement(de,{style:{width:280,marginTop:15},size:"small",placeholder:"\u8f93\u5165\u5546\u54c1\u540d\u79f0\u540e\u67e5\u8be2",enterButton:"\u67e5\u8be2",onSearch:function(){var t=Object(s.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.initFirstPage(void 0,void 0,void 0,a);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),n.a.createElement(ie.a,{initialLoad:!1,pageStart:0,loadMore:this.handleInfiniteOnLoad,hasMore:!this.state.loading&&this.state.hasMore,useWindow:!1},n.a.createElement(v.b,{dataSource:this.state.listData,locale:{emptyText:"\u6682\u65f6\u6ca1\u6709\u6570\u636e"},footer:n.a.createElement("div",{style:{height:100,textAlign:"center",fontSize:14,fontWeight:"lighter"}},"\u5f2f\u9ea6--\u5fc3\u91cc\u6ee1\u6ee1\u90fd\u662f\u4f60"),renderItem:function(t){var a=e.state.listData.indexOf(t),r="gray";0===a?r="orange":1===a?r="green":2===a&&(r="red");var i="-"!==t.specification?" | "+t.specification:"",o=""!==t.category?" | "+t.category:"";return n.a.createElement(v.b.Item,null,n.a.createElement("div",{style:{width:30,height:30,backgroundColor:r,color:"white",fontSize:14,fontWeight:"bold",textAlign:"center",marginRight:15,marginLeft:15,borderRadius:10}},n.a.createElement("div",{style:{marginTop:3}},a+1)),n.a.createElement(v.b.Item.Meta,{title:n.a.createElement("div",null,n.a.createElement("span",{style:{fontSize:16}},t.name),n.a.createElement("span",{style:{fontSize:12}},i),n.a.createElement("span",{style:{fontSize:10}},o)),description:"\u9500\u552e\u6570\u91cf\uff1a".concat(t.saleNumber," \u73b0\u6709\u5e93\u5b58\uff1a").concat(t.currentNumber)}),n.a.createElement("span",{style:{marginRight:25,color:"coral",fontSize:18}},"\uffe5".concat(t.realIncome)))}},this.state.loading&&this.state.hasMore&&n.a.createElement("div",null,n.a.createElement(k.a,{style:{position:"absolute",bottom:15,width:"100%",textAlign:"center"}})))))}}]),a}(n.a.Component),fe=pe,ge=g.a.RangePicker,he=f.a.Search,ye=[{index:0,name:"\u5168\u90e8",userId:""},{index:1,name:"\u6559\u80b2\u5c40\u5e97",userId:"3995767"},{index:2,name:"\u65e7\u9547\u5e97",userId:"3995771"},{index:3,name:"\u6c5f\u6ee8\u5e97",userId:"4061089"},{index:4,name:"\u6c64\u6cc9\u5e97",userId:"4061092"},{index:5,name:"\u76d8\u9640\u5e97",userId:"4339546"},{index:6,name:"\u72ee\u5934\u5e97",userId:"4359267"},{index:7,name:"\u6f33\u6d66\u7acb\u4eba",userId:"4382444"}],be=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;Object(d.a)(this,a);var n=(r=t.call(this,e)).props.query,i="",o="";return n&&(i=(i=n.get("beginDateTime")).replace(" ","+"),o=(o=n.get("endDateTime")).replace(" ","+")),r.state={userId:"",shopIndex:1,listData:[],loading:!1,beginDateTime:i,endDateTime:o,keyword:""},r}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(s.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.query,a="",t&&(a=t.get("id")),e.next=5,this.initFirstPage(a);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initFirstPage",value:function(){var e=Object(s.a)(l.a.mark((function e(t,a,r,n){var i,o=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=0;case 1:if(!(i<ye.length)){e.next=8;break}if(ye[i].userId!==t){e.next=5;break}return this.setState({shopIndex:i}),e.abrupt("break",8);case 5:i++,e.next=1;break;case 8:this.setState({userId:void 0!==t?t:this.state.userId,listData:[],loading:!1,beginDateTime:void 0!==a?a:this.state.beginDateTime,endDateTime:void 0!==r?r:this.state.endDateTime,keyword:void 0!==n?n:this.state.keyword},Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.fetchListData();case 2:case"end":return e.stop()}}),e)}))));case 9:case"end":return e.stop()}}),e,this)})));return function(t,a,r,n){return e.apply(this,arguments)}}()},{key:"fetchListData",value:function(){var e=Object(s.a)(l.a.mark((function e(){var t,a,r,n,i,o,c,s,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.state,a=t.listData,r=t.userId,n=t.beginDateTime,i=t.endDateTime,o=t.keyword,c=[],this.setState({loading:!0}),e.next=6,S(r,n,i,o);case 6:(s=e.sent)&&0===s.errCode&&(c=s.list),d=a.concat(c),this.setState({listData:d,loading:!1}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),this.setState({loading:!1});case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.shopIndex,r=t.beginDateTime,i=t.endDateTime,o=ye[a].name;return n.a.createElement("div",null,n.a.createElement(v.b,{dataSource:this.state.listData,loading:this.state.loading,locale:{emptyText:"\u6682\u65f6\u6ca1\u6709\u6570\u636e"},header:n.a.createElement("div",{style:{textAlign:"center",fontSize:24,fontWeight:"bold"}},"\u62a5\u635f",n.a.createElement("br",null),n.a.createElement(y.a,{overlay:function(){var t=ye[0],a=ye[1],r=ye[2],i=ye[3],o=ye[4],c=ye[5],d=ye[6],m=ye[7];return n.a.createElement(b.a,{onClick:function(){var t=Object(s.a)(l.a.mark((function t(a){var r,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.key,n=ye[r].userId,t.next=4,e.initFirstPage(n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},n.a.createElement(b.a.Item,{key:t.index},t.name),n.a.createElement(b.a.Item,{key:a.index},a.name),n.a.createElement(b.a.Item,{key:r.index},r.name),n.a.createElement(b.a.Item,{key:i.index},i.name),n.a.createElement(b.a.Item,{key:o.index},o.name),n.a.createElement(b.a.Item,{key:c.index},c.name),n.a.createElement(b.a.Item,{key:d.index},d.name),n.a.createElement(b.a.Item,{key:m.index},m.name))},trigger:["click"]},n.a.createElement(E.a,{size:"small",style:{width:240},onClick:function(e){return e.preventDefault()}},o,n.a.createElement(oe.a,null))),n.a.createElement("br",null),n.a.createElement(ge,{size:"small",locale:ce.a,bordered:!0,style:{width:320,marginTop:15},placeholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"],inputReadOnly:!0,defaultValue:[se()(r,"YYYY.MM.DD+HH:mm:ss"),se()(i,"YYYY.MM.DD+HH:mm:ss")],showTime:{hideDisabledOptions:!0,defaultValue:[se()("00:00:00","HH:mm:ss"),se()("23:59:59","HH:mm:ss")],showTime:!0,showHour:!1,showMinute:!1,showSecond:!1},onChange:function(e){e||h.b.warning("\u8bf7\u9009\u62e9\u6b63\u786e\u7684\u65e5\u671f!")},onOk:function(){var t=Object(s.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a[0].format("YYYY.MM.DD+HH:mm:ss")),console.log(a[1].format("YYYY.MM.DD+HH:mm:ss")),t.next=4,e.initFirstPage(void 0,a[0]?a[0].format("YYYY.MM.DD+HH:mm:ss"):void 0,a[1]?a[1].format("YYYY.MM.DD+HH:mm:ss"):void 0);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),n.a.createElement("br",null),n.a.createElement(he,{style:{width:280,marginTop:15},size:"small",placeholder:"\u8f93\u5165\u5546\u54c1\u540d\u79f0\u540e\u67e5\u8be2",enterButton:"\u67e5\u8be2",onSearch:function(){var t=Object(s.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.initFirstPage(void 0,void 0,void 0,a);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),footer:n.a.createElement("div",{style:{height:100,textAlign:"center",fontSize:14,fontWeight:"lighter"}},"\u5f2f\u9ea6--\u5fc3\u91cc\u6ee1\u6ee1\u90fd\u662f\u4f60"),renderItem:function(t){var a=e.state.listData.indexOf(t),r="gray";0===a?r="orange":1===a?r="green":2===a&&(r="red");var i="-"!==t.specification?" | "+t.specification:"",o=""!==t.category?" | "+t.category:"";return n.a.createElement(v.b.Item,null,n.a.createElement("div",{style:{width:30,height:30,backgroundColor:r,color:"white",fontSize:14,fontWeight:"bold",textAlign:"center",marginRight:15,marginLeft:15,borderRadius:10}},n.a.createElement("div",{style:{marginTop:3}},a+1)),n.a.createElement(v.b.Item.Meta,{title:n.a.createElement("div",null,n.a.createElement("span",{style:{fontSize:16}},t.name),n.a.createElement("span",{style:{fontSize:12}},i),n.a.createElement("span",{style:{fontSize:10}},o)),description:"\u62a5\u635f\u6570\u91cf\uff1a".concat(t.discardNumber)}),n.a.createElement("span",{style:{marginRight:25,color:"coral",fontSize:18}},"\uffe5".concat(t.diacardMoney)))}}))}}]),a}(n.a.Component),Ee=be,ve=f.a.Search,ke=g.a.RangePicker,Te=[{index:0,name:"\u5168\u90e8\u95e8\u5e97",userId:""},{index:1,name:"\u6559\u80b2\u5c40\u5e97",userId:"3995767"},{index:2,name:"\u65e7\u9547\u5e97",userId:"3995771"},{index:3,name:"\u6c5f\u6ee8\u5e97",userId:"4061089"},{index:4,name:"\u6c64\u6cc9\u5e97",userId:"4061092"},{index:5,name:"\u76d8\u9640\u5e97",userId:"4339546"},{index:6,name:"\u72ee\u5934\u5e97",userId:"4359267"},{index:7,name:"\u6f33\u6d66\u7acb\u4eba",userId:"4382444"}],xe="%221593049816479739965%22,%221593049854760654816%22,%221592989355905414162%22,%221593049881212199906%22,%221593059349213583584%22",Se=[{index:0,name:"\u5168\u90e8",categoryId:xe},{index:1,name:"\u73b0\u70e4\u7c7b",categoryId:"%221593049816479739965%22"},{index:2,name:"\u5410\u53f8\u7c7b",categoryId:"%221593049854760654816%22"},{index:3,name:"\u9910\u5305\u7c7b",categoryId:"%221626767161867698544%22"},{index:4,name:"\u897f\u70b9\u7c7b",categoryId:"%221592989355905414162%22"},{index:5,name:"\u5e38\u6e29\u7c7b",categoryId:"%221593049881212199906%22"},{index:6,name:"\u5e72\u70b9\u7c7b",categoryId:"%221593059349213583584%22"}],we=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;Object(d.a)(this,a);var n=(r=t.call(this,e)).props.query,i=se()().format("YYYY-MM-DD")+"+00:00:00",o=se()().format("YYYY-MM-DD")+"+23:59:59";return n&&(i=n.get("beginDateTime")?n.get("beginDateTime"):i,o=n.get("endDateTime")?n.get("endDateTime"):o),r.state={userId:"",shopIndex:1,categoryId:xe,categoryIndex:0,listData:[],loading:!1,beginDateTime:i,endDateTime:o,keyword:""},r}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(s.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.query,a="",t&&t.get("id")&&(a=t.get("id")),e.next=5,this.initFirstPage(a);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initFirstPage",value:function(){var e=Object(s.a)(l.a.mark((function e(t,a,r,n,i){var o,c,d=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=0;case 1:if(!(o<Te.length)){e.next=8;break}if(Te[o].userId!==t){e.next=5;break}return this.setState({shopIndex:o}),e.abrupt("break",8);case 5:o++,e.next=1;break;case 8:c=0;case 9:if(!(c<Se.length)){e.next=16;break}if(Se[c].categoryId!==a){e.next=13;break}return this.setState({categoryIndex:c}),e.abrupt("break",16);case 13:c++,e.next=9;break;case 16:this.setState({userId:void 0!==t?t:this.state.userId,categoryId:void 0!==a?a:this.state.categoryId,listData:[],loading:!1,beginDateTime:void 0!==r?r:this.state.beginDateTime,endDateTime:void 0!==n?n:this.state.endDateTime,keyword:void 0!==i?i:""},Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.fetchListData();case 2:case"end":return e.stop()}}),e)}))));case 17:case"end":return e.stop()}}),e,this)})));return function(t,a,r,n,i){return e.apply(this,arguments)}}()},{key:"fetchListData",value:function(){var e=Object(s.a)(l.a.mark((function e(){var t,a,r,n,i,o,c,s,d,m,u,p,f,g;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.state,a=t.listData,r=t.userId,n=t.categoryId,i=t.beginDateTime,o=t.endDateTime,c=t.keyword,s=[],this.setState({loading:!0}),(m=(d=i).indexOf("+"))>=0&&(d=d.substring(0,m)),(p=(u=o).indexOf("+"))>=0&&(u=u.substring(0,p)),e.next=12,w(r,n,d,u,c);case 12:(f=e.sent)&&0===f.errCode&&(s=f.list),g=a.concat(s),this.setState({listData:g,loading:!1}),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),this.setState({loading:!1});case 21:case"end":return e.stop()}}),e,this,[[0,18]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.shopIndex,r=t.beginDateTime,i=t.endDateTime,o=t.categoryIndex,c=Te[a].name,d=Se[o].name;return n.a.createElement("div",null,n.a.createElement(v.b,{dataSource:this.state.listData,loading:this.state.loading,locale:{emptyText:"\u6682\u65f6\u6ca1\u6709\u6570\u636e"},header:n.a.createElement("div",{style:{textAlign:"center",fontSize:24,fontWeight:"bold"}},"\u5546\u54c1\u62a5\u635f\u4e0e\u9500\u552e\u5206\u6790",n.a.createElement("br",null),n.a.createElement(y.a,{overlay:function(){var t=Te[0],a=Te[1],r=Te[2],i=Te[3],o=Te[4],c=Te[5],d=Te[6],m=Te[7];return n.a.createElement(b.a,{onClick:function(){var t=Object(s.a)(l.a.mark((function t(a){var r,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.key,n=Te[r].userId,t.next=4,e.initFirstPage(n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},n.a.createElement(b.a.Item,{key:t.index},t.name),n.a.createElement(b.a.Item,{key:a.index},a.name),n.a.createElement(b.a.Item,{key:r.index},r.name),n.a.createElement(b.a.Item,{key:i.index},i.name),n.a.createElement(b.a.Item,{key:o.index},o.name),n.a.createElement(b.a.Item,{key:c.index},c.name),n.a.createElement(b.a.Item,{key:d.index},d.name),n.a.createElement(b.a.Item,{key:m.index},m.name))},trigger:["click"]},n.a.createElement(E.a,{size:"small",style:{width:240},onClick:function(e){return e.preventDefault()}},c,n.a.createElement(oe.a,null))),n.a.createElement("br",null),n.a.createElement(y.a,{overlay:function(){var t=Se[0],a=Se[1],r=Se[2],i=Se[3],o=Se[4],c=Se[5],d=Se[6];return n.a.createElement(b.a,{onClick:function(){var t=Object(s.a)(l.a.mark((function t(a){var r,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.key,n=Se[r].categoryId,t.next=4,e.initFirstPage(void 0,n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},n.a.createElement(b.a.Item,{key:t.index},t.name),n.a.createElement(b.a.Item,{key:a.index},a.name),n.a.createElement(b.a.Item,{key:r.index},r.name),n.a.createElement(b.a.Item,{key:i.index},i.name),n.a.createElement(b.a.Item,{key:o.index},o.name),n.a.createElement(b.a.Item,{key:c.index},c.name),n.a.createElement(b.a.Item,{key:d.index},d.name))},trigger:["click"]},n.a.createElement(E.a,{size:"small",style:{width:240},onClick:function(e){return e.preventDefault()}},d,n.a.createElement(oe.a,null))),n.a.createElement("br",null),n.a.createElement(ke,{size:"small",locale:ce.a,bordered:!0,style:{width:320,marginTop:15},placeholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"],inputReadOnly:!0,defaultValue:[se()(r,"YYYY-MM-DD+HH:mm:ss"),se()(i,"YYYY-MM-DD+HH:mm:ss")],showTime:{hideDisabledOptions:!0,defaultValue:[se()("00:00:00","HH:mm:ss"),se()("23:59:59","HH:mm:ss")],showTime:!1,showHour:!1,showMinute:!1,showSecond:!1},onChange:function(e){e||h.b.warning("\u8bf7\u9009\u62e9\u6b63\u786e\u7684\u65e5\u671f!")},onOk:function(){var t=Object(s.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a.length>=2)){t.next=3;break}return t.next=3,e.initFirstPage(void 0,void 0,a[0]?a[0].format("YYYY-MM-DD"):void 0,a[1]?a[1].format("YYYY-MM-DD"):void 0);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),n.a.createElement("br",null),n.a.createElement(ve,{style:{width:280,marginTop:15},size:"small",placeholder:"\u8f93\u5165\u5546\u54c1\u540d\u79f0\u540e\u67e5\u8be2",enterButton:"\u67e5\u8be2",onSearch:function(){var t=Object(s.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.initFirstPage(void 0,void 0,void 0,void 0,a);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),value:this.state.keyword,onChange:function(t){var a=t.target.value;e.setState({keyword:a})}})),footer:n.a.createElement("div",{style:{height:100,textAlign:"center",fontSize:14,fontWeight:"lighter"}},"\u5f2f\u9ea6--\u5fc3\u91cc\u6ee1\u6ee1\u90fd\u662f\u4f60"),renderItem:function(t){var a=e.state.listData.indexOf(t),r="gray";0===a?r="orange":1===a?r="green":2===a&&(r="red");var i="-"!==t.specification?" | "+t.specification:"",o=""!==t.category?" | "+t.category:"";return n.a.createElement(v.b.Item,null,n.a.createElement("div",{style:{width:30,height:30,backgroundColor:r,color:"white",fontSize:14,fontWeight:"bold",textAlign:"center",marginRight:15,marginLeft:15,borderRadius:10}},n.a.createElement("div",{style:{marginTop:3}},a+1)),n.a.createElement(v.b.Item.Meta,{title:n.a.createElement("div",null,n.a.createElement("span",{style:{fontSize:16}},t.name),n.a.createElement("span",{style:{fontSize:12}},i),n.a.createElement("span",{style:{fontSize:10}},o)),description:n.a.createElement("div",null,n.a.createElement("div",{style:{color:"coral",fontSize:12}},"\u62a5\u635f\u6570\u91cf\uff1a".concat(t.discardNumber,"  \u62a5\u635f\u91d1\u989d\uff1a\uffe5").concat(t.diacardMoney)),n.a.createElement("div",{style:{color:"coral",fontSize:12}},"\u9500\u552e\u6570\u91cf\uff1a".concat(t.saleNumber,"  \u9500\u552e\u91d1\u989d\uff1a\uffe5").concat(t.saleMoney)),n.a.createElement("div",{style:{color:"darkred",fontSize:16}},"\u62a5\u635f\u7387\uff1a".concat(t.discardProportion," %")))}))}}))}}]),a}(n.a.Component),Ae=we,Ie=g.a.RangePicker,De=[{index:0,name:"\u5168\u90e8",userId:""},{index:1,name:"\u6559\u80b2\u5c40\u5e97",userId:"3995767"},{index:2,name:"\u65e7\u9547\u5e97",userId:"3995771"},{index:3,name:"\u6c5f\u6ee8\u5e97",userId:"4061089"},{index:4,name:"\u6c64\u6cc9\u5e97",userId:"4061092"},{index:5,name:"\u76d8\u9640\u5e97",userId:"4339546"},{index:6,name:"\u72ee\u5934\u5e97",userId:"4359267"},{index:7,name:"\u6f33\u6d66\u7acb\u4eba",userId:"4382444"}],Oe=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;Object(d.a)(this,a);var n=(r=t.call(this,e)).props.query,i=se()().format("YYYY.MM.DD")+"+00:00:00",o=se()().format("YYYY.MM.DD")+"+23:59:59";return n&&(i=n.get("beginDateTime")?n.get("beginDateTime"):i,o=n.get("endDateTime")?n.get("endDateTime"):o),r.state={userId:"",shopIndex:1,listData:[],loading:!1,beginDateTime:i,endDateTime:o},r}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(s.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.query,a="",t&&t.get("id")&&(a=t.get("id")),e.next=5,this.initFirstPage(a);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initFirstPage",value:function(){var e=Object(s.a)(l.a.mark((function e(t,a,r){var n,i=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<De.length)){e.next=8;break}if(De[n].userId!==t){e.next=5;break}return this.setState({shopIndex:n}),e.abrupt("break",8);case 5:n++,e.next=1;break;case 8:this.setState({userId:void 0!==t?t:this.state.userId,listData:[],loading:!1,beginDateTime:void 0!==a?a:this.state.beginDateTime,endDateTime:void 0!==r?r:this.state.endDateTime},Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.fetchListData();case 2:case"end":return e.stop()}}),e)}))));case 9:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"fetchListData",value:function(){var e=Object(s.a)(l.a.mark((function e(){var t,a,r,n,i,o,c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.state,a=t.listData,r=t.userId,n=t.beginDateTime,i=t.endDateTime,o=[],this.setState({loading:!0}),e.next=6,A(r,n,i);case 6:(c=e.sent)&&0===c.errCode&&(o=c.list),s=a.concat(o),this.setState({listData:s,loading:!1}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),this.setState({loading:!1});case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.shopIndex,r=t.beginDateTime,i=t.endDateTime,o=De[a].name;return n.a.createElement("div",null,n.a.createElement(v.b,{dataSource:this.state.listData,loading:this.state.loading,locale:{emptyText:"\u6682\u65f6\u6ca1\u6709\u6570\u636e"},header:n.a.createElement("div",{style:{textAlign:"center",fontSize:24,fontWeight:"bold"}},"\u4f18\u60e0\u52b5\u7edf\u8ba1",n.a.createElement("br",null),n.a.createElement(y.a,{overlay:function(){var t=De[0],a=De[1],r=De[2],i=De[3],o=De[4],c=De[5],d=De[6],m=De[7];return n.a.createElement(b.a,{onClick:function(){var t=Object(s.a)(l.a.mark((function t(a){var r,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.key,n=De[r].userId,t.next=4,e.initFirstPage(n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},n.a.createElement(b.a.Item,{key:t.index},t.name),n.a.createElement(b.a.Item,{key:a.index},a.name),n.a.createElement(b.a.Item,{key:r.index},r.name),n.a.createElement(b.a.Item,{key:i.index},i.name),n.a.createElement(b.a.Item,{key:o.index},o.name),n.a.createElement(b.a.Item,{key:c.index},c.name),n.a.createElement(b.a.Item,{key:d.index},d.name),n.a.createElement(b.a.Item,{key:m.index},m.name))},trigger:["click"]},n.a.createElement(E.a,{size:"small",style:{width:240},onClick:function(e){return e.preventDefault()}},o,n.a.createElement(oe.a,null))),n.a.createElement("br",null),n.a.createElement(Ie,{size:"small",locale:ce.a,bordered:!0,style:{width:320,marginTop:15},placeholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"],inputReadOnly:!0,defaultValue:[se()(r,"YYYY.MM.DD+HH:mm:ss"),se()(i,"YYYY.MM.DD+HH:mm:ss")],showTime:{hideDisabledOptions:!0,defaultValue:[se()("00:00:00","HH:mm:ss"),se()("23:59:59","HH:mm:ss")],showTime:!0,showHour:!1,showMinute:!1,showSecond:!1},onChange:function(e){e||h.b.warning("\u8bf7\u9009\u62e9\u6b63\u786e\u7684\u65e5\u671f!")},onOk:function(){var t=Object(s.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a[0].format("YYYY.MM.DD+HH:mm:ss")),console.log(a[1].format("YYYY.MM.DD+HH:mm:ss")),t.next=4,e.initFirstPage(void 0,a[0]?a[0].format("YYYY.MM.DD+HH:mm:ss"):void 0,a[1]?a[1].format("YYYY.MM.DD+HH:mm:ss"):void 0);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),n.a.createElement("br",null)),footer:n.a.createElement("div",{style:{height:100,textAlign:"center",fontSize:14,fontWeight:"lighter"}},"\u5f2f\u9ea6--\u5fc3\u91cc\u6ee1\u6ee1\u90fd\u662f\u4f60"),renderItem:function(t){var a=e.state.listData.indexOf(t),r="gray";return 0===a?r="orange":1===a?r="green":2===a&&(r="red"),n.a.createElement(v.b.Item,null,n.a.createElement("div",{style:{width:30,height:30,backgroundColor:r,color:"white",fontSize:14,fontWeight:"bold",textAlign:"center",marginRight:15,marginLeft:15,borderRadius:10}},n.a.createElement("div",{style:{marginTop:3}},a+1)),n.a.createElement(v.b.Item.Meta,{title:n.a.createElement("div",null,n.a.createElement("span",{style:{fontSize:16}},t.name)),description:n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("span",{style:{color:"darkred",fontSize:14}},"\u5c5e\u6027\uff1a"),n.a.createElement("span",{style:{color:"darkred",fontSize:12}},"\u9762\u503c\u91d1\u989d\uff1a".concat(t.faceValue," , \u9500\u552e\u4ef7\u683c\uff1a\uffe5").concat(t.salePrice))),n.a.createElement("div",null,n.a.createElement("span",{style:{color:"darkred",fontSize:14}},"\u6838\u9500\uff1a"),n.a.createElement("span",{style:{color:"darkred",fontSize:12}},"\u6570\u91cf\uff1a".concat(t.writeOffNumber," , \u4f18\u60e0\u91d1\u989d\uff1a\uffe5").concat(t.writeOffValue,", \u4ea4\u6613\u91d1\u989d\uff1a\uffe5").concat(t.payValue))),n.a.createElement("div",null,n.a.createElement("span",{style:{color:"gray",fontSize:14}},"\u9500\u552e\uff1a"),n.a.createElement("span",{style:{color:"gray",fontSize:12}},"\u6570\u91cf\uff1a".concat(t.saleNumber," , \u9500\u552e\u91d1\u989d\uff1a\uffe5").concat(t.saleValue))),n.a.createElement("div",null,n.a.createElement("span",{style:{color:"gray",fontSize:14}},"\u975e\u9500\u552e(\u8d60\u9001)\uff1a"),n.a.createElement("span",{style:{color:"gray",fontSize:12}},"\u6570\u91cf\uff1a".concat(t.presentNumber))))}))}}))}}]),a}(n.a.Component),Ce=Oe,Le=a(451),Pe=a(197),Ne=a(453),ze=a(201),je=a(460),Re=a(89),Be=a(461),Me=a(153),_e=a(462),Ye=a(463),Qe=a(464),Fe=a(465),He=a(466),Ue=a(467),We=(a(308),f.a.TextArea),Je=f.a.Search,Ke=Le.a.Text,Ve=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).showCallModal=function(){var e=Object(s.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({callModalVisible:!0,phoneNumToBeCall:"-----------"}),e.next=3,r.getPhoneNumberBy(t);case 3:(a=e.sent)&&r.setState({phoneNumToBeCall:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.handleCallModalOnOk=function(){r.setState({callModalVisible:!1}),window.location.href="tel:"+r.state.phoneNumToBeCall},r.handleCallModalOnCancel=function(){r.setState({callModalVisible:!1})},r.showMessageModal=function(){var e=Object(s.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({messageModalVisible:!0,phoneNumToBeCall:"-----------"}),e.next=3,r.getPhoneNumberBy(t);case 3:(a=e.sent)&&r.setState({phoneNumToBeCall:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.handleMessageModalOnOk=Object(s.a)(l.a.mark((function e(){var t,a,n,i,o,c,s,d,m,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.setState({messageModalVisible:!1}),t=r.state,a=t.DIYEventList,n=t.whichEventIndexToChoose,i=t.lastMessageItem,!(o=a[n])){e.next=12;break}return c=se()(o.started).utcOffset(8),s=i.couponId,d=i.memberName,m=o._id,e.next=10,H(r.state.phoneNumToBeCall,c.format("MM-DD HH:mm"),s,d,m);case 10:(u=e.sent)&&0===u.errCode?(h.b.info("\u52a0\u5165DIY\u6d3b\u52a8\u540d\u5355\u5e76\u6210\u529f\u53d1\u9001\u77ed\u4fe1"),i.remark=u.remark,r.fetchDIYEventList(),"small"===r.state.DIYEventShowMode&&(r.setState({DIYEventShowMode:"large"}),r.setState({DIYEventShowMode:"small"})),r.forceUpdate()):u?h.b.info(u.errMessage):h.b.info("\u6dfb\u52a0\u5931\u8d25");case 12:case"end":return e.stop()}}),e)}))),r.handleMessageModalOnCancel=function(){r.setState({messageModalVisible:!1})},r.showCreateDIYEventModal=function(){r.setState({createDIYEventModalVisible:!0})},r.showJoinToEventModal=function(){r.setState({joinToEventModalVisible:!0})},r.getPhoneNumberBy=function(){var e=Object(s.a)(l.a.mark((function e(t){var a,r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="",e.next=3,B(t);case 3:return 0===(r=e.sent).errCode&&1===r.list.length&&(n=r.list[0].phoneNum,a=n),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.handleCreateDIYEventModalOnOk=Object(s.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({createDIYEventModalVisible:!1}),t=r.state.eventTime4createDIY,e.next=4,_(t);case 4:a=e.sent,console.log(a),0!==a.errCode?h.b.error(a.errMessage):(h.b.info("\u521b\u5efaDIY\u6d3b\u52a8\u6210\u529f\uff01"),r.fetchDIYEventList(!1));case 7:case"end":return e.stop()}}),e)}))),r.handleCreateDIYEventModalOnCancel=function(){r.setState({createDIYEventModalVisible:!1})},r.handleCreateDIYEventDayOnOk=function(e){r.setState({eventTime4createDIY:e})},r.handleDeleteDIY=function(){var e=Object(s.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(t);case 2:if(!(a=e.sent)||0!==a.errCode){e.next=6;break}return e.next=6,r.fetchDIYEventList(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.handleJoinToEventModalOnOk=Object(s.a)(l.a.mark((function e(){var t,a,n,i,o,c,s,d,m;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({joinToEventModalVisible:!1}),t=r.state,a=t.lastJoinToEventItem,n=t.whichEventIndexToChoose,i=t.DIYEventList,o=a.couponId,c=a.memberName,s=i[n],d=s._id,e.next=8,F(o,c,d);case 8:(m=e.sent)&&0===m.errCode?(h.b.info("\u6d3b\u52a8\u52a0\u5165\u6210\u529f"),r.fetchDIYEventList(),a.remark=m.remark,"small"===r.state.DIYEventShowMode&&(r.setState({DIYEventShowMode:"large"}),r.setState({DIYEventShowMode:"small"})),r.forceUpdate()):m?h.b.info(m.errMessage):h.b.info("\u6dfb\u52a0\u5931\u8d25");case 10:case"end":return e.stop()}}),e)}))),r.handleJoinToEventModalOnCancel=function(){r.setState({joinToEventModalVisible:!1})},r.state={pageIndex:1,total:1,listData:[],loading:!1,callModalVisible:!1,phoneNumToBeCall:"",messageModalVisible:!1,lastCallItem:void 0,lastMessageItem:void 0,lastSaveItem:void 0,lastJoinToEventItem:void 0,keyword:"",createDIYEventModalVisible:!1,eventTime4createDIY:se()().set("second",0).set("millisecond",0),DIYEventList:[],DIYEventShowMode:"large",whichEventIndexToChoose:0,joinToEventModalVisible:!1},r}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(s.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J();case 2:(t=e.sent)&&0===t.errCode&&(a=t.page,this.fetchListDataByPage(a)),this.fetchDIYEventList(!0);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchDIYEventList",value:function(){var e=Object(s.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,Y();case 3:(r=e.sent)&&0===r.errCode&&(a=r.list),this.setState({DIYEventList:a});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchListDataByPage",value:function(){var e=Object(s.a)(l.a.mark((function e(t){var a,r=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a=this.state.keyword,this.setState({listData:[],pageIndex:t},Object(s.a)(l.a.mark((function e(){var n,i,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],i=1,r.setState({loading:!0}),e.next=5,R(t,10,a);case 5:(o=e.sent)&&0===o.errCode&&(n=o.list,i=o.total),r.setState({listData:n,loading:!1,total:i});case 8:case"end":return e.stop()}}),e)}))))}catch(n){this.setState({loading:!1})}case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.listData,r=t.pageIndex,i=t.total,o=t.loading,c=t.phoneNumToBeCall,d=t.lastCallItem,m=t.lastMessageItem,u=t.lastSaveItem,p=t.lastJoinToEventItem,f=t.DIYEventList,y=t.DIYEventShowMode,b=t.whichEventIndexToChoose,k="-----------"===c,T="-----------"===c||f.length<=0,x=f.length<=0,S=se()();if(f.length>0&&b>=0&&b<f.length){var w=f[b];w&&(S=se()(w.started).utcOffset(8))}var A=0;return f.forEach((function(e){e.participants&&(A+=e.participants.length)})),n.a.createElement("div",null,n.a.createElement("div",{style:{position:"fixed",zIndex:5,fontSize:12,fontWeight:"bold",width:"100%",background:"rgba(136,136,136,0.95)"}},n.a.createElement("div",{style:{marginTop:4,marginLeft:6,fontSize:24}},"DIY\u6d3b\u52a8\u9884\u7ea6"),n.a.createElement(Je,{style:{width:240,marginTop:4,marginLeft:6,marginBottom:4},size:"middle",placeholder:"\u5238\u53f7/\u4f1a\u5458\u53f7/\u4f1a\u5458\u59d3\u540d",enterButton:"\u67e5\u8be2",onSearch:Object(s.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.fetchListDataByPage(1);case 1:case"end":return t.stop()}}),t)}))),value:this.state.keyword,onChange:function(t){var a=t.target.value;e.setState({keyword:a})}}),n.a.createElement(Pe.a,{style:{marginTop:4,marginLeft:6,marginBottom:12},onChange:function(t){e.fetchListDataByPage(t),W(t)},showQuickJumper:!0,showSizeChanger:!1,defaultCurrent:1,current:r,pageSize:10,total:i})),"small"===y?n.a.createElement("div",{style:{position:"fixed",zIndex:5,fontSize:12,bottom:0,right:0,background:"rgba(136,136,136,0.9)",borderRadius:10}},n.a.createElement(E.a,{size:"small",shape:"round",style:{marginLeft:4,marginTop:4,marginRight:4,marginBottom:4},icon:n.a.createElement(je.a,null),onClick:function(){e.setState({DIYEventShowMode:"large"})}},n.a.createElement("span",null,"\u67e5\u770bDIY\u6d3b\u52a8"),n.a.createElement("span",{style:{marginLeft:4,width:22,height:22,backgroundColor:"orange",borderRadius:11},className:"animaToBig"},A))):n.a.createElement("div",{style:{position:"fixed",zIndex:5,fontSize:12,bottom:0,right:0,background:"rgba(136,136,136,0.98)",borderRadius:10}},n.a.createElement(v.b,{size:"small",locale:{emptyText:"\u6ca1\u6709DIY\u6d3b\u52a8\uff0c\u8bf7\u521b\u5efa"},dataSource:f,renderItem:function(t){var a=se()(t.started).utcOffset(8).format("YYYY-MM-DD dddd HH:mm"),r=t.participants.length;return n.a.createElement(v.b.Item,null,n.a.createElement("div",{style:{marginLeft:-10,marginRight:0},className:"animaToBig"},n.a.createElement(E.a,{size:"small",onClick:function(){void 0!==t.fold?t.fold=!t.fold:t.fold=!0,e.forceUpdate()}},n.a.createElement("span",null,a),n.a.createElement("span",{style:{marginLeft:4,width:22,height:22,backgroundColor:"orange",borderRadius:11}},r)),t.fold?n.a.createElement("div",{style:{textAlign:"center",color:"green",fontSize:12}},"\u70b9\u51fb\u4e0a\u65b9\u6807\u9898\u5c55\u5f00\u540d\u5355"):n.a.createElement(v.b,{split:!1,size:"small",style:{width:196,marginTop:2},grid:{column:2,gutter:0},locale:{emptyText:"\u6ca1\u6709\u53c2\u52a0\u8005\uff0c\u8bf7\u9080\u8bf7"},dataSource:t.participants,renderItem:function(a){var r=t.participants.indexOf(a);return n.a.createElement(v.b.Item,{style:{background:"gray",margin:2},extra:n.a.createElement("div",null,n.a.createElement(E.a,{shape:"circle",danger:!0,style:{marginLeft:-16},size:"small",disabled:!0},r+1),n.a.createElement(E.a,{danger:!0,style:{marginLeft:20},size:"small",icon:n.a.createElement(Re.a,null),onClick:Object(s.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Ne.a.confirm({style:{top:0},title:"\u662f\u5426\u5220\u9664",content:"\u5220\u9664\u4f1a\u4eceDIY\u6d3b\u52a8\u540d\u5355\u4e2d\u79fb\u9664\u8be5\u4f1a\u5458",okText:"\u786e\u8ba4\u5220\u9664",cancelText:"\u53d6\u6d88",onOk:function(){var t=Object(s.a)(l.a.mark((function t(){var r,n,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.couponId,n=a.memberName,i=a.eventId,t.next=5,U(r,n,i);case 5:return t.next=7,e.fetchDIYEventList(!1);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()});case 1:case"end":return t.stop()}}),t)})))})),className:"animaToBig"},n.a.createElement(v.b.Item.Meta,{title:n.a.createElement("div",{style:{marginTop:-4,marginBottom:-4}},n.a.createElement(Ke,{style:{color:"white",fontSize:12,width:94,marginLeft:-12},ellipsis:!0},a.memberName))}))}})),n.a.createElement("div",null,n.a.createElement(E.a,{size:"small",danger:!0,icon:n.a.createElement(Be.a,null),style:{marginLeft:2,marginRight:10},onClick:function(){Ne.a.confirm({style:{top:0},icon:n.a.createElement(Me.a,null),title:"\u662f\u5426\u5220\u9664",content:n.a.createElement("div",null,"\u5220\u9664\u4f1a\u76f8\u5e94\u89e3\u6563",n.a.createElement("span",{style:{color:"red"}},a),"\u7684DIY\u6d3b\u52a8?"),okText:"\u786e\u8ba4\u5220\u9664",cancelText:"\u53d6\u6d88",onOk:function(){e.handleDeleteDIY(t._id)}})}})))},header:n.a.createElement("div",{style:{textAlign:"center",fontSize:12,color:"white",height:10}},"DIY\u6d3b\u52a8\u5217\u8868",n.a.createElement(E.a,{style:{position:"absolute",right:4,top:6},type:"dashed",shape:"circle",size:"small",icon:n.a.createElement(_e.a,null),onClick:function(){e.setState({DIYEventShowMode:"small"})}})),footer:n.a.createElement("div",{style:{textAlign:"center"}},n.a.createElement(E.a,{icon:n.a.createElement(Ye.a,null),shape:"round",style:{marginBottom:0},size:"small",onClick:function(){e.showCreateDIYEventModal()}},"\u521b\u5efaDIY\u6d3b\u52a8"))})),n.a.createElement(v.b,{size:"small",locale:{emptyText:"\u6682\u65f6\u6ca1\u6709\u6570\u636e"},loading:o,header:n.a.createElement("div",{style:{height:110}}),footer:n.a.createElement("div",{style:{height:40,textAlign:"center",fontSize:14,fontWeight:"lighter"}},"\u5f2f\u9ea6--\u5fc3\u91cc\u6ee1\u6ee1\u90fd\u662f\u4f60"),dataSource:a,renderItem:function(t){var a="-"!==t.couponWriteOffTime,r=d===t,i=u===t,o=m===t,c=p===t;return n.a.createElement(v.b.Item,{key:t.serialNumber},n.a.createElement("div",{style:{width:20,height:20,backgroundColor:"crimson",color:"white",fontSize:12,fontWeight:"bold",textAlign:"center",marginRight:6,marginLeft:6,borderRadius:4}},n.a.createElement("div",{style:{marginTop:1}},n.a.createElement("span",null,t.serialNumber))),n.a.createElement(v.b.Item.Meta,{title:n.a.createElement("div",null,n.a.createElement("span",{style:{color:"black",fontSize:14}},"\u5238\u7f16\u53f7\uff1a"),n.a.createElement("span",{style:{color:"black",fontSize:12}},t.couponId)),description:n.a.createElement("div",null,n.a.createElement("div",{style:{marginTop:-10}},n.a.createElement("span",{style:{color:"gray",fontSize:12}},"\u5236\u5238:"),n.a.createElement("span",{style:{color:"gray",fontSize:10}},"".concat(t.couponCreateTime))),n.a.createElement("div",{style:{marginTop:-8}},n.a.createElement("span",{style:{color:"gray",fontSize:12}},"\u4f7f\u7528:"),n.a.createElement("span",{style:{color:"gray",fontSize:10}},"".concat(t.couponWriteOffTime))),n.a.createElement("div",{style:{marginTop:-8}},n.a.createElement("span",{style:{color:"gray",fontSize:12}},"\u540d\u5b57:"),n.a.createElement(Ke,{ellipsis:!0,style:{color:"crimson",fontSize:10,width:100}},"".concat(t.memberName))),n.a.createElement("div",{style:{marginTop:-8}},n.a.createElement("span",{style:{color:"gray",fontSize:12}},"\u72b6\u6001:"),n.a.createElement("span",{style:{color:"crimson",fontSize:10}},"".concat(t.couponStatus))),n.a.createElement(E.a,{type:"primary",icon:n.a.createElement(Qe.a,null),shape:"circle",danger:r,onClick:function(){e.setState({lastCallItem:t}),e.showCallModal(t.memberId)},disabled:a}),n.a.createElement("span",null," "),n.a.createElement(E.a,{type:"primary",icon:n.a.createElement(Fe.a,null),shape:"circle",danger:c,onClick:function(){e.setState({lastJoinToEventItem:t}),e.showJoinToEventModal()},disabled:a}),n.a.createElement("span",null," "),n.a.createElement(E.a,{type:"primary",icon:n.a.createElement(He.a,null),shape:"circle",danger:o,onClick:function(){e.setState({lastMessageItem:t}),e.showMessageModal(t.memberId)},disabled:a}))}),n.a.createElement("div",{style:{marginRight:10}},n.a.createElement("div",null,"\u5907\u6ce8\uff1a"),n.a.createElement(We,{value:t.remark,onChange:function(a){var r=a.target.value;t.remark=r,e.forceUpdate()},disabled:a,style:{width:180},placeholder:"\u8fd9\u91cc\u8f93\u5165\u5907\u6ce8",autoSize:{minRows:2}}),n.a.createElement("br",null),n.a.createElement(E.a,{type:"primary",icon:n.a.createElement(Ue.a,null),disabled:a,danger:i,onClick:Object(s.a)(l.a.mark((function a(){return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e.setState({lastSaveItem:t}),a.next=3,M(t.couponId,t.remark);case 3:0===a.sent.errCode?h.b.success("\u5df2\u7ecf\u4fdd\u5b58"):h.b.warning("\u4fdd\u5b58\u5931\u8d25");case 5:case"end":return a.stop()}}),a)}))),style:{marginTop:2}},"\u4fdd\u5b58\u5907\u6ce8")))}}),n.a.createElement(Ne.a,{style:{top:0},title:"\u62e8\u6253\u7535\u8bdd",visible:this.state.callModalVisible,onOk:this.handleCallModalOnOk,onCancel:this.handleCallModalOnCancel,okText:"\u786e\u8ba4\u62e8\u6253",cancelText:"\u53d6\u6d88",closable:!0,okButtonProps:{disabled:k},cancelButtonProps:{disabled:k}},n.a.createElement("div",null,n.a.createElement("span",null,"\u4f1a\u5458\u7535\u8bdd\u4e3a\uff1a"),n.a.createElement("span",{style:{color:"red"}},c),n.a.createElement("span",null,"\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u62e8\u6253\uff1f"))),n.a.createElement(Ne.a,{style:{top:0},title:"\u53d1\u9001\u77ed\u4fe1",visible:this.state.messageModalVisible,onOk:this.handleMessageModalOnOk,onCancel:this.handleMessageModalOnCancel,okText:"\u6dfb\u52a0\u5230\u540d\u5355\u4e2d\u5e76\u53d1\u9001\u77ed\u4fe1",cancelText:"\u53d6\u6d88",closable:!0,okButtonProps:{disabled:T},cancelButtonProps:{disabled:T}},f.length>0?n.a.createElement("div",null,n.a.createElement("span",{style:{fontSize:16}},"\u4f1a\u5458\u7535\u8bdd\u4e3a\uff1a"),n.a.createElement("span",{style:{color:"red"}},c),n.a.createElement("br",null),n.a.createElement("span",{style:{fontSize:16}},"\u77ed\u4fe1\u6a21\u677f\u4e3a\uff1a"),n.a.createElement("span",null,"\u3010\u5f2f\u9ea6\u70d8\u7119\u3011\u60a8\u5df2\u6210\u529f\u9884\u7ea6DIY\u6d3b\u52a8\uff0c\u6d3b\u52a8\u65f6\u95f4\uff1a"),n.a.createElement("span",{style:{color:"green",textDecoration:"underline"}},"".concat(S.format("MM-DD HH:mm"))),n.a.createElement("span",null,"\uff0c\u8bf7\u63d0\u524d10\u5206\u949f\u5230\u8fbe\uff0c\u5982\u53d8\u66f4\u8bf7\u63d0\u524d\u4e00\u5929\u62e8\u625313290768588\u3002"),n.a.createElement("br",null),n.a.createElement("span",{style:{fontSize:16}},"\u6d3b\u52a8\u65f6\u95f4\u4e3a\uff1a"),n.a.createElement(ze.a.Group,{name:"radiogroup",defaultValue:0,value:b,onChange:function(t){var a=t.target.value;e.setState({whichEventIndexToChoose:a})}},f.map((function(e){var t=se()(e.started).utcOffset(8).format("YYYY-MM-DD dddd HH:mm"),a=f.indexOf(e);return n.a.createElement(ze.a,{key:a,value:a},t)}))),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("span",null,"\u53d1\u9001\u6b63\u6587\u77ed\u6d88\u606f\u7ed9\u4f1a\u5458\uff0c\u662f\u5426\u53d1\u9001\uff1f")):n.a.createElement("div",null,"\u8fd8\u672a\u521b\u5efaDIY\u6d3b\u52a8\uff0c\u8bf7\u5148\u53f3\u4e0b\u89d2\u521b\u5efaDIY\u6d3b\u52a8\u518d\u53d1\u9001\u77ed\u4fe1\u3002")),n.a.createElement(Ne.a,{style:{top:0},title:"\u521b\u5efaDIY\u6d3b\u52a8",visible:this.state.createDIYEventModalVisible,onOk:this.handleCreateDIYEventModalOnOk,onCancel:this.handleCreateDIYEventModalOnCancel,okText:"\u786e\u8ba4\u521b\u5efa",cancelText:"\u53d6\u6d88",closable:!0},n.a.createElement("div",null,n.a.createElement("span",null,"\u6d3b\u52a8\u65f6\u95f4\uff1a"),n.a.createElement(g.a,{format:"MM-DD dddd HH:mm",showTime:{format:"HH:mm"},value:this.state.eventTime4createDIY,onOk:this.handleCreateDIYEventDayOnOk}),n.a.createElement("div",{style:{marginTop:10}},n.a.createElement("span",null,"\u5feb\u6377\u8bbe\u7f6e\uff1a"),n.a.createElement("span",null,n.a.createElement(E.a,{style:{marginLeft:8,marginTop:8},type:"dashed",danger:!0,onClick:function(){var t=se()().endOf("week").subtract(1,"days").set("hour",15).set("minute",30).set("second",0).set("millisecond",0);e.setState({eventTime4createDIY:t})}},"\u672c\u5468\u516d15:30"),n.a.createElement(E.a,{style:{marginLeft:8,marginTop:8},type:"dashed",danger:!0,onClick:function(){var t=se()().endOf("week").set("hour",15).set("minute",30).set("second",0).set("millisecond",0);e.setState({eventTime4createDIY:t})}},"\u672c\u5468\u65e515:30"),n.a.createElement(E.a,{style:{marginLeft:8,marginTop:8},type:"dashed",danger:!0,onClick:function(){var t=se()().add(7,"days").endOf("week").subtract(1,"days").set("hour",15).set("minute",30).set("second",0).set("millisecond",0);e.setState({eventTime4createDIY:t})}},"\u4e0b\u5468\u516d15:30"),n.a.createElement(E.a,{style:{marginLeft:8,marginTop:8},type:"dashed",danger:!0,onClick:function(){var t=se()().add(7,"days").endOf("week").set("hour",15).set("minute",30).set("second",0).set("millisecond",0);e.setState({eventTime4createDIY:t})}},"\u4e0b\u5468\u65e515:30"))))),n.a.createElement(Ne.a,{style:{top:0},title:"\u9009\u62e9\u53c2\u52a0DIY\u6d3b\u52a8",visible:this.state.joinToEventModalVisible,onOk:this.handleJoinToEventModalOnOk,onCancel:this.handleJoinToEventModalOnCancel,okText:"\u786e\u8ba4\u52a0\u5165",cancelText:"\u53d6\u6d88",closable:!0,okButtonProps:{disabled:x},cancelButtonProps:{disabled:x}},f.length>0?n.a.createElement("div",null,n.a.createElement(ze.a.Group,{name:"radiogroup",defaultValue:0,value:b,onChange:function(t){var a=t.target.value;e.setState({whichEventIndexToChoose:a})}},f.map((function(e){var t=se()(e.started).utcOffset(8).format("YYYY-MM-DD dddd HH:mm"),a=f.indexOf(e);return n.a.createElement(ze.a,{key:a,value:a},t)})))):n.a.createElement("div",null,"\u8fd8\u672a\u521b\u5efaDIY\u6d3b\u52a8\uff0c\u8bf7\u5148\u53f3\u4e0b\u89d2\u521b\u5efaDIY\u6d3b\u52a8\u518d\u9009\u62e9\u3002")))}}]),a}(n.a.Component),qe=a(281),Ge=a(448),Ze=function(){return/^(([-\u4E00-\u9FA5a-z0-9]{1,63})\.)+([\u4E00-\u9FA5a-z]{2,63})\.?$/.test(document.domain)?"http://gratefulwheat.ruyue.xyz":"localhost"===document.domain?"http://localhost:4000":"http://123.207.119.232"},Xe=function(e){for(var t=-1,a=e.GET_PRINTER_COUNT(),r=0;r<a;r++){if("EPSON L380 Series"===e.GET_PRINTER_NAME(r)){t=r;break}}return t},$e=function(e){for(var t=-1,a=e.GET_PRINTER_COUNT(),r=0;r<a;r++){if("EPSON LQ-735K ESC/P2"===e.GET_PRINTER_NAME(r)){t=r;break}}return t},et=function(e){for(var t=-1,a=e.GET_PRINTER_COUNT(),r=0;r<a;r++){if("\u70ab\u5370P3(\u6807\u7b7e)"===e.GET_PRINTER_NAME(r)){t=r;break}}return t},tt=g.a.RangePicker,at=[{name:"\u5168\u90e8\u95e8\u5e97",userId:""},{name:"001 - \u5f2f\u9ea6(\u6559\u80b2\u5c40\u5e97)",userId:"3995767"},{name:"004 - \u5f2f\u9ea6(\u6c64\u6cc9\u5e97)",userId:"4061092"},{name:"005 - \u5f2f\u9ea6(\u76d8\u9640\u5e97)",userId:"4339546"},{name:"007 - \u5f2f\u9ea6(\u8054\u8425\u5e97)",userId:"4382444"}],rt=[{name:"\u5168\u90e8\u6a21\u677f",templateId:"",templateUid:""},{name:"\u897f\u70b9\u7c7b",templateId:"189",templateUid:"1595397637628133418"},{name:"\u5e38\u6e29\u7c7b",templateId:"183",templateUid:"1595077654714716554"},{name:"\u73b0\u70e4\u7c7b",templateId:"187",templateUid:"1595310806940367327"},{name:"\u9910\u5305\u7c7b",templateId:"182",templateUid:"1595077405589137749"},{name:"\u5410\u53f8\u7c7b",templateId:"2873",templateUid:"1649149816769757925"}],nt=[{name:"\u5168\u90e8\u7c7b\u578b",id:""},{name:"\u76f4\u8425\u5e97-\u65e5\u5e38\u5355",id:"163"},{name:"\u5fb7\u6797-\u706b\u70e7\u94fa1\u5e97",id:"320"},{name:"\u5fb7\u6797-\u706b\u70e7\u94fa2\u5e97",id:"323"},{name:"\u5fb7\u6797-\u5b66\u5e9c\u5e97",id:"322"},{name:"\u5fb7\u6797-\u5047\u65e5\u5e97",id:"321"},{name:"\u9526\u5ba2\u9686-\u897f\u6e56\u5e97",id:"325"},{name:"\u6d4b\u8bd5\u5355",id:"326"},{name:"-",id:"400"}],it=[{name:"\u5168\u90e8\u6536\u94f6\u5458",id:""},{name:"\u5fb7\u6797-\u706b\u70e7\u94fa1\u5e97",id:"1"},{name:"\u5fb7\u6797-\u706b\u70e7\u94fa2\u5e97",id:"2"},{name:"\u5fb7\u6797-\u5b66\u5e9c\u5e97",id:"3"},{name:"\u5fb7\u6797-\u5047\u65e5\u5e97",id:"4"},{name:"\u9526\u5ba2\u9686-\u897f\u6e56\u5e97",id:"5"},{name:"\u5f90\u78a7\u83b2",id:"6"},{name:"\u738b\u8363\u6167",id:"7"}],ot=[{name:"\u8ba2\u8d27\u65f6\u95f4",timeType:"0"},{name:"\u5230\u8d27\u65f6\u95f4",timeType:"2"}],ct=["001 - \u5f2f\u9ea6(\u6559\u80b2\u5c40\u5e97)","004 - \u5f2f\u9ea6(\u6c64\u6cc9\u5e97)","005 - \u5f2f\u9ea6(\u76d8\u9640\u5e97)","007 - \u5f2f\u9ea6(\u8054\u8425\u5e97)"],lt=["\u73b0\u70e4\u7c7b","\u897f\u70b9\u7c7b","\u5e38\u6e29\u7c7b","\u9910\u5305\u7c7b","\u5410\u53f8\u7c7b"],st=[{name:"\u5168\u90e8\u8d27\u5355",flowTypeId:""},{name:"\u95e8\u5e97\u8fdb\u8d27\u5355",flowTypeId:"12"},{name:"\u666e\u901a\u8c03\u8d27\u5355",flowTypeId:"10"},{name:"\u8c03\u62e8\u9000\u8d27\u5355",flowTypeId:"23"},{name:"\u666e\u901a\u51fa\u5e93\u5355",flowTypeId:"17"},{name:"\u91c7\u8d2d\u9000\u8d27\u5355",flowTypeId:"14"}],dt=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;Object(d.a)(this,a),(r=t.call(this,e)).fetchOrderList=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{r.setState({alreadyOrderListData:[],alreadyOrderLoading:!0,selectedRowKeys4OrderList:[]},Object(s.a)(l.a.mark((function e(){var t,a,n,i,o,c,s,d,m,u,p,f,g,h,y,b,E,v;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.state,a=t.currentShop4OrderList,n=t.currentTemplate4OrderList,i=t.currentOrderType4OrderList,o=t.currentOrderCashier,c=t.currentOrderTimeType,s=t.beginDateTime4OrderList,d=t.endDateTime4OrderList,m=[],u=[],p=ct,f=lt,g=s.format("YYYY.MM.DD%2BHH:mm:ss"),h=d.format("YYYY.MM.DD%2BHH:mm:ss"),e.next=9,I(a.userId,n.templateId,c.timeType,g,h);case 9:if((y=e.sent)&&0===y.errCode){for(b=0;b<y.list.length;++b)(""===i.id&&""===o.id||""===i.id&&o.name===y.list[b].orderCashier||""===o.id&&i.name===y.list[b].orderType||o.name===y.list[b].orderCashier&&i.name===y.list[b].orderType)&&m.push(y.list[b]);m=m.sort((function(e,t){return e.orderShopIndex-t.orderShopIndex})),E=[],v=[],m.forEach((function(e){e.key=m.indexOf(e)+1,u.push(e.key),-1===E.indexOf(e.orderShop)&&E.push(e.orderShop),-1===v.indexOf(e.templateName)&&v.push(e.templateName)})),p=[],ct.forEach((function(e){-1===E.indexOf(e)&&p.push(e)})),f=[],lt.forEach((function(e){-1===v.indexOf(e)&&f.push(e)}))}r.setState({alreadyOrderListData:m,selectedRowKeys4OrderList:u,alreadyOrderLoading:!1,noyetOrderShops:p,noyetOrderTemplates:f});case 12:case"end":return e.stop()}}),e)}))))}catch(t){r.setState({alreadyOrderLoading:!1})}case 1:case"end":return e.stop()}}),e)}))),r.fetchFlowList=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{r.setState({flowListLoading:!0},Object(s.a)(l.a.mark((function e(){var t,a,n,i,o,c,s,d,m,u,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.state,a=t.currentShop4FlowList,n=t.currentFlowType,i=t.beginDateTime4FlowList,o=t.endDateTime4FlowList,c=[],s=i.format("YYYY.MM.DD%2BHH:mm:ss"),d=o.format("YYYY.MM.DD%2BHH:mm:ss"),e.next=6,z(a.userId,n.flowTypeId,s,d);case 6:m=e.sent,u=[],p=[],m&&0===m.errCode&&(c=m.list).forEach((function(e){var t=e.transferStatus,a=e.flowType;"\u8c03\u8d27\u5355"!==a&&"\u8c03\u62e8\u9000\u8d27\u5355"!==a||t[1].length<=0&&-1===t[0].indexOf("\u5df2\u62d2\u7edd\u51fa\u8d27")&&(p.push(e.key),"\u5f2f\u9ea6(\u603b\u90e8)"===e.transferTo&&u.push(e.key))})),r.setState({flowListData:c,flowListLoading:!1,baseShopUnHandleFlowSNs:u,allShopUnHandleFlowSNs:p});case 11:case"end":return e.stop()}}),e)}))))}catch(t){r.setState({flowListLoading:!1})}case 1:case"end":return e.stop()}}),e)}))),r.fetchFlowDetail=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{r.setState({flowDetailData:[],flowDetailLoading:!0},Object(s.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(r._currentFlowId);case 2:t=e.sent,a=[],t&&0===t.errCode&&(a=t.list),r.setState({flowDetailData:a,flowDetailLoading:!1});case 6:case"end":return e.stop()}}),e)}))))}catch(t){r.setState({flowDetailLoading:!1})}case 1:case"end":return e.stop()}}),e)}))),r.fetchOrderDetail=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{r.setState({orderDetailData:[],orderDetailLoading:!0},Object(s.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(r._currentOrderId);case 2:t=e.sent,a=[],t&&0===t.errCode&&t.items&&(a=t.items),r.setState({orderDetailData:a,orderDetailLoading:!1});case 6:case"end":return e.stop()}}),e)}))))}catch(t){r.setState({orderDetailLoading:!1})}case 1:case"end":return e.stop()}}),e)}))),r.onOrderItemSelectChange=function(e){r.setState({selectedRowKeys4OrderList:e})},r.handleProductLabelPrint=function(){var e=Object(s.a)(l.a.mark((function e(t){var a,n,i,o,c,s,d,m,u,p,f,g,h,y,b,E,v;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={},n=r.state,i=n.alreadyOrderListData,o=n.currentShop4OrderList,c=n.currentTemplate4OrderList,s=n.currentOrderType4OrderList,d=n.currentOrderCashier,m=n.currentOrderTimeType,u=n.selectedRowKeys4OrderList,p=n.beginDateTime4OrderList,f=n.endDateTime4OrderList,g=[],h=0;case 4:if(!(h<i.length)){e.next=12;break}if(y=i[h],-1!==u.indexOf(y.key)){e.next=8;break}return e.abrupt("continue",9);case 8:g.push(y);case 9:++h,e.next=4;break;case 12:a.orderList=g,a.template=c,a.orderType=s,a.orderCashier=d,a.timeType=m,a.shop=o,a.beginDateTime=p,a.endDateTime=f,b=JSON.stringify(a),console.log("paramValueStr = "+b),E="param="+escape(b),console.log(E),v=Ze()+"/productLabelPrinter",v+="?",v+=E,window.location.replace(v);case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.handleProductionPrint=function(){var e=Object(s.a)(l.a.mark((function e(t){var a,n,i,o,c,s,d,m,u,p,f,g,h,y,b,E,v;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={},n=r.state,i=n.alreadyOrderListData,o=n.currentShop4OrderList,c=n.currentTemplate4OrderList,s=n.currentOrderType4OrderList,d=n.currentOrderCashier,m=n.currentOrderTimeType,u=n.selectedRowKeys4OrderList,p=n.beginDateTime4OrderList,f=n.endDateTime4OrderList,g=[],h=0;case 4:if(!(h<i.length)){e.next=12;break}if(y=i[h],-1!==u.indexOf(y.key)){e.next=8;break}return e.abrupt("continue",9);case 8:g.push(y);case 9:++h,e.next=4;break;case 12:a.orderList=g,a.template=c,a.orderType=s,a.orderCashier=d,a.timeType=m,a.shop=o,a.beginDateTime=p,a.endDateTime=f,b=JSON.stringify(a),E="param="+escape(b),v=Ze()+"/productionPlanPrinter",v+="?",v+=E,window.location.replace(v);case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.handleDistributionPrint=function(){var e=Object(s.a)(l.a.mark((function e(t){var a,n,i,o,c,s,d,m,u,p,f,g,h,y,b,E,v;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={},n=r.state,i=n.alreadyOrderListData,o=n.currentTemplate4OrderList,c=n.currentOrderType4OrderList,s=n.currentOrderCashier,d=n.currentOrderTimeType,m=n.currentShop4OrderList,u=n.beginDateTime4OrderList,p=n.endDateTime4OrderList,f=n.selectedRowKeys4OrderList,g=[],h=0;case 4:if(!(h<i.length)){e.next=12;break}if(y=i[h],-1!==f.indexOf(y.key)){e.next=8;break}return e.abrupt("continue",9);case 8:g.push(y);case 9:++h,e.next=4;break;case 12:a.orderList=g,a.template=o,a.orderType=c,a.orderCashier=s,a.timeType=d,a.shop=m,a.beginDateTime=u,a.endDateTime=p,b=JSON.stringify(a),E="param="+escape(b),v=Ze()+"/productDistributePrinter",v+="?",v+=E,window.location.replace(v);case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.handleDistributionInput=function(){var e=Object(s.a)(l.a.mark((function e(t){var a,n,i,o,c,s,d,m,u,p,f,g,h,y,b,E,v;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={},n=r.state,i=n.alreadyOrderListData,o=n.currentTemplate4OrderList,c=n.currentOrderType4OrderList,s=n.currentOrderCashier,d=n.currentShop4OrderList,m=n.currentOrderTimeType,u=n.beginDateTime4OrderList,p=n.endDateTime4OrderList,f=n.selectedRowKeys4OrderList,g=[],h=0;case 4:if(!(h<i.length)){e.next=12;break}if(y=i[h],-1!==f.indexOf(y.key)){e.next=8;break}return e.abrupt("continue",9);case 8:g.push(y);case 9:++h,e.next=4;break;case 12:a.orderList=g,a.template=o,a.orderType=c,a.orderCashier=s,a.timeType=m,a.shop=d,a.beginDateTime=u,a.endDateTime=p,b=JSON.stringify(a),E="param="+escape(b),v=Ze()+"/productDistributeInputer",v+="?",v+=E,window.location.replace(v);case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.getDayTip=function(e,t){var a="",r=se()().startOf("day"),n=se()().endOf("day"),i=se()().subtract(1,"day").startOf("day"),o=se()().subtract(1,"day").endOf("day"),c=se()().add(1,"day").startOf("day"),l=se()().add(1,"day").endOf("day");return 0===e.diff(r,"milliseconds")&&0===t.diff(n)?a="\u4eca\u5929":0===e.diff(i,"milliseconds")&&0===t.diff(o)?a="\u6628\u5929":0===e.diff(c,"milliseconds")&&0===t.diff(l)&&(a="\u660e\u5929"),a};var n=se()().startOf("day"),i=se()().endOf("day");var o=se()().startOf("day"),c=se()().endOf("day");return r.state={alreadyOrderListData:[],alreadyOrderLoading:!1,currentShop4OrderList:at[0],currentTemplate4OrderList:rt[0],currentOrderType4OrderList:nt[0],currentOrderCashier:it[0],currentOrderTimeType:ot[0],beginDateTime4OrderList:n,endDateTime4OrderList:i,timePickerOpen4OrderList:!1,selectedRowKeys4OrderList:[],noyetOrderShops:[],noyetOrderTemplates:[],orderDetailData:[],orderDetailLoading:!1,orderDetailModalVisible:!1,currentShop4FlowList:at[0],currentFlowType:st[0],beginDateTime4FlowList:o,endDateTime4FlowList:c,timePickerOpen4FlowList:!1,flowListData:[],flowListLoading:!1,flowDetailData:[],flowDetailLoading:!1,flowDetailModalVisible:!1,refuseFlowLoading:!1,confirmFlowLoading:!1,baseShopUnHandleFlowSNs:[],allShopUnHandleFlowSNs:[]},r._currentFlowId="",r._currentFlowDetailStatus=[],r._currentFlowConfirmText="",r._currentFlowRefuseText="",r._currentTransferFrom="",r._currentTransferTo="",r._currentFlowType="",r}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(s.a)(l.a.mark((function e(){var t,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.query,(a=t&&t.get("param"))&&(a=unescape(a),r=JSON.parse(a),this.setState({currentTemplate4OrderList:r.template,currentOrderType4OrderList:r.orderType,currentOrderCashier:r.orderCashier,currentOrderTimeType:r.timeType,currentShop4OrderList:r.shop,beginDateTime4OrderList:se()(r.beginDateTime),endDateTime4OrderList:se()(r.endDateTime)})),e.next=5,this.fetchOrderList();case 5:return e.next=7,this.fetchFlowList();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.alreadyOrderListData,r=t.currentShop4OrderList,i=t.currentTemplate4OrderList,o=t.currentOrderType4OrderList,c=t.currentOrderCashier,d=t.currentOrderTimeType,m=t.alreadyOrderLoading,u=t.beginDateTime4OrderList,p=t.endDateTime4OrderList,f=t.timePickerOpen4OrderList,g=t.selectedRowKeys4OrderList,v=t.noyetOrderShops,k=t.noyetOrderTemplates,T=t.currentShop4FlowList,x=t.flowListData,S=t.flowListLoading,w=t.currentFlowType,A=t.beginDateTime4FlowList,I=t.endDateTime4FlowList,D=t.timePickerOpen4FlowList,O=t.flowDetailModalVisible,C=t.flowDetailData,L=t.flowDetailLoading,z=t.refuseFlowLoading,j=t.confirmFlowLoading,R=t.baseShopUnHandleFlowSNs,B=t.allShopUnHandleFlowSNs,M=t.orderDetailData,_=t.orderDetailLoading,Y=t.orderDetailModalVisible,Q={selectedRowKeys:g,onChange:this.onOrderItemSelectChange},F="\u65e0";v&&v.length>0&&(F=v.join(" | "));var H=""!==r.userId||""!==o.id||""!==c.id||""===i.templateId||g.length<=0,U=""===r.userId,W="\u65e0";k&&k.length>0&&(W=k.join(" | "));var J=""===r.userId||""!==i.templateId||g.length<=0,K=""===i.templateId,V=""===r.userId||""!==i.templateId||m,q=[{title:"\u5e8f",dataIndex:"key",key:"key",width:40,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u8ba2\u8d27\u95e8\u5e97",dataIndex:"orderShop",key:"orderShop",width:150,render:function(e){return n.a.createElement("span",{style:{fontSize:10,color:"red"}},e)}},{title:"\u7c7b\u578b || \u8054\u8425\u95e8\u5e97",dataIndex:"orderType",key:"orderType",width:150,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u6a21\u677f\u540d\u79f0",dataIndex:"templateName",key:"templateName",width:100,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u8ba2\u8d27\u5355\u53f7",dataIndex:"orderSerialNumber",key:"orderSerialNumber",width:180,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u8ba2\u8d27\u65f6\u95f4",dataIndex:"orderTime",key:"orderTime",width:150,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u671f\u671b\u5230\u8d27",dataIndex:"expectTime",key:"expectTime",width:100,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u8ba2\u8d27\u6536\u94f6\u5458",dataIndex:"orderCashier",key:"orderCashier",width:100,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u914d\u8d27\u95e8\u5e97",dataIndex:"prepareShop",key:"prepareShop",width:100,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u72b6\u6001",dataIndex:"status",key:"status",width:100,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u64cd\u4f5c",dataIndex:"action",key:"action",width:"80",render:function(t,a){return n.a.createElement(qe.b,{size:"middle"},n.a.createElement(E.a,{size:"small",onClick:function(t){e._currentOrderId=a.orderId,e._currentOrderShopName=a.orderShop,e._currentOrderTime=a.orderTime,e.setState({orderDetailModalVisible:!0},(function(){e.fetchOrderDetail()}))}},"\u67e5\u770b"))}},{title:"\u5907\u6ce8",dataIndex:"remark",key:"remark",width:"*",render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}}],G=[{title:"\u5e8f",dataIndex:"key",key:"key",width:40,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u8d27\u6d41\u5355\u53f7",dataIndex:"flowNumber",key:"flowNumber",width:140,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u4e0b\u5355\u65f6\u95f4",dataIndex:"flowTime",key:"flowTime",width:140,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u8d27\u5355\u7c7b\u578b",dataIndex:"flowType",key:"flowType",width:80,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u51fa\u8d27\u65b9",dataIndex:"transferFrom",key:"transferFrom",width:100,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u8fdb\u8d27\u65b9",dataIndex:"transferTo",key:"transferTo",width:100,render:function(e){var t="\u5f2f\u9ea6(\u603b\u90e8)"===e?"red":"black";return n.a.createElement("span",{style:{fontSize:10,color:t}},e)}},{title:"\u72b6\u6001",dataIndex:"transferStatus",key:"transferStatus",width:320,render:function(e,t){var a="transparent",r="gray",i="transparent",o="gray";return"\u8c03\u8d27\u5355"!==t.flowType&&"\u8c03\u62e8\u9000\u8d27\u5355"!==t.flowType||(a=e[1]||-1!==e[0].indexOf("\u5df2\u62d2\u7edd\u51fa\u8d27")?"transparent":"yellow",r=e[1]||-1!==e[0].indexOf("\u5df2\u62d2\u7edd\u51fa\u8d27")?"gray":"black",i=-1===e[1].indexOf("\u5df2\u62d2\u7edd\u6536\u8d27")?"transparent":"red",o=-1===e[1].indexOf("\u5df2\u62d2\u7edd\u6536\u8d27")?"gray":"white"),n.a.createElement("div",{style:{backgroundColor:"transparent"}},n.a.createElement("div",{style:{fontSize:6,color:r,backgroundColor:a}},e[0]),n.a.createElement("div",{style:{fontSize:6,color:o,backgroundColor:i}},e[1]))}},{title:"\u64cd\u4f5c",dataIndex:"action",key:"action",width:80,render:function(t,a){return n.a.createElement(qe.b,{size:"middle"},n.a.createElement(E.a,{size:"small",onClick:function(t){e._currentFlowId=a.flowId,e._currentFlowDetailStatus=a.transferStatus,e._currentTransferFrom=a.transferFrom,e._currentTransferTo=a.transferTo,e._currentFlowType=a.flowType,e.setState({flowDetailModalVisible:!0},(function(){e.fetchFlowDetail()}))}},"\u67e5\u770b"))}},{title:"\u5907\u6ce8",dataIndex:"remark",key:"remark",width:"*",render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}}],Z=[{title:"\u5e8f",dataIndex:"key",key:"key",width:40,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u6761\u7801",dataIndex:"barcode",key:"barcode",width:140,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u540d\u79f0",dataIndex:"name",key:"name",width:140,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u7c7b\u522b",dataIndex:"categoryName",key:"categoryName",width:100,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u51fa\u8d27\u91cf",dataIndex:"transferNumber",key:"transferNumber",width:80,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u5355\u4f4d",dataIndex:"unitName",key:"unitName",width:60,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u89c4\u683c",dataIndex:"specification",key:"specification",width:100,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u9500\u552e\u4ef7",dataIndex:"sellPrice",key:"sellPrice",width:100,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u5907\u6ce8",dataIndex:"remark",key:"remark",width:"*",render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}}],X=[{title:"\u5e8f",dataIndex:"key",key:"key",width:40,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u6761\u7801",dataIndex:"barcode",key:"barcode",width:140,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u540d\u79f0",dataIndex:"orderProductName",key:"orderProductName",width:140,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u89c4\u683c",dataIndex:"specification",key:"specification",width:140,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u7c7b\u522b",dataIndex:"categoryName",key:"categoryName",width:100,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u8ba2\u8d27\u91cf",dataIndex:"orderNumber",key:"orderNumber",width:80,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u5907\u6ce8",dataIndex:"remark",key:"remark",width:"*",render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}}],$=!1;return"\u8c03\u8d27\u5355"!==this._currentFlowType&&"\u8c03\u62e8\u9000\u8d27\u5355"!==this._currentFlowType||this._currentFlowDetailStatus[0].length>0&&this._currentFlowDetailStatus[1].length<=0&&(-1!==this._currentFlowDetailStatus[0].indexOf("\u5f85\u786e\u8ba4\u51fa\u8d27")?(this._currentFlowConfirmText="\u786e\u8ba4\u51fa\u8d27",this._currentFlowRefuseText="\u62d2\u7edd\u51fa\u8d27",$=!0):-1!==this._currentFlowDetailStatus[0].indexOf("\u5df2\u5b8c\u6210\u51fa\u8d27")&&(this._currentFlowConfirmText="\u786e\u8ba4\u6536\u8d27",this._currentFlowRefuseText="\u62d2\u7edd\u6536\u8d27",$=!0)),n.a.createElement("div",null,n.a.createElement("div",{style:{marginLeft:30,marginTop:8,fontSize:18}},n.a.createElement("span",null,"\u751f\u4ea7 VS \u914d\u8d27"),n.a.createElement("span",{style:{marginLeft:30,marginTop:0,marginRight:30,marginBottom:0}},n.a.createElement(E.a,{danger:!0,onClick:function(){e.setState({currentShop4OrderList:at[0],currentOrderType4OrderList:nt[0],currentOrderCashier:it[0],currentTemplate4OrderList:rt[1],currentOrderTimeType:ot[0],beginDateTime4OrderList:se()().startOf("day"),endDateTime4OrderList:se()().endOf("day")},Object(s.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchOrderList();case 2:case"end":return t.stop()}}),t)}))))}},"\u751f\u4ea7\u5355"),n.a.createElement(E.a,{style:{marginLeft:6},danger:!0,onClick:function(){e.setState({currentShop4OrderList:at[1],currentOrderType4OrderList:nt[0],currentOrderCashier:it[0],currentTemplate4OrderList:rt[0],currentOrderTimeType:ot[0],beginDateTime4OrderList:se()().add(0,"day").startOf("day"),endDateTime4OrderList:se()().add(0,"day").endOf("day")},Object(s.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchOrderList();case 2:case"end":return t.stop()}}),t)}))))}},"\u914d\u8d27\u5355"),n.a.createElement(E.a,{style:{marginLeft:6},danger:!0,onClick:function(){e.setState({currentShop4OrderList:at[3],currentOrderType4OrderList:nt[0],currentOrderCashier:it[0],currentTemplate4OrderList:rt[0],currentOrderTimeType:ot[1],beginDateTime4OrderList:se()().startOf("day"),endDateTime4OrderList:se()().endOf("day")},Object(s.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchOrderList();case 2:case"end":return t.stop()}}),t)}))))}},"\u914d\u8d27"),n.a.createElement(E.a,{disabled:!0,style:{marginLeft:18},onClick:this.handleProductLabelPrint},"\u6807\u7b7e\u6253\u5370"))),n.a.createElement("div",{style:{zIndex:2,bottom:0,left:0,right:0,position:"fixed",width:"100%",height:140,backgroundColor:"lightgray"}},n.a.createElement("div",null,n.a.createElement(E.a,{danger:!0,disabled:H,type:"primary",onClick:this.handleProductionPrint,style:{width:210,height:30,marginLeft:50,marginTop:10}},"\u6253\u5370\u751f\u4ea7\u5355"),U?n.a.createElement("span",null,n.a.createElement("span",{style:{marginLeft:10,color:"tomato",fontSize:8}},"\u672a\u62a5\u8d27\u95e8\u5e97:"),n.a.createElement("span",{style:{marginLeft:5,color:"red",fontSize:14,fontWeight:"bold"}},F)):n.a.createElement("span",null)),n.a.createElement("div",null,n.a.createElement(E.a,{danger:!0,disabled:J,type:"primary",onClick:this.handleDistributionPrint,style:{width:210,height:30,marginLeft:50,marginTop:10}},"\u6253\u5370\u914d\u8d27\u5355"),K?n.a.createElement("span",null,n.a.createElement("span",{style:{marginLeft:10,color:"tomato",fontSize:8}},"\u672a\u62a5\u8d27\u6a21\u677f:"),n.a.createElement("span",{style:{marginLeft:5,color:"red",fontSize:14,fontWeight:"bold"}},W)):n.a.createElement("span",null)),n.a.createElement("div",null,n.a.createElement(E.a,{danger:!0,disabled:V,type:"primary",onClick:this.handleDistributionInput,style:{width:210,height:30,marginLeft:50,marginTop:10}},"\u5f00\u59cb\u914d\u8d27"))),n.a.createElement("div",{style:{marginLeft:30,marginTop:4,marginRight:30,marginBottom:0}},n.a.createElement(y.a,{overlay:function(){return n.a.createElement(b.a,{onClick:function(){var t=Object(s.a)(l.a.mark((function t(a){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=a.key,e.setState({currentShop4OrderList:at[r]},Object(s.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchOrderList();case 2:case"end":return t.stop()}}),t)}))));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},at.map((function(e){var t="black";return e.name===r.name&&(t="red"),n.a.createElement(b.a.Item,{key:at.indexOf(e),style:{color:t}},e.name)})))},arrow:!0,trigger:["click"],disabled:m},n.a.createElement(E.a,{size:"small",style:{width:160,marginLeft:8,marginTop:4},onClick:function(e){return e.preventDefault()}},r.name,n.a.createElement(oe.a,null))),n.a.createElement(y.a,{overlay:function(){return n.a.createElement(b.a,{onClick:function(){var t=Object(s.a)(l.a.mark((function t(a){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=a.key,e.setState({currentOrderType4OrderList:nt[r]},Object(s.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchOrderList();case 2:case"end":return t.stop()}}),t)}))));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},nt.map((function(e){var t="black";return e.name===o.name&&(t="red"),n.a.createElement(b.a.Item,{key:nt.indexOf(e),style:{color:t}},e.name)})))},arrow:!0,trigger:["click"],disabled:m},n.a.createElement(E.a,{size:"small",style:{width:160,marginLeft:8,marginTop:4},onClick:function(e){return e.preventDefault()}},o.name,n.a.createElement(oe.a,null))),n.a.createElement(y.a,{overlay:function(){return n.a.createElement(b.a,{onClick:function(){var t=Object(s.a)(l.a.mark((function t(a){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=a.key,e.setState({currentOrderCashier:it[r]},Object(s.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchOrderList();case 2:case"end":return t.stop()}}),t)}))));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},it.map((function(e){var t="black";return e.name===c.name&&(t="red"),n.a.createElement(b.a.Item,{key:it.indexOf(e),style:{color:t}},e.name)})))},arrow:!0,trigger:["click"],disabled:m},n.a.createElement(E.a,{size:"small",style:{width:160,marginLeft:8,marginTop:4},onClick:function(e){return e.preventDefault()}},c.name,n.a.createElement(oe.a,null))),n.a.createElement(y.a,{overlay:function(){return n.a.createElement(b.a,{onClick:function(){var t=Object(s.a)(l.a.mark((function t(a){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=a.key,e.setState({currentTemplate4OrderList:rt[r]},Object(s.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchOrderList();case 2:case"end":return t.stop()}}),t)}))));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},rt.map((function(e){var t="black";return e.name===i.name&&(t="red"),n.a.createElement(b.a.Item,{key:rt.indexOf(e),style:{color:t}},e.name)})))},arrow:!0,trigger:["click"],disabled:m},n.a.createElement(E.a,{size:"small",style:{width:160,marginLeft:8,marginTop:4},onClick:function(e){return e.preventDefault()}},i.name,n.a.createElement(oe.a,null))),n.a.createElement(y.a,{overlay:function(){return n.a.createElement(b.a,{onClick:function(){var t=Object(s.a)(l.a.mark((function t(a){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=a.key,e.setState({currentOrderTimeType:ot[r]},Object(s.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchOrderList();case 2:case"end":return t.stop()}}),t)}))));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ot.map((function(e){var t="black";return e.name===d.name&&(t="red"),n.a.createElement(b.a.Item,{key:ot.indexOf(e),style:{color:t}},e.name)})))},arrow:!0,trigger:["click"],disabled:m},n.a.createElement(E.a,{size:"small",style:{width:120,marginLeft:10,marginTop:4},onClick:function(e){return e.preventDefault()}},d.name,n.a.createElement(oe.a,null))),n.a.createElement("span",null,"=>"),n.a.createElement(tt,{open:f,onOpenChange:function(t){e.setState({timePickerOpen4OrderList:t})},style:{marginTop:4},size:"small",locale:ce.a,bordered:!0,placeholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"],inputReadOnly:!0,disabled:m,value:[se()(u,"YYYY-MM-DD+HH:mm:ss"),se()(p,"YYYY-MM-DD+HH:mm:ss")],defaultValue:[se()(u,"YYYY-MM-DD+HH:mm:ss"),se()(p,"YYYY-MM-DD+HH:mm:ss")],showTime:{hideDisabledOptions:!0,defaultValue:[se()("00:00:00","HH:mm:ss"),se()("23:59:59","HH:mm:ss")],showTime:!0,showHour:!0,showMinute:!0,showSecond:!0},onOk:function(){var t=Object(s.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a.length>=2&&a[0]&&a[1])){t.next=5;break}if(!(a[0]>a[1])){t.next=4;break}return h.b.info("\u8bf7\u8f93\u5165\u6b63\u786e\u65f6\u95f4"),t.abrupt("return");case 4:e.setState({beginDateTime4OrderList:a[0],endDateTime4OrderList:a[1]},Object(s.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchOrderList();case 2:case"end":return t.stop()}}),t)}))));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),renderExtraFooter:function(){return n.a.createElement("span",null,n.a.createElement(E.a,{size:"small",type:"primary",onClick:function(t){var a=se()().subtract(1,"day").startOf("day"),r=se()().subtract(1,"day").endOf("day");e.setState({beginDateTime4OrderList:a,endDateTime4OrderList:r,timePickerOpen4OrderList:!1},Object(s.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchOrderList();case 2:case"end":return t.stop()}}),t)}))))}},"\u6628\u5929"),n.a.createElement(E.a,{style:{marginLeft:10},size:"small",type:"primary",onClick:function(t){var a=se()().startOf("day"),r=se()().endOf("day");e.setState({beginDateTime4OrderList:a,endDateTime4OrderList:r,timePickerOpen4OrderList:!1},Object(s.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchOrderList();case 2:case"end":return t.stop()}}),t)}))))}},"\u4eca\u5929"),n.a.createElement(E.a,{style:{marginLeft:10},size:"small",type:"primary",onClick:function(t){var a=se()().add(1,"day").startOf("day"),r=se()().add(1,"day").endOf("day");e.setState({beginDateTime4OrderList:a,endDateTime4OrderList:r,timePickerOpen4OrderList:!1},Object(s.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchOrderList();case 2:case"end":return t.stop()}}),t)}))))}},"\u660e\u5929"))}}),n.a.createElement("span",{style:{marginLeft:5,marginRight:5,color:"red",fontSize:15}},this.getDayTip(u,p)),n.a.createElement(E.a,{style:{width:180,marginLeft:8,marginTop:4},type:"primary",disabled:m,onClick:function(){var t=Object(s.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchOrderList();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},"\u67e5\u8be2\u8ba2\u8d27\u5355"),n.a.createElement(Ge.a,{style:{marginTop:10},size:"small",loading:m,dataSource:a,columns:q,rowSelection:Q,pagination:!1,bordered:!0,scroll:{y:150,scrollToFirstRowOnChange:!0},footer:function(){return n.a.createElement("div",{style:{textAlign:"center",height:15,fontSize:12}},"\u603b\u5171 ".concat(a.length," \u9879\uff0c\u5df2\u9009 ").concat(g.length," \u9879"))}})),n.a.createElement("div",{style:{marginLeft:30,marginTop:10,marginRight:30,marginBottom:30}},n.a.createElement(y.a,{style:{marginLeft:0},overlay:function(){return n.a.createElement(b.a,{onClick:function(){var t=Object(s.a)(l.a.mark((function t(a){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=a.key,e.setState({currentShop4FlowList:at[r]},Object(s.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchFlowList();case 2:case"end":return t.stop()}}),t)}))));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},at.map((function(e){var t="black";return e.name===T.name&&(t="red"),n.a.createElement(b.a.Item,{key:at.indexOf(e),style:{color:t}},e.name)})))},arrow:!0,trigger:["click"],disabled:S},n.a.createElement(E.a,{size:"small",style:{width:160},onClick:function(e){return e.preventDefault()}},T.name,n.a.createElement(oe.a,null))),n.a.createElement(y.a,{overlay:function(){return n.a.createElement(b.a,{onClick:function(){var t=Object(s.a)(l.a.mark((function t(a){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=a.key,e.setState({currentFlowType:st[r]},Object(s.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchFlowList();case 2:case"end":return t.stop()}}),t)}))));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},st.map((function(e){var t="black";return e.name===w.name&&(t="red"),n.a.createElement(b.a.Item,{key:st.indexOf(e),style:{color:t}},e.name)})))},arrow:!0,trigger:["click"],disabled:S},n.a.createElement(E.a,{size:"small",style:{width:160,marginLeft:10},onClick:function(e){return e.preventDefault()}},w.name,n.a.createElement(oe.a,null))),n.a.createElement(tt,{open:D,onOpenChange:function(t){e.setState({timePickerOpen4FlowList:t})},style:{marginLeft:10},size:"small",locale:ce.a,bordered:!0,placeholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"],inputReadOnly:!0,disabled:S,value:[se()(A,"YYYY-MM-DD+HH:mm:ss"),se()(I,"YYYY-MM-DD+HH:mm:ss")],defaultValue:[se()(A,"YYYY-MM-DD+HH:mm:ss"),se()(I,"YYYY-MM-DD+HH:mm:ss")],showTime:{hideDisabledOptions:!0,defaultValue:[se()("00:00:00","HH:mm:ss"),se()("23:59:59","HH:mm:ss")],showTime:!0,showHour:!0,showMinute:!0,showSecond:!0},onOk:function(){var t=Object(s.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a.length>=2&&a[0]&&a[1])){t.next=5;break}if(!(a[0]>a[1])){t.next=4;break}return h.b.info("\u8bf7\u8f93\u5165\u6b63\u786e\u65f6\u95f4"),t.abrupt("return");case 4:e.setState({beginDateTime4FlowList:a[0],endDateTime4FlowList:a[1]},Object(s.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchFlowList();case 2:case"end":return t.stop()}}),t)}))));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),renderExtraFooter:function(){return n.a.createElement("div",null,n.a.createElement("span",null,n.a.createElement(E.a,{size:"small",type:"primary",onClick:function(t){var a=se()().subtract(1,"day").startOf("day"),r=se()().subtract(1,"day").endOf("day");e.setState({beginDateTime4FlowList:a,endDateTime4FlowList:r,timePickerOpen4FlowList:!1},Object(s.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchFlowList();case 2:case"end":return t.stop()}}),t)}))))}},"\u6628\u5929"),n.a.createElement(E.a,{style:{marginLeft:10},size:"small",type:"primary",onClick:function(t){var a=se()().startOf("day"),r=se()().endOf("day");e.setState({beginDateTime4FlowList:a,endDateTime4FlowList:r,timePickerOpen4FlowList:!1},Object(s.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchFlowList();case 2:case"end":return t.stop()}}),t)}))))}},"\u4eca\u5929"),n.a.createElement(E.a,{style:{marginLeft:10},size:"small",type:"primary",onClick:function(t){var a=se()().month(se()().month()-1).startOf("month"),r=se()().month(se()().month()-1).endOf("month");e.setState({beginDateTime4FlowList:a,endDateTime4FlowList:r,timePickerOpen4FlowList:!1},Object(s.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchFlowList();case 2:case"end":return t.stop()}}),t)}))))}},"\u4e0a\u6708")),n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("span",null,"\u672c\u6708"),n.a.createElement(E.a,{style:{marginLeft:5},size:"small",type:"primary",onClick:function(t){var a=se()().startOf("month"),r=se()().startOf("month").add(9,"days").endOf("day");e.setState({beginDateTime4FlowList:a,endDateTime4FlowList:r,timePickerOpen4FlowList:!1},Object(s.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchFlowList();case 2:case"end":return t.stop()}}),t)}))))}},"1~10"),n.a.createElement(E.a,{style:{marginLeft:5},size:"small",type:"primary",onClick:function(t){var a=se()().startOf("month").add(10,"days"),r=se()().startOf("month").add(19,"days").endOf("day");e.setState({beginDateTime4FlowList:a,endDateTime4FlowList:r,timePickerOpen4FlowList:!1},Object(s.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchFlowList();case 2:case"end":return t.stop()}}),t)}))))}},"11~20"),n.a.createElement(E.a,{style:{marginLeft:5},size:"small",type:"primary",onClick:function(t){var a=se()().startOf("month").add(20,"days"),r=se()().endOf("month");e.setState({beginDateTime4FlowList:a,endDateTime4FlowList:r,timePickerOpen4FlowList:!1},Object(s.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchFlowList();case 2:case"end":return t.stop()}}),t)}))))}},"21~\u6708\u5e95")),n.a.createElement("div",null,n.a.createElement("span",null,"\u4e0a\u6708"),n.a.createElement(E.a,{style:{marginLeft:5},size:"small",type:"primary",onClick:function(t){var a=se()().subtract(1,"months").startOf("month"),r=se()().subtract(1,"months").startOf("month").add(9,"days").endOf("day");e.setState({beginDateTime4FlowList:a,endDateTime4FlowList:r,timePickerOpen4FlowList:!1},Object(s.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchFlowList();case 2:case"end":return t.stop()}}),t)}))))}},"1~10"),n.a.createElement(E.a,{style:{marginLeft:5},size:"small",type:"primary",onClick:function(t){var a=se()().subtract(1,"months").startOf("month").add(10,"days"),r=se()().subtract(1,"months").startOf("month").add(19,"days").endOf("day");e.setState({beginDateTime4FlowList:a,endDateTime4FlowList:r,timePickerOpen4FlowList:!1},Object(s.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchFlowList();case 2:case"end":return t.stop()}}),t)}))))}},"11~20"),n.a.createElement(E.a,{style:{marginLeft:5},size:"small",type:"primary",onClick:function(t){var a=se()().subtract(1,"months").startOf("month").add(20,"days"),r=se()().subtract(1,"months").endOf("month");e.setState({beginDateTime4FlowList:a,endDateTime4FlowList:r,timePickerOpen4FlowList:!1},Object(s.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchFlowList();case 2:case"end":return t.stop()}}),t)}))))}},"21~\u6708\u5e95"))))}}),n.a.createElement("span",{style:{marginLeft:5,marginRight:5,color:"red",fontSize:15}},this.getDayTip(A,I)),n.a.createElement(E.a,{style:{width:180,marginLeft:10},type:"primary",disabled:S,onClick:function(){var t=Object(s.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchFlowList();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},"\u67e5\u8be2\u8d27\u6d41\u5355"),R.length>0?n.a.createElement(E.a,{style:{marginLeft:10},danger:!0},"\u5f2f\u9ea6(\u603b\u90e8)\uff1a\u5e8f\u53f7\u3010".concat(R,"\u3011\u8c03\u8d27\u5355\u8981\u5904\u7406")):n.a.createElement("div",null),n.a.createElement(Ge.a,{style:{marginTop:10},size:"small",loading:S,dataSource:x,columns:G,pagination:!1,bordered:!0,scroll:{y:160,scrollToFirstRowOnChange:!0},footer:function(){return n.a.createElement("div",{style:{textAlign:"center",height:15,fontSize:12}},n.a.createElement("span",null,"\u603b\u5171 ".concat(x.length," \u9879")),B.length>0?n.a.createElement(E.a,{size:"small",danger:!0,style:{marginLeft:10,fontSize:13,color:"red"}},"\u5e8f\u53f7\u3010".concat(B,"\u3011\u8c03\u8d27\u5355\u672a\u5904\u7406")):n.a.createElement("span",null))}})),n.a.createElement(Ne.a,{width:1e3,centered:!0,keyboard:!0,maskClosable:!1,title:n.a.createElement("div",null,n.a.createElement("div",{style:{color:"gray",fontSize:8}},this._currentOrderShopName),n.a.createElement("div",{style:{color:"gray",fontSize:8}},this._currentOrderTime)),visible:Y,okText:"\u77e5\u9053\u4e86",cancelButtonProps:{hidden:!0},onOk:function(){e.setState({orderDetailModalVisible:!1})},onCancel:function(){e.setState({orderDetailModalVisible:!1})}},n.a.createElement(Ge.a,{style:{marginTop:10},size:"small",loading:_,dataSource:M,columns:X,pagination:!1,bordered:!0,scroll:{y:400,scrollToFirstRowOnChange:!0},footer:function(){return n.a.createElement("div",{style:{textAlign:"center",height:15,fontSize:12}},"\u603b\u5171 ".concat(M.length," \u9879"))}})),n.a.createElement(Ne.a,{width:1e3,centered:!0,keyboard:!0,maskClosable:!1,title:n.a.createElement("div",null,n.a.createElement("div",{style:{color:"green",fontSize:10}},"-"!==this._currentTransferFrom?"".concat(this._currentTransferFrom,"=>").concat(this._currentTransferTo):"".concat(this._currentTransferTo)),n.a.createElement("div",{style:{color:"gray",fontSize:8}},this._currentFlowDetailStatus[0]),n.a.createElement("div",{style:{color:"gray",fontSize:8}},this._currentFlowDetailStatus[1])),visible:O,onCancel:function(){e.setState({flowDetailModalVisible:!1})},footer:$?n.a.createElement("div",{style:{marginRight:10,marginBottom:20,marginTop:20}},n.a.createElement(qe.b,null,n.a.createElement(E.a,{key:"refuse",type:"primary",danger:!0,disabled:z,onClick:function(){var t=Object(s.a)(l.a.mark((function t(a){var r,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e._currentFlowRefuseText,e._currentFlowRefuseText="\u53d1\u9001\u4e2d",e.setState({refuseFlowLoading:!0}),t.next=5,P(e._currentFlowId);case 5:if(!(n=t.sent)||0!==n.errCode){t.next=14;break}return e._currentFlowRefuseText="",e._currentFlowDetailStatus[1]="\u5df2\u62d2\u7edd\u6536\u8d27",h.b.success("\u62d2\u7edd\u6536\u8d27\u6210\u529f~"),t.next=12,e.fetchFlowList();case 12:t.next=16;break;case 14:e._currentFlowRefuseText=r,h.b.error("\u62d2\u7edd\u6536\u8d27\u5931\u8d25~");case 16:e.setState({refuseFlowLoading:!1});case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},this._currentFlowRefuseText),n.a.createElement(E.a,{key:"confirm",type:"primary",danger:!0,disabled:j,onClick:function(){var t=Object(s.a)(l.a.mark((function t(a){var r,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e._currentFlowConfirmText,e._currentFlowConfirmText="\u53d1\u9001\u4e2d",e.setState({confirmFlowLoading:!0}),t.next=5,N(e._currentFlowId);case 5:if(!(n=t.sent)||0!==n.errCode){t.next=14;break}return e._currentFlowConfirmText="",e._currentFlowDetailStatus[1]="\u5df2\u5b8c\u6210\u6536\u8d27",h.b.success("\u786e\u8ba4\u6536\u8d27\u6210\u529f~"),t.next=12,e.fetchFlowList();case 12:t.next=16;break;case 14:e._currentFlowConfirmText=r,h.b.error("\u786e\u8ba4\u6536\u8d27\u5931\u8d25~");case 16:e.setState({confirmFlowLoading:!1});case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},this._currentFlowConfirmText))):n.a.createElement("div",null)},n.a.createElement(Ge.a,{style:{marginTop:10},size:"small",loading:L,dataSource:C,columns:Z,pagination:!1,bordered:!0,scroll:{y:400,scrollToFirstRowOnChange:!0},footer:function(){return n.a.createElement("div",{style:{textAlign:"center",height:15,fontSize:12}},"\u603b\u5171 ".concat(C.length," \u9879"))}})))}}]),a}(n.a.Component),mt=g.a.RangePicker,ut=[{name:"\u5168\u90e8\u95e8\u5e97",userId:""},{name:"001 - \u5f2f\u9ea6(\u6559\u80b2\u5c40\u5e97)",userId:"3995767"},{name:"004 - \u5f2f\u9ea6(\u6c64\u6cc9\u5e97)",userId:"4061092"},{name:"005 - \u5f2f\u9ea6(\u76d8\u9640\u5e97)",userId:"4339546"},{name:"007 - \u5f2f\u9ea6(\u8054\u8425\u5e97)",userId:"4382444"}],pt=[{name:"\u5168\u90e8\u6a21\u677f",templateId:"",templateUid:""},{name:"\u897f\u70b9\u7c7b",templateId:"189",templateUid:"1595397637628133418"},{name:"\u5e38\u6e29\u7c7b",templateId:"183",templateUid:"1595077654714716554"},{name:"\u73b0\u70e4\u7c7b",templateId:"187",templateUid:"1595310806940367327"},{name:"\u9910\u5305\u7c7b",templateId:"182",templateUid:"1595077405589137749"},{name:"\u5410\u53f8\u7c7b",templateId:"2873",templateUid:"1649149816769757925"}],ft=[{name:"\u5168\u90e8\u7c7b\u578b",id:""},{name:"\u76f4\u8425\u5e97-\u65e5\u5e38\u5355",id:"163"},{name:"\u5fb7\u6797-\u706b\u70e7\u94fa1\u5e97",id:"320"},{name:"\u5fb7\u6797-\u706b\u70e7\u94fa2\u5e97",id:"323"},{name:"\u5fb7\u6797-\u5b66\u5e9c\u5e97",id:"322"},{name:"\u5fb7\u6797-\u5047\u65e5\u5e97",id:"321"},{name:"\u9526\u5ba2\u9686-\u897f\u6e56\u5e97",id:"325"},{name:"\u6d4b\u8bd5\u5355",id:"326"},{name:"-",id:"400"}],gt=[{name:"\u5168\u90e8\u6536\u94f6\u5458",id:""},{name:"\u5fb7\u6797-\u706b\u70e7\u94fa1\u5e97",id:"1"},{name:"\u5fb7\u6797-\u706b\u70e7\u94fa2\u5e97",id:"2"},{name:"\u5fb7\u6797-\u5b66\u5e9c\u5e97",id:"3"},{name:"\u5fb7\u6797-\u5047\u65e5\u5e97",id:"4"},{name:"\u9526\u5ba2\u9686-\u897f\u6e56\u5e97",id:"5"},{name:"\u5f90\u78a7\u83b2",id:"6"},{name:"\u738b\u8363\u6167",id:"7"}],ht=[{name:"\u8ba2\u8d27\u65f6\u95f4",timeType:"0"},{name:"\u5230\u8d27\u65f6\u95f4",timeType:"2"}],yt=[{title:"\u5e8f",dataIndex:"key",key:"key",width:40,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u6761\u7801",dataIndex:"barcode",key:"barcode",width:140,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u540d\u79f0",dataIndex:"orderProductName",key:"orderProductName",width:140,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u89c4\u683c",dataIndex:"specification",key:"specification",width:140,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u7c7b\u522b",dataIndex:"categoryName",key:"categoryName",width:100,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u8ba2\u8d27\u91cf",dataIndex:"orderNumber",key:"orderNumber",width:80,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u5907\u6ce8",dataIndex:"remark",key:"remark",width:"*",render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}}],bt=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).fetchOrderList=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{r.setState({alreadyOrderListData:[],alreadyOrderLoading:!0,selectedRowKeys4OrderList:[]},Object(s.a)(l.a.mark((function e(){var t,a,n,i,o,c,s,d,m,u,p,f,g,h;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.state,a=t.currentShop4OrderList,n=t.currentTemplate4OrderList,i=t.currentOrderType4OrderList,o=t.currentOrderCashier,c=t.currentOrderTimeType,s=t.beginDateTime4OrderList,d=t.endDateTime4OrderList,m=[],u=[],p=s.format("YYYY.MM.DD%2BHH:mm:ss"),f=d.format("YYYY.MM.DD%2BHH:mm:ss"),e.next=7,I(a.userId,n.templateId,c.timeType,p,f);case 7:if((g=e.sent)&&0===g.errCode){for(h=0;h<g.list.length;++h)(""===i.id&&""===o.id||""===i.id&&o.name===g.list[h].orderCashier||""===o.id&&i.name===g.list[h].orderType||o.name===g.list[h].orderCashier&&i.name===g.list[h].orderType)&&m.push(g.list[h]);(m=m.sort((function(e,t){return e.orderShopIndex-t.orderShopIndex}))).forEach((function(e){e.key=m.indexOf(e)+1,u.push(e.key)}))}r.setState({alreadyOrderListData:m,selectedRowKeys4OrderList:u,alreadyOrderLoading:!1});case 10:case"end":return e.stop()}}),e)}))))}catch(t){r.setState({alreadyOrderLoading:!1})}case 1:case"end":return e.stop()}}),e)}))),r.fetchOrderDetail=function(){var e=Object(s.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{r.setState({orderDetailData:[],orderDetailLoading:!0},Object(s.a)(l.a.mark((function e(){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(t);case 2:a=e.sent,n=[],a&&0===a.errCode&&a.items&&(n=a.items),r.setState({orderDetailData:n,orderDetailLoading:!1});case 6:case"end":return e.stop()}}),e)}))))}catch(a){r.setState({orderDetailLoading:!1})}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.onOrderItemSelectChange=function(e){r.setState({selectedRowKeys4OrderList:e})},r.handleProductLabelPrint=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.location.replace(Ze()+"/productLabelPrinter?"+r.makeParamByState());case 1:case"end":return e.stop()}}),e)}))),r.handleProductionPrint=function(){window.location.replace(Ze()+"/productionPlanPrinter_1?"+r.makeParamByState())},r.handleDistributionPrint=function(){window.location.replace(Ze()+"/productDistributePrinter_1?"+r.makeParamByState())},r.getDayTip4BeginAndEnd=function(){var e=r.state,t=e.beginDateTime4OrderList,a=e.endDateTime4OrderList,n="",i=se()().startOf("day"),o=se()().endOf("day"),c=se()().subtract(1,"day").startOf("day"),l=se()().subtract(1,"day").endOf("day"),s=se()().add(1,"day").startOf("day"),d=se()().add(1,"day").endOf("day");return 0===t.diff(i,"milliseconds")&&0===a.diff(o)?n="\u4eca\u5929":0===t.diff(c,"milliseconds")&&0===a.diff(l)?n="\u6628\u5929":0===t.diff(s,"milliseconds")&&0===a.diff(d)&&(n="\u660e\u5929"),n},r.handleSetFilter4Production=function(){r.setState({currentShop4OrderList:ut[0],currentOrderType4OrderList:ft[0],currentOrderCashier:gt[0],currentTemplate4OrderList:pt[1],currentOrderTimeType:ht[0],beginDateTime4OrderList:se()().startOf("day"),endDateTime4OrderList:se()().endOf("day")},Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.fetchOrderList();case 2:case"end":return e.stop()}}),e)}))))},r.handleSetFilter4Distribution=function(){r.setState({currentShop4OrderList:ut[1],currentOrderType4OrderList:ft[0],currentOrderCashier:gt[0],currentTemplate4OrderList:pt[0],currentOrderTimeType:ht[0],beginDateTime4OrderList:se()().add(0,"day").startOf("day"),endDateTime4OrderList:se()().add(0,"day").endOf("day")},Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.fetchOrderList();case 2:case"end":return e.stop()}}),e)}))))},r.handleSetCurrentShopFilter=function(e){r.setState({currentShop4OrderList:ut[e.key]},Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.fetchOrderList();case 2:case"end":return e.stop()}}),e)}))))},r.handleSetCurrentOrderTypeFilter=function(e){r.setState({currentOrderType4OrderList:ft[e.key]},Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.fetchOrderList();case 2:case"end":return e.stop()}}),e)}))))},r.handleSetCurrentOrderCashierFilter=function(e){r.setState({currentOrderCashier:gt[e.key]},Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.fetchOrderList();case 2:case"end":return e.stop()}}),e)}))))},r.handleSetCurrentTemplateFilter=function(e){r.setState({currentTemplate4OrderList:pt[e.key]},Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.fetchOrderList();case 2:case"end":return e.stop()}}),e)}))))},r.handleSetCurrentOrderTimeTypeFilter=function(e){r.setState({currentOrderTimeType:ht[e.key]},Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.fetchOrderList();case 2:case"end":return e.stop()}}),e)}))))},r.handleTimePickerOpenChange=function(e){r.setState({timePickerOpen4OrderList:e})},r.handleTimePickerOnOk=function(e){if(e.length>=2&&e[0]&&e[1]){if(e[0]>e[1])return void h.b.info("\u8bf7\u8f93\u5165\u6b63\u786e\u65f6\u95f4\uff01");r.setState({beginDateTime4OrderList:e[0],endDateTime4OrderList:e[1]},r.fetchOrderList())}},r.refreshBeginAndEndDateTime=function(e,t){r.setState({beginDateTime4OrderList:e,endDateTime4OrderList:t,timePickerOpen4OrderList:!1},(function(){return r.fetchOrderList()}))},r.state={alreadyOrderListData:[],alreadyOrderLoading:!1,currentShop4OrderList:ut[0],currentTemplate4OrderList:pt[0],currentOrderType4OrderList:ft[0],currentOrderCashier:gt[0],currentOrderTimeType:ht[0],beginDateTime4OrderList:se()().startOf("day"),endDateTime4OrderList:se()().endOf("day"),timePickerOpen4OrderList:!1,selectedRowKeys4OrderList:[],orderDetailData:[],orderDetailLoading:!1,orderDetailModalVisible:!1,currentOrderShopName:"",currentOrderTime:""},r}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.query,t=e&&e.get("param");this.initFilterByParam(t),this.fetchOrderList()}},{key:"initFilterByParam",value:function(e){if(e){e=unescape(e);var t=JSON.parse(e);this.setState({currentTemplate4OrderList:t.template,currentOrderType4OrderList:t.orderType,currentOrderCashier:t.orderCashier,currentOrderTimeType:t.timeType,currentShop4OrderList:t.shop,beginDateTime4OrderList:se()(t.beginDateTime),endDateTime4OrderList:se()(t.endDateTime)})}}},{key:"makeParamByState",value:function(){for(var e={},t=this.state,a=t.alreadyOrderListData,r=t.currentShop4OrderList,n=t.currentTemplate4OrderList,i=t.currentOrderType4OrderList,o=t.currentOrderCashier,c=t.currentOrderTimeType,l=t.selectedRowKeys4OrderList,s=t.beginDateTime4OrderList,d=t.endDateTime4OrderList,m=[],u=0;u<a.length;++u){var p=a[u];-1!==l.indexOf(p.key)&&m.push(p)}e.orderList=m,e.template=n,e.orderType=i,e.orderCashier=o,e.timeType=c,e.shop=r,e.beginDateTime=s,e.endDateTime=d;var f=JSON.stringify(e);return"param="+escape(f)}},{key:"render",value:function(){var e=this,t=this.state,a=t.alreadyOrderListData,r=t.currentShop4OrderList,i=t.currentTemplate4OrderList,o=t.currentOrderType4OrderList,c=t.currentOrderCashier,l=t.currentOrderTimeType,s=t.alreadyOrderLoading,d=t.beginDateTime4OrderList,m=t.endDateTime4OrderList,u=t.timePickerOpen4OrderList,p=t.selectedRowKeys4OrderList,f=t.orderDetailData,g=t.orderDetailLoading,h=t.orderDetailModalVisible,v=t.currentOrderShopName,k=t.currentOrderTime,T={selectedRowKeys:p,onChange:this.onOrderItemSelectChange},x=""!==r.userId||""!==o.id||""!==c.id||""===i.templateId||p.length<=0,S=""===r.userId||""!==i.templateId||p.length<=0,w=[{title:"\u5e8f",dataIndex:"key",key:"key",width:40,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u8ba2\u8d27\u95e8\u5e97",dataIndex:"orderShop",key:"orderShop",width:150,render:function(e){return n.a.createElement("span",{style:{fontSize:10,color:"red"}},e)}},{title:"\u7c7b\u578b || \u8054\u8425\u95e8\u5e97",dataIndex:"orderType",key:"orderType",width:150,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u6a21\u677f\u540d\u79f0",dataIndex:"templateName",key:"templateName",width:100,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u8ba2\u8d27\u5355\u53f7",dataIndex:"orderSerialNumber",key:"orderSerialNumber",width:180,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u8ba2\u8d27\u65f6\u95f4",dataIndex:"orderTime",key:"orderTime",width:150,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u671f\u671b\u5230\u8d27",dataIndex:"expectTime",key:"expectTime",width:100,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u8ba2\u8d27\u6536\u94f6\u5458",dataIndex:"orderCashier",key:"orderCashier",width:100,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u914d\u8d27\u95e8\u5e97",dataIndex:"prepareShop",key:"prepareShop",width:100,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u72b6\u6001",dataIndex:"status",key:"status",width:100,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u64cd\u4f5c",dataIndex:"action",key:"action",width:"80",render:function(t,a){return n.a.createElement(qe.b,{size:"middle"},n.a.createElement(E.a,{size:"small",onClick:function(){e.setState({orderDetailModalVisible:!0,currentOrderShopName:a.orderShop,currentOrderTime:a.orderTime},(function(){e.fetchOrderDetail(a.orderId)}))}},"\u67e5\u770b"))}},{title:"\u5907\u6ce8",dataIndex:"remark",key:"remark",width:"*",render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}}];return n.a.createElement("div",null,n.a.createElement("div",{style:{marginLeft:30,marginTop:8,fontSize:18}},n.a.createElement("span",null,"\u751f\u4ea7 VS \u914d\u8d27"),n.a.createElement("span",{style:{marginLeft:30,marginRight:30}},n.a.createElement(E.a,{danger:!0,onClick:this.handleSetFilter4Production},"\u751f\u4ea7\u5355"),n.a.createElement(E.a,{style:{marginLeft:6},danger:!0,onClick:this.handleSetFilter4Distribution},"\u914d\u8d27\u5355"),n.a.createElement(E.a,{disabled:!0,style:{marginLeft:18},onClick:this.handleProductLabelPrint},"\u6807\u7b7e\u6253\u5370"))),n.a.createElement("div",{style:{marginLeft:30,marginTop:4,marginRight:30}},n.a.createElement(y.a,{overlay:n.a.createElement(b.a,{onClick:this.handleSetCurrentShopFilter},ut.map((function(e){return n.a.createElement(b.a.Item,{key:ut.indexOf(e),style:{color:e.name===r.name?"red":"black"}},e.name)}))),arrow:!0,trigger:["click"],disabled:s},n.a.createElement(E.a,{size:"small",style:{width:160,marginLeft:8,marginTop:4},onClick:function(e){return e.preventDefault()}},r.name,n.a.createElement(oe.a,null))),n.a.createElement(y.a,{overlay:n.a.createElement(b.a,{onClick:this.handleSetCurrentOrderTypeFilter},ft.map((function(e){return n.a.createElement(b.a.Item,{key:ft.indexOf(e),style:{color:e.name===o.name?"red":"black"}},e.name)}))),arrow:!0,trigger:["click"],disabled:s},n.a.createElement(E.a,{size:"small",style:{width:160,marginLeft:8,marginTop:4},onClick:function(e){return e.preventDefault()}},o.name,n.a.createElement(oe.a,null))),n.a.createElement(y.a,{overlay:n.a.createElement(b.a,{onClick:this.handleSetCurrentOrderCashierFilter},gt.map((function(e){return n.a.createElement(b.a.Item,{key:gt.indexOf(e),style:{color:e.name===c.name?"red":"black"}},e.name)}))),arrow:!0,trigger:["click"],disabled:s},n.a.createElement(E.a,{size:"small",style:{width:160,marginLeft:8,marginTop:4},onClick:function(e){return e.preventDefault()}},c.name,n.a.createElement(oe.a,null))),n.a.createElement(y.a,{overlay:n.a.createElement(b.a,{onClick:this.handleSetCurrentTemplateFilter},pt.map((function(e){return n.a.createElement(b.a.Item,{key:pt.indexOf(e),style:{color:e.name===i.name?"red":"black"}},e.name)}))),arrow:!0,trigger:["click"],disabled:s},n.a.createElement(E.a,{size:"small",style:{width:160,marginLeft:8,marginTop:4},onClick:function(e){return e.preventDefault()}},i.name,n.a.createElement(oe.a,null))),n.a.createElement(y.a,{overlay:n.a.createElement(b.a,{onClick:this.handleSetCurrentOrderTimeTypeFilter},ht.map((function(e){return n.a.createElement(b.a.Item,{key:ht.indexOf(e),style:{color:e.name===l.name?"red":"black"}},e.name)}))),arrow:!0,trigger:["click"],disabled:s},n.a.createElement(E.a,{size:"small",style:{width:120,marginLeft:10,marginTop:4},onClick:function(e){return e.preventDefault()}},l.name,n.a.createElement(oe.a,null))),n.a.createElement("span",null,"=>"),n.a.createElement(mt,{open:u,onOpenChange:this.handleTimePickerOpenChange,size:"small",locale:ce.a,bordered:!0,placeholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"],inputReadOnly:!0,disabled:s,value:[se()(d,"YYYY-MM-DD+HH:mm:ss"),se()(m,"YYYY-MM-DD+HH:mm:ss")],defaultValue:[se()(d,"YYYY-MM-DD+HH:mm:ss"),se()(m,"YYYY-MM-DD+HH:mm:ss")],showTime:{hideDisabledOptions:!0,defaultValue:[se()("00:00:00","HH:mm:ss"),se()("23:59:59","HH:mm:ss")],showTime:!0,showHour:!0,showMinute:!0,showSecond:!0},onOk:this.handleTimePickerOnOk,renderExtraFooter:function(){return n.a.createElement("div",null,n.a.createElement(E.a,{size:"small",type:"primary",onClick:function(){e.refreshBeginAndEndDateTime(se()().subtract(1,"day").startOf("day"),se()().subtract(1,"day").endOf("day"))}},"\u6628\u5929"),n.a.createElement(E.a,{style:{marginLeft:10},size:"small",type:"primary",onClick:function(){e.refreshBeginAndEndDateTime(se()().startOf("day"),se()().endOf("day"))}},"\u4eca\u5929"),n.a.createElement(E.a,{style:{marginLeft:10},size:"small",type:"primary",onClick:function(t){e.refreshBeginAndEndDateTime(se()().add(1,"day").startOf("day"),se()().add(1,"day").endOf("day"))}},"\u660e\u5929"))}}),n.a.createElement("span",{style:{marginLeft:5,marginRight:5,color:"red",fontSize:15}},this.getDayTip4BeginAndEnd()),n.a.createElement(E.a,{style:{width:180,marginLeft:8,marginTop:4},type:"primary",disabled:s,onClick:function(){e.fetchOrderList()}},"\u67e5\u8be2\u8ba2\u8d27\u5355"),n.a.createElement(Ge.a,{style:{marginTop:10},size:"small",loading:s,dataSource:a,columns:w,rowSelection:T,pagination:!1,bordered:!0,scroll:{scrollToFirstRowOnChange:!0},title:function(){return n.a.createElement("div",{style:{height:50,fontSize:16}},n.a.createElement("span",null,"\u603b\u5171 ".concat(a.length," \u9879\uff0c\u5df2\u9009 ").concat(p.length," \u9879")),n.a.createElement(E.a,{danger:!0,disabled:x,type:"primary",onClick:e.handleProductionPrint,style:{width:160,height:30,marginLeft:20,marginTop:2}},"\u6253\u5370\u751f\u4ea7\u5355"),n.a.createElement(E.a,{danger:!0,disabled:S,type:"primary",onClick:e.handleDistributionPrint,style:{width:160,height:30,marginLeft:20,marginTop:10}},"\u6253\u5370\u914d\u8d27\u5355&\u6807\u7b7e"))}})),n.a.createElement(Ne.a,{width:1e3,centered:!0,keyboard:!0,maskClosable:!1,title:n.a.createElement("div",null,n.a.createElement("div",{style:{color:"gray",fontSize:8}},v),n.a.createElement("div",{style:{color:"gray",fontSize:8}},k)),open:h,okText:"\u77e5\u9053\u4e86",cancelButtonProps:{hidden:!0},onOk:function(){e.setState({orderDetailModalVisible:!1})},onCancel:function(){e.setState({orderDetailModalVisible:!1})}},n.a.createElement(Ge.a,{style:{marginTop:10},size:"small",loading:g,dataSource:f,columns:yt,pagination:!1,bordered:!0,scroll:{y:400,scrollToFirstRowOnChange:!0},footer:function(){return n.a.createElement("div",{style:{textAlign:"center",height:15,fontSize:12}},"\u603b\u5171 ".concat(f.length," \u9879"))}})))}}]),a}(n.a.Component),Et=a(48),vt={"1595310806940367327":[],"1595397637628133418":[],"1595077654714716554":[],"1595077405589137749":[],"1649149816769757925":[]},kt=function(){var e=Object(s.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((a=vt[t]).length>0)){e.next=3;break}return e.abrupt("return",{errCode:0,list:a});case 3:return e.next=5,O(t);case 5:if(!(0===(r=e.sent).errCode&&r.list.length>0)){e.next=9;break}return vt[t]=r.list,e.abrupt("return",r);case 9:return e.abrupt("return",{errCode:-1});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Tt=a(70),xt={"187-2006251756022":1,"187-2006291720144":2,"187-2007261431428":3,"187-2006261548488":4,"187-2006251720443":5,"187-2007171555580":6,"182-2106241432414":1,"182-2106281603003":2,"182-2106281600071":3,"182-2106281603355":4,"182-2106241433091":5,"182-2106281601535":6,"182-2010291510063":7},St=["\u73b0\u70e4\u7c7b","\u897f\u70b9\u7c7b","\u5e38\u6e29\u7c7b","\u9910\u5305\u7c7b","\u5410\u53f8\u7c7b"],wt=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).componentDidMount=Object(s.a)(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.props.query,(a=t&&t.get("param"))&&(a=unescape(a),n=JSON.parse(a),r._template=n.template,r._orderType=n.orderType,r._orderCashier=n.orderCashier,r._shop=n.shop,r._beginDateTime=n.beginDateTime,r._timeType=n.timeType,r._endDateTime=n.endDateTime,r._orderList=n.orderList,r.refresh());case 3:case"end":return e.stop()}}),e)}))),r.refresh=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.setState({productSpinning:!0,productSpinTipText:"\u51c6\u5907\u6253\u5370..."},Object(s.a)(l.a.mark((function e(){var t,a,n,i,o,c,s,d,m,u,p,f,g,y,b,E,v,k,T,x,S,w,A,I,O,C,L,P,N,z,j,R,B,M,_,Y,Q,F,H,U,W,J,K,V,q,G,Z,X,$,ee,te,ae,re,ne,ie,oe,ce;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],r.setState({productSpinTipText:"\u51c6\u5907\u83b7\u53d6..."}),a=0;case 3:if(!(a<r._orderList.length)){e.next=66;break}if(!(n=r._orderList[a])){e.next=63;break}return r.setState({productSpinTipText:"\u83b7\u53d6"+n.orderShop+"-"+n.orderId+"..."}),e.next=9,D(n.orderId);case 9:if(0!==(i=e.sent).errCode||!i.items){e.next=60;break}o=!1,c=void 0,c=0;case 14:if(!(c<t.length)){e.next=27;break}if("007 - \u5f2f\u9ea6(\u8054\u8425\u5e97)"!==n.orderShop){e.next=21;break}if(t[c].orderShop!==n.orderShop||t[c].templateName!==n.templateName||t[c].orderType!==n.orderType){e.next=19;break}return o=!0,e.abrupt("break",27);case 19:e.next=24;break;case 21:if(t[c].orderShop!==n.orderShop||t[c].templateName!==n.templateName){e.next=24;break}return o=!0,e.abrupt("break",27);case 24:++c,e.next=14;break;case 27:if(!o){e.next=49;break}s=t[c].items,d=i.items,m=0;case 31:if(!(m<d.length)){e.next=47;break}u=d[m],p=-1,f=0;case 35:if(!(f<s.length)){e.next=43;break}if(s[f].barcode!==u.barcode){e.next=40;break}return p=f,e.abrupt("break",43);case 40:++f,e.next=35;break;case 43:-1!==p?(g=s[p].orderNumber+u.orderNumber,s[p].orderNumber=g):(y=Object(Et.a)({},u),s.push(y));case 44:++m,e.next=31;break;case 47:e.next=58;break;case 49:for((b={}).orderShop=n.orderShop,b.templateName=n.templateName,b.expectTime=n.expectTime,b.orderTime=n.orderTime,b.orderType=n.orderType,b.items=i.items,E=0;E<i.items.length;++E)v=r._template.templateId+"-"+i.items[E].barcode,k=xt[v],i.items[E].sortId=k||200;t.push(b);case 58:e.next=63;break;case 60:return t=[],h.b.error("\u83b7\u53d6<"+n.orderShop+">\u8ba2\u8d27\u4ea7\u54c1\u51fa\u9519\uff0c\u8bf7\u68c0\u67e5\uff01"),e.abrupt("break",66);case 63:++a,e.next=3;break;case 66:r.setState({productSpinTipText:"\u5408\u5e76\u81f3\u751f\u4ea7\u8f66\u95f4..."}),(T={}).orderShop="000 - \u5f2f\u9ea6(\u751f\u4ea7\u8f66\u95f4)",T.templateName=r._template.name,t&&t.length>0&&(T.expectTime=t[0].expectTime,T.orderTime=t[0].orderTime),x=[],S=0;case 73:if(!(S<t.length)){e.next=95;break}w=t[S].items,A=0;case 76:if(!(A<w.length)){e.next=92;break}I=w[A],O=I.barcode,C=-1,L=0;case 81:if(!(L<x.length)){e.next=88;break}if(x[L].barcode!==O){e.next=85;break}return C=L,e.abrupt("break",88);case 85:++L,e.next=81;break;case 88:-1!==C?(P=x[C].orderNumber+I.orderNumber,x[C].orderNumber=P):(N=Object(Et.a)({},I),x.push(N));case 89:++A,e.next=76;break;case 92:++S,e.next=73;break;case 95:return z=x,e.next=98,kt(r._template.templateUid);case 98:if(!(0===(j=e.sent).errCode&&j.list.length>0)){e.next=119;break}R=j.list,z=[],B=0;case 103:if(!(B<R.length)){e.next=119;break}M=-1,_=0;case 106:if(!(_<x.length)){e.next=113;break}if(R[B].barcode!==x[_].barcode){e.next=110;break}return M=_,e.abrupt("break",113);case 110:++_,e.next=106;break;case 113:Y={},-1!==M?(Y.categoryName=x[M].categoryName,Y.orderProductName=x[M].orderProductName,Y.barcode=x[M].barcode,Y.barcodeSimple=x[M].barcodeSimple,Y.sortId=x[M].sortId,Y.orderNumber=x[M].orderNumber):(Y.categoryName=R[B].categoryName,Y.orderProductName=R[B].name,Y.barcode=R[B].barcode,Y.barcodeSimple=R[B].barcodeSimple,Q=r._template.templateId+"-"+Y.barcode,F=xt[Q],Y.sortId=F||200,Y.orderNumber=0),z.push(Y);case 116:++B,e.next=103;break;case 119:H=[],U=0;case 121:if(!(U<z.length)){e.next=136;break}W=z[U],J=-1,K=H.length-1;case 125:if(!(K>=0)){e.next=132;break}if(H[K].categoryName!==W.categoryName){e.next=129;break}return J=K,e.abrupt("break",132);case 129:--K,e.next=125;break;case 132:-1!==J?H.splice(J+1,0,W):H.push(W);case 133:++U,e.next=121;break;case 136:H=H.sort((function(e,t){return e.sortId-t.sortId})),T.items=H,t.unshift(T),V=[],q=0;case 141:if(!(q<t.length)){e.next=183;break}if("000 - \u5f2f\u9ea6(\u751f\u4ea7\u8f66\u95f4)"!==(G=t[q]).orderShop){e.next=146;break}return V.push(G),e.abrupt("continue",180);case 146:if(-1===St.indexOf(G.templateName)){e.next=148;break}return e.abrupt("continue",180);case 148:(Z={}).orderShop=G.orderShop,Z.templateName=G.templateName,Z.expectTime=G.expectTime,Z.orderTime=G.orderTime,Z.orderType=G.orderType,Z.items=[],X=0;case 156:if(!(X<T.items.length)){e.next=179;break}if(!($=T.items[X])){e.next=176;break}(ee={}).categoryName=$.categoryName,ee.orderProductName=$.orderProductName,ee.barcode=$.barcode,ee.barcodeSimple=$.barcodeSimple,ee.sortId=$.sortId,ee.orderNumber=0,te=0;case 167:if(!(te<G.items.length)){e.next=175;break}if(ae=G.items[te],ee.barcode!==ae.barcode){e.next=172;break}return ee.orderNumber=ae.orderNumber,e.abrupt("break",175);case 172:++te,e.next=167;break;case 175:Z.items.push(ee);case 176:++X,e.next=156;break;case 179:V.push(Z);case 180:++q,e.next=141;break;case 183:for(re=[],ne=0;ne<V.length;++ne)for(ie=V[ne].items,oe=0;oe<ie.length;++oe)oe%29===0&&((ce={}).orderShop=V[ne].orderShop,ce.templateName=V[ne].templateName,ce.expectTime=V[ne].expectTime,ce.orderTime=V[ne].orderTime,ce.orderType=V[ne].orderType,ce.items=[],re.push(ce)),re[re.length-1].items.push(ie[oe]);r.setState({productSpinning:!1,productSpinTipText:"",allProductionDataToBePrint:re});case 186:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)}))),r.getLodopAfterInit=function(){var e=Object(Tt.getLodop)();if(e){e.PRINT_INIT("react\u4f7f\u7528\u6253\u5370\u63d2\u4ef6CLodop");e.SET_PRINTER_INDEX($e(e)),e.SET_PRINT_PAGESIZE(2,0,0,"\u9488\u6253\u4e09\u7b49\u5206"),e.SET_PREVIEW_WINDOW(0,0,0,800,600,""),e.SET_PRINT_COPIES(1),e.SET_SHOW_MODE("LANDSCAPE_DEFROTATED",1),e.SET_PRINT_MODE("AUTO_CLOSE_PREWINDOW",1),e.ADD_PRINT_HTM(0,0,"100%","100%","<style>\n                </style> "+document.getElementById("printDiv").innerHTML)}return e},r.productPrintPreprew=function(){var e=r.getLodopAfterInit();e&&e.PREVIEW()},r.productPrintDirect=function(){var e=r.getLodopAfterInit();e&&e.PRINT()},r.productPrintDirectAndBack=function(){r.productPrintDirect(),r.handleBack()},r.handleBack=function(e){var t={};t.template=r._template,t.orderType=r._orderType,t.orderCashier=r._orderCashier,t.timeType=r._timeType,t.shop=r._shop,t.beginDateTime=r._beginDateTime,t.endDateTime=r._endDateTime;var a=JSON.stringify(t),n="param="+escape(a),i=Ze()+"/orderManagement";i+="?",i+=n,window.location.replace(i)},r.state={productSpinTipText:"\u6253\u5370\u751f\u4ea7\u5355",productSpinning:!1,allProductionDataToBePrint:[]},r._orderList=void 0,r._template=void 0,r._orderType=void 0,r._orderCashier=void 0,r._shop=void 0,r._beginDateTime=void 0,r._timeType=void 0,r._endDateTime=void 0,r}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.allProductionDataToBePrint,r=t.productSpinTipText,i=t.productSpinning;return n.a.createElement("div",null,n.a.createElement("div",{style:{marginLeft:10,marginTop:10}},n.a.createElement("div",{id:"printConfig",style:{float:"left",borderStyle:"none",width:90}},n.a.createElement("div",null,n.a.createElement(E.a,{type:"primary",style:{width:90,height:80},onClick:function(t){return e.handleBack(t)}},n.a.createElement("div",{style:{fontSize:16}},"\u540e\u9000"))),n.a.createElement(E.a,{type:"primary",style:{marginTop:10,width:90,height:80},onClick:this.productPrintPreprew},n.a.createElement("div",{style:{fontWeight:"bold",fontSize:16,textDecoration:"underline"}},"\u6253\u5370\u9884\u89c8")),n.a.createElement(E.a,{type:"primary",danger:!0,style:{marginTop:10,width:90,height:80},onClick:this.productPrintDirectAndBack},n.a.createElement("div",{style:{fontWeight:"bold",fontSize:16,textDecoration:"underline"}},"\u76f4\u63a5\u6253\u5370"))),n.a.createElement("div",{style:{float:"left"}},n.a.createElement("span",{style:{marginLeft:10,fontSize:12,color:"green"}},"\u8ba2\u8d27\u65f6\u95f4\uff1a".concat(a&&a.length>0&&a[0].orderTime)),n.a.createElement("span",{style:{marginLeft:20,fontSize:12,color:"green"}},"\u671f\u671b\u5230\u8d27\uff1a".concat(a&&a.length>0&&a[0].expectTime)),n.a.createElement(k.a,{tip:r,spinning:i,size:"large"},n.a.createElement("div",{id:"printDiv",style:{marginLeft:10,borderStyle:"dotted",width:420,height:980}},n.a.createElement("div",{id:"printTable",style:{marginTop:0,marginLeft:0,width:410,height:949,backgroundColor:"transparent"}},a.map((function(e){var t=e.items,r=a.indexOf(e);return n.a.createElement("div",{key:r,style:{float:"left",zIndex:10,backgroundColor:"transparent",marginTop:10,height:949}},n.a.createElement("div",{style:{float:"left",marginLeft:0,width:38,height:949,backgroundColor:"transparent"}}),n.a.createElement("table",{border:"1",cellSpacing:"0",style:{float:"left",borderCollapse:"collapse"}},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"2",style:{width:318,textAlign:"center",backgroundColor:"lightyellow"}},"".concat(e.orderShop))),n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"2",style:{textAlign:"center"}},e.templateName)),n.a.createElement("tr",null,n.a.createElement("th",{style:{textAlign:"center",fontWeight:"bold"}},"\u54c1\u540d"),n.a.createElement("th",{style:{textAlign:"center",fontWeight:"bold"}},"\u8ba2\u8d27\u91cf"))),n.a.createElement("tbody",null,t.map((function(e){var a=t.indexOf(e)+1,r=e.orderNumber>1e3?"red":"transparent";return n.a.createElement("tr",{key:a},n.a.createElement("th",{key:"1",style:{height:20,textAlign:"center",fontSize:16}},e.orderProductName),n.a.createElement("th",{key:"2",style:{height:20,textAlign:"center",fontWeight:"lighter",fontSize:20,backgroundColor:r}},0!==e.orderNumber?e.orderNumber:""))}))),n.a.createElement("tfoot",null,n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"2"},"\u8ba2\u8d27\u65f6\u95f4\uff1a".concat(e.orderTime))),n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"2"},"\u671f\u671b\u5230\u8d27\uff1a".concat(e.expectTime))))),n.a.createElement("div",{style:{float:"left",marginLeft:0,width:38,height:949,backgroundColor:"transparent"}}))}))))),n.a.createElement("div",{style:{height:30}}))))}}]),a}(n.a.Component),At=[{pDepartment:"\u88f1\u82b1\u95f4",pCategory:["\u5f2f\u9ea6\u5c0f\u86cb\u7cd5","\u5f2f\u9ea6\u897f\u70b9\u6155\u65af"]},{pDepartment:"\u5e38\u6e29\u8f66\u95f4",pCategory:["\u5f2f\u9ea6\u5e38\u6e29\u86cb\u7cd5"]},{pDepartment:"\u73b0\u70e4\u8f66\u95f4",pCategory:["\u5f2f\u9ea6\u73b0\u70e4\u9762\u5305"]},{pDepartment:"\u9762\u5305\u8f66\u95f4",pCategory:["\u5f2f\u9ea6\u9910\u5305\u9762\u5305"]},{pDepartment:"\u9762\u5305\u8f66\u95f4",pCategory:["\u5f2f\u9ea6\u5410\u53f8\u9762\u5305"]}],It=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).componentDidMount=Object(s.a)(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.props.query,(a=t&&t.get("param"))&&(a=unescape(a),n=JSON.parse(a),r.setState({paramObj:n},(function(){r.refresh()})));case 3:case"end":return e.stop()}}),e)}))),r.refresh=Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.state.paramObj,r.setState({productSpinning:!0,productSpinTipText:"\u51c6\u5907\u6253\u5370..."},Object(s.a)(l.a.mark((function e(){var a,n,i,o,c,s,d,m,u,p,f,g,h,y,b,E,v,k,T,x,S,w,A;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],n=0;case 2:if(!(n<t.orderList.length)){e.next=30;break}if(!(i=t.orderList[n])){e.next=27;break}return r.setState({productSpinTipText:"\u83b7\u53d6<<".concat(i.orderShop,">>-").concat(i.orderId,"...")}),e.next=8,D(i.orderId);case 8:if(0!==(o=e.sent).errCode||!o.items){e.next=27;break}c=0;case 11:if(!(c<o.items.length)){e.next=27;break}s=o.items[c],d=-1,m=0;case 15:if(!(m<a.length)){e.next=23;break}if(a[m].barcode!==s.barcode){e.next=20;break}return d=m,e.abrupt("break",23);case 20:++m,e.next=15;break;case 23:-1!==d?a[d].orderNumber+=s.orderNumber:(s.key=a.length,a.push(s));case 24:++c,e.next=11;break;case 27:++n,e.next=2;break;case 30:u=[],p=0;case 32:if(!(p<a.length)){e.next=48;break}f=a[p],g=-1,h=0;case 36:if(!(h<u.length)){e.next=44;break}if(u[h].name!==f.categoryName){e.next=41;break}return g=h,e.abrupt("break",44);case 41:++h,e.next=36;break;case 44:-1!==g?(f.key=u[g].items.length,u[g].items.push(f)):(f.key=0,(y={}).name=f.categoryName,y.key=u.length,y.items=[f],u.push(y));case 45:++p,e.next=32;break;case 48:b=[],E=0;case 50:if(!(E<At.length)){e.next=79;break}v=At[E],(k={}).key=b.length,k.pDepartment=v.pDepartment,k.items=[],T=0;case 57:if(!(T<v.pCategory.length)){e.next=75;break}x=v.pCategory[T],S=0;case 60:if(!(S<u.length)){e.next=72;break}if((w=u[S]).name!==x){e.next=69;break}return(A={}).key=k.items.length,A.categoryName=x,A.categoryItems=w.items,k.items.push(A),e.abrupt("break",72);case 69:++S,e.next=60;break;case 72:++T,e.next=57;break;case 75:b.push(k);case 76:++E,e.next=50;break;case 79:r.setState({productSpinning:!1,productSpinTipText:"",allProductionDataToBePrint:b});case 80:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)}))),r.getLodopAfterInit=function(){var e=Object(Tt.getLodop)();if(e){e.PRINT_INIT("react\u4f7f\u7528\u6253\u5370\u63d2\u4ef6CLodop");e.SET_PRINTER_INDEX($e(e)),e.SET_PRINT_PAGESIZE(2,0,0,"\u9488\u6253\u4e09\u7b49\u5206"),e.SET_PREVIEW_WINDOW(0,0,0,800,600,""),e.SET_PRINT_COPIES(1),e.SET_SHOW_MODE("LANDSCAPE_DEFROTATED",1),e.SET_PRINT_MODE("AUTO_CLOSE_PREWINDOW",1),e.ADD_PRINT_HTM(0,0,"100%","100%","<style>\n                </style> "+document.getElementById("printDiv").innerHTML)}return e},r.productPrintPreprew=function(){var e=r.getLodopAfterInit();e&&e.PREVIEW()},r.productPrintDirect=function(){var e=r.getLodopAfterInit();e&&e.PRINT()},r.productPrintDirectAndBack=function(){r.productPrintDirect(),r.handleBack()},r.handleBack=function(){var e=r.state.paramObj,t=JSON.stringify(e),a="param="+escape(t),n=Ze()+"/orderManagement_1";n+="?",n+=a,window.location.replace(n)},r.state={allProductionDataToBePrint:[],productSpinTipText:"\u6253\u5370\u751f\u4ea7\u53551",productSpinning:!1,paramObj:{}},r}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.paramObj,r=t.allProductionDataToBePrint,i=t.productSpinTipText,o=t.productSpinning;return n.a.createElement("div",{style:{marginLeft:10,marginTop:10}},n.a.createElement("div",{id:"printConfig",style:{float:"left",borderStyle:"none",width:90}},n.a.createElement("div",null,n.a.createElement(E.a,{type:"primary",style:{width:90,height:80},onClick:function(t){return e.handleBack(t)}},n.a.createElement("div",{style:{fontSize:16}},"\u540e\u9000"))),n.a.createElement(E.a,{type:"primary",style:{marginTop:10,width:90,height:80},onClick:this.productPrintPreprew},n.a.createElement("div",{style:{fontWeight:"bold",fontSize:16,textDecoration:"underline"}},"\u6253\u5370\u9884\u89c8")),n.a.createElement(E.a,{type:"primary",danger:!0,style:{marginTop:10,width:90,height:80},onClick:this.productPrintDirectAndBack},n.a.createElement("div",{style:{fontWeight:"bold",fontSize:16,textDecoration:"underline"}},"\u76f4\u63a5\u6253\u5370"))),n.a.createElement("div",{style:{float:"left"}},n.a.createElement("span",{style:{marginLeft:10,fontSize:12,color:"green"}},"\u65f6\u95f4\u7c7b\u578b\uff1a".concat(a&&a.timeType&&a.timeType.name)),n.a.createElement("span",{style:{marginLeft:20,fontSize:12,color:"green"}},"\u5f00\u59cb\u65f6\u95f4\uff1a".concat(a&&se()(a.beginDateTime).format("YYYY.MM.DD HH:mm:ss"))),n.a.createElement("span",{style:{marginLeft:20,fontSize:12,color:"green"}},"\u7ed3\u675f\u65f6\u95f4\uff1a".concat(a&&se()(a.endDateTime).format("YYYY.MM.DD HH:mm:ss"))),n.a.createElement(k.a,{tip:i,spinning:o,size:"large"},n.a.createElement("div",{id:"printDiv",style:{marginLeft:10,borderStyle:"dotted",width:420,height:980}},n.a.createElement("div",{id:"printTable",style:{marginTop:0,marginLeft:0,width:410,height:949,backgroundColor:"transparent"}},r.map((function(e){return e.items.length>0?n.a.createElement("div",{key:e.key,style:{float:"left",zIndex:10,backgroundColor:"transparent",marginTop:10,height:949}},n.a.createElement("div",{style:{float:"left",marginLeft:0,width:38,height:949,backgroundColor:"transparent"}}),n.a.createElement("table",{border:"1",cellSpacing:"0",style:{float:"left",borderCollapse:"collapse"}},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"2",style:{fontSize:24,width:318,textAlign:"center",backgroundColor:"lightyellow"}},"".concat(e.pDepartment)))),e.items.map((function(e){return n.a.createElement("tbody",{key:e.key},n.a.createElement("tr",null,n.a.createElement("th",null,n.a.createElement("table",{border:"0",cellSpacing:"0",style:{float:"left",borderCollapse:"collapse"}},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"2",style:{fontSize:20,width:318,textAlign:"center",backgroundColor:"lightyellow"}},e.categoryName)),n.a.createElement("tr",null,n.a.createElement("th",{style:{textAlign:"center",fontWeight:"bold"}},"\u54c1\u540d"),n.a.createElement("th",{style:{textAlign:"center",fontWeight:"bold"}},"\u8ba2\u8d27\u91cf"))),n.a.createElement("tbody",null,e.categoryItems.map((function(e){return n.a.createElement("tr",{key:e.key},n.a.createElement("th",{key:"1",style:{textAlign:"center",fontWeight:"lighter",fontSize:20}},e.orderProductName),n.a.createElement("th",{key:"2",style:{textAlign:"center",fontWeight:"lighter",fontSize:22}},e.orderNumber))})))))))})),n.a.createElement("tfoot",null,n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"2",style:{fontSize:18}},"\u65f6\u95f4\u7c7b\u578b\uff1a".concat(a&&a.timeType&&a.timeType.name))),n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"2",style:{fontSize:18}},"\u5f00\u59cb\u65f6\u95f4\uff1a".concat(a&&se()(a.beginDateTime).format("YYYY.MM.DD HH:mm:ss")))),n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"2",style:{fontSize:18}},"\u7ed3\u675f\u65f6\u95f4\uff1a".concat(a&&se()(a.endDateTime).format("YYYY.MM.DD HH:mm:ss")))))),n.a.createElement("div",{style:{float:"left",marginLeft:0,width:38,height:949,backgroundColor:"transparent"}})):n.a.createElement("div",{key:e.key})}))))),n.a.createElement("div",{style:{height:30}})))}}]),a}(n.a.Component),Dt=a(130),Ot=a.n(Dt),Ct=[{name:"\u5168\u90e8\u6a21\u677f",templateId:"",templateUid:""},{name:"\u897f\u70b9\u7c7b",templateId:"189",templateUid:"1595397637628133418"},{name:"\u5e38\u6e29\u7c7b",templateId:"183",templateUid:"1595077654714716554"},{name:"\u73b0\u70e4\u7c7b",templateId:"187",templateUid:"1595310806940367327"},{name:"\u9910\u5305\u7c7b",templateId:"182",templateUid:"1595077405589137749"},{name:"\u5410\u53f8\u7c7b",templateId:"2873",templateUid:"1649149816769757925"}],Lt={"187-2006251756022":1,"187-2006291720144":2,"187-2007261431428":3,"187-2006261548488":4,"187-2006251720443":5,"187-2007171555580":6,"182-2106241432414":1,"182-2106281603003":2,"182-2106281600071":3,"182-2106281603355":4,"182-2106241433091":5,"182-2106281601535":6,"182-2010291510063":7},Pt={"\u73b0\u70e4\u7c7b":1,"\u897f\u70b9\u7c7b":2,"\u5e38\u6e29\u7c7b":3,"\u9910\u5305\u7c7b":4,"\u5410\u53f8\u7c7b":5},Nt="",zt="\u51c6\u5907\u4e2d",jt="\u8fd0\u884c\u4e2d",Rt="\u6682\u505c\u4e2d",Bt="\u5df2\u5b8c\u6210",Mt="\u53d6\u6d88",_t="\u51fa\u9519",Yt=[{label:"\u65e9\u4e0a",value:"z"},{label:"\u4e0b\u5348",value:"zz"}],Qt=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).componentDidMount=Object(s.a)(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.props.query,(a=t&&t.get("param"))&&(a=unescape(a),n=JSON.parse(a),r._template=n.template,r._orderType=n.orderType,r._orderCashier=n.orderCashier,r._timeType=n.timeType,r._shop=n.shop,r._beginDateTime=n.beginDateTime,r._endDateTime=n.endDateTime,r._orderList=n.orderList,r.refresh());case 3:case"end":return e.stop()}}),e)}))),r.refresh=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.setState({productSpinning:!0,productSpinTipText:"\u51c6\u5907\u6253\u5370..."},Object(s.a)(l.a.mark((function e(){var t,a,n,i,o,c,s,d,m,u,p,f,g,y,b,E,v,k,T,x,S,w,A,I,O,C,L,P,N,z,j,R,B,M,_,Y,Q,F,H,U,W,J,K,V,q,G,Z,X;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],r.setState({productSpinTipText:"\u51c6\u5907\u83b7\u53d6..."}),a=0;case 3:if(!(a<r._orderList.length)){e.next=82;break}if(!(n=r._orderList[a])){e.next=79;break}if("-"!==n.templateName){e.next=10;break}return r.setState({productSpinning:!1,productSpinTipText:"\u5b58\u5728\u672a\u901a\u8fc7\u6a21\u677f\u62a5\u8d27\u7684\u8ba2\u5355"}),h.b.error("\u5b58\u5728\u672a\u901a\u8fc7\u6a21\u677f\u62a5\u8d27\u7684\u8ba2\u5355\uff0c\u8bf7\u8fd4\u56de\u91cd\u65b0\u9009\u62e9\uff01\uff01\uff01"),e.abrupt("return");case 10:return r.setState({productSpinTipText:"\u83b7\u53d6"+n.templateName+"-"+n.orderId+"..."}),e.next=13,D(n.orderId);case 13:if(0!==(i=e.sent).errCode||!i.items){e.next=76;break}o=-1,c=0;case 17:if(!(c<Ct.length)){e.next=24;break}if(Ct[c].name!==n.templateName){e.next=21;break}return o=c,e.abrupt("break",24);case 21:++c,e.next=17;break;case 24:if(-1!==o){e.next=26;break}return e.abrupt("return");case 26:s=!1,d=void 0,d=0;case 29:if(!(d<t.length)){e.next=42;break}if("007 - \u5f2f\u9ea6(\u8054\u8425\u5e97)"!==n.orderShop){e.next=36;break}if(t[d].orderShop!==n.orderShop||t[d].templateName!==n.templateName||t[d].orderType!==n.orderType||t[d].orderCashier!==n.orderCashier){e.next=34;break}return s=!0,e.abrupt("break",42);case 34:e.next=39;break;case 36:if(t[d].orderShop!==n.orderShop||t[d].templateName!==n.templateName){e.next=39;break}return s=!0,e.abrupt("break",42);case 39:++d,e.next=29;break;case 42:if(!s){e.next=64;break}m=t[d].items,u=i.items,p=0;case 46:if(!(p<u.length)){e.next=62;break}f=u[p],g=-1,y=0;case 50:if(!(y<m.length)){e.next=58;break}if(m[y].barcode!==f.barcode){e.next=55;break}return g=y,e.abrupt("break",58);case 55:++y,e.next=50;break;case 58:-1!==g?(b=m[g].orderNumber+f.orderNumber,m[g].orderNumber=b):((E={}).categoryName=f.categoryName,E.orderProductName=f.orderProductName,E.barcode=f.barcode,E.barcodeSimple=f.barcodeSimple,E.barcodeMiddle=f.barcodeMiddle,E.orderNumber=f.orderNumber,E.sortId=f.sortId,E.transferPrice=f.transferPrice,E.qualityDay=f.qualityDay,E.ingredients=f.ingredients,m.push(E));case 59:++p,e.next=46;break;case 62:e.next=74;break;case 64:for((v={}).orderShop=n.orderShop,v.templateName=n.templateName,v.expectTime=n.expectTime,v.orderTime=n.orderTime,v.orderType=n.orderType,v.orderCashier=n.orderCashier,v.items=i.items,k=0;k<i.items.length;++k)T=Ct[o].templateId+"-"+i.items[k].barcode,x=Lt[T],i.items[k].sortId=x||200;t.push(v);case 74:e.next=79;break;case 76:return t=[],h.b.error("\u83b7\u53d6<"+n.orderShop+">\u8ba2\u8d27\u4ea7\u54c1\u51fa\u9519\uff0c\u8bf7\u68c0\u67e5\uff01"),e.abrupt("break",82);case 79:++a,e.next=3;break;case 82:r.setState({productSpinTipText:"\u6574\u7406\u6a21\u677f\u4e2d..."}),S=[],w=0;case 85:if(!(w<t.length)){e.next=152;break}A=t[w].items,I=A,O=-1,C=0;case 90:if(!(C<Ct.length)){e.next=97;break}if(Ct[C].name!==t[w].templateName){e.next=94;break}return O=C,e.abrupt("break",97);case 94:++C,e.next=90;break;case 97:if(-1!==O){e.next=99;break}return e.abrupt("return");case 99:return e.next=101,kt(Ct[O].templateUid);case 101:if(!(0===(L=e.sent).errCode&&L.list.length>0)){e.next=149;break}P=L.list,I=[],N=0;case 106:if(!(N<P.length)){e.next=122;break}z=-1,j=0;case 109:if(!(j<A.length)){e.next=116;break}if(P[N].barcode!==A[j].barcode){e.next=113;break}return z=j,e.abrupt("break",116);case 113:++j,e.next=109;break;case 116:R={},-1!==z?(R.categoryName=A[z].categoryName,R.orderProductName=A[z].orderProductName,R.barcode=A[z].barcode,R.barcodeSimple=A[z].barcodeSimple,R.barcodeMiddle=A[z].barcodeMiddle,R.sortId=A[z].sortId,R.orderNumber=A[z].orderNumber,R.transferPrice=A[z].transferPrice,R.qualityDay=A[z].qualityDay,R.ingredients=A[z].ingredients):(R.categoryName=P[N].categoryName,R.orderProductName=P[N].name,R.barcode=P[N].barcode,R.barcodeSimple=P[N].barcodeSimple,R.barcodeMiddle=P[N].barcodeMiddle,B=Ct[O].templateId+"-"+P[N].barcode,M=Lt[B],R.sortId=M||200,R.orderNumber=0),I.push(R);case 119:++N,e.next=106;break;case 122:_=[],Y=0;case 124:if(!(Y<I.length)){e.next=139;break}Q=I[Y],F=-1,H=_.length-1;case 128:if(!(H>=0)){e.next=135;break}if(_[H].categoryName!==Q.categoryName){e.next=132;break}return F=H,e.abrupt("break",135);case 132:--H,e.next=128;break;case 135:-1!==F?_.splice(F+1,0,Q):_.push(Q);case 136:++Y,e.next=124;break;case 139:_=_.sort((function(e,t){return e.sortId-t.sortId})),(U={}).orderShop=t[w].orderShop,U.templateName=t[w].templateName,U.expectTime=t[w].expectTime,U.orderTime=t[w].orderTime,U.orderType=t[w].orderType,U.orderCashier=t[w].orderCashier,U.items=_,S.push(U);case 149:++w,e.next=85;break;case 152:for(r.setState({productSpinTipText:"\u6392\u5e8f\u4e2d..."}),W=[],J=0;J<S.length;++J)(K=S[J]).sortId=Pt[K.templateName],W.push(K);for(W=W.sort((function(e,t){return e.sortId-t.sortId})),r.setState({productSpinTipText:"\u6574\u7406A4\u4e2d..."}),V=[],q=0;q<W.length;++q)for(G=W[q].items,Z=0;Z<G.length;++Z)Z%29===0&&((X={}).orderShop=W[q].orderShop,X.templateName=W[q].templateName,X.expectTime=W[q].expectTime,X.orderTime=W[q].orderTime,X.orderType=W[q].orderType,X.orderCashier=W[q].orderCashier,X.items=[],V.push(X)),V[V.length-1].items.push(G[Z]);r.setState({productSpinning:!1,productSpinTipText:"",allDistributionDataToBePrint:V});case 160:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)}))),r.handleBack=function(e){var t={};t.template=r._template,t.orderType=r._orderType,t.orderCashier=r._orderCashier,t.timeType=r._timeType,t.shop=r._shop,t.beginDateTime=r._beginDateTime,t.endDateTime=r._endDateTime;var a=JSON.stringify(t),n="param="+escape(a),i=Ze()+"/orderManagement";i+="?",i+=n,window.location.replace(i)},r.getLodopAfterInit=function(){var e=Object(Tt.getLodop)();if(e){e.PRINT_INIT("react\u4f7f\u7528\u6253\u5370\u63d2\u4ef6CLodop");e.SET_PRINTER_INDEX(Xe(e)),e.SET_PRINT_PAGESIZE(2,0,0,"A4"),e.SET_PREVIEW_WINDOW(0,0,0,800,600,""),e.SET_PRINT_COPIES(1),e.SET_SHOW_MODE("LANDSCAPE_DEFROTATED",1),e.SET_PRINT_MODE("AUTO_CLOSE_PREWINDOW",1),e.ADD_PRINT_HTM(0,0,"100%","100%","<style>\n                </style> "+document.getElementById("printDiv").innerHTML)}return e},r.productPrintPreprew=function(){var e=r.getLodopAfterInit();e&&e.PREVIEW()},r.productPrintDirect=function(){var e=r.getLodopAfterInit();e&&e.PRINT()},r.productPrintDirectAndBack=function(){r.productPrintDirect(),r.handleBack()},r.productLabelPrintStart=Object(s.a)(l.a.mark((function e(){var t,a,n,i,o,c,s,d,m,u,p,f,g,h,y,b;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=[],a=r.state,n=a.allDistributionDataToBePrint,i=a.productLabelPrintProductionTitle,o=0;o<n.length;++o){if(c=n[o].templateName,s=n[o].items,d=n[o].orderShop,m=n[o].orderType,u=n[o].orderCashier,c&&s.length>0){for((p={}).key=o+1,p.templateName=c,p.items=[],f=0;f<s.length;++f)g=s[f],p.items.push(Object(Et.a)({},g));p.printStatus=Nt,p.printProgress="",t.push(p)}""===i&&r.setState({productLabelPrintProductionTitle:d+"=>"+m+"=>"+u})}h=r.state,y=h.productLabelPrintProductionDate,b=h.productLabelPrintExpirationDate,r.setState({productLabelPrintTemplateList:t,productLabelPrintModalVisible:!0,selectedRowKeys4LabelPrintTemplateList:[],selectedRows4LabelPrintTemplateList:[],productLabelPrintState:zt,amOrPmType:Yt[1].value,productLabelPrintProductionTemplate4Preview:{name:"\u5f2f\u9ea6-<\u4ea7\u54c1\u540d\u79f0>",barcode:"<12\u4f4d\u6761\u7801>",ingredients:"\u914d\u6599\u8868\uff1a<\u914d\u65991 \u914d\u65992 \u914d\u65993>",productLabelPrintProductionDateAndTime:"\u751f\u4ea7\u65e5\u671f\uff1a"+y.format("MM/DD")+" zz",qualityDay:"\u4fdd\u8d28\u671f\uff1a<3\u5929>",expirationDate:"\u4fdd\u8d28\u671f\u81f3\uff1a"+b.format("MM/DD HH:mm"),price:"\xa5<12.0>"}}),setTimeout((function(){Ot()("#image4barcode","123456789",{displayValue:!1})}),0);case 6:case"end":return e.stop()}}),e)}))),r.startOrContinueLabelPrint=function(){var e=Object(s.a)(l.a.mark((function e(t,a,n){var i,o,c,s,d,m,u,p,f,g,h,y,b,E,v,k,T,x,S,w;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.setState({productLabelPrintState:jt}),i=r.state,o=i.selectedRows4LabelPrintTemplateList,c=i.productLabelPrintProductionDate,s=i.amOrPmType,(d=i.productLabelPrintProductionTitle)&&(m=d.split("=>")).length>=3&&r.titleLabelPrintDirect(m[0],m[1],m[2]),u=t;case 4:if(!(u<o.length)){e.next=52;break}p=o[u].items,f=a;case 7:if(!(f<p.length)){e.next=48;break}f===a&&(o[u].printStatus=jt),g=p[f],h=g.orderProductName,y=g.orderNumber,b=g.barcode,E=g.transferPrice,v=g.qualityDay,k=3;try{k=parseInt(v)}catch(l){k=3}T=new se.a(c).add(k,"days").endOf("day"),x=g.ingredients,S=n;case 20:if(!(S<y)){e.next=43;break}return e.next=23,new Promise((function(e){return setTimeout(e,400)}));case 23:if(r.state.productLabelPrintState!==Mt){e.next=28;break}return r.setState({productLabelPrintModalVisible:!1,productLabelPrintState:zt}),e.abrupt("return");case 28:if(r.state.productLabelPrintState!==Rt){e.next=35;break}return r._templateIndex=u,r._itemIndex=f,r._orderNumberIndex=S,o[u].printStatus=Rt,r.forceUpdate(),e.abrupt("return");case 35:o[u].printProgress=" "+(S+1)+"/"+y+" "+h,w={name:"\u5f2f\u9ea6-"+h,barcode:b,price:"\xa5"+Number(E).toFixed(1),ingredients:"\u914d\u6599\u8868\uff1a"+x,productLabelPrintProductionDateAndTime:"\u751f\u4ea7\u65e5\u671f\uff1a"+c.format("MM/DD")+" "+s,expirationDate:"\u4fdd\u8d28\u671f\u81f3\uff1a"+T.format("MM/DD HH:mm")},Ot()("#image4barcode",w.barcode,{displayValue:!1}),r.setState({productLabelPrintProductionTemplate4Preview:w}),r.productLabelPrintDirect(w.name,w.barcode,w.price,w.ingredients,w.productLabelPrintProductionDateAndTime,w.expirationDate);case 40:++S,e.next=20;break;case 43:f===p.length-1&&(o[u].printStatus=Bt),n=0;case 45:++f,e.next=7;break;case 48:a=0;case 49:++u,e.next=4;break;case 52:r.setState({productLabelPrintState:Bt});case 53:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),r.getLodopAfterInit4Label=function(){var e=Object(Tt.getLodop)();return e&&(e.PRINT_INIT("react\u4f7f\u7528\u6253\u5370\u63d2\u4ef6CLodop"),e.SET_PRINTER_INDEX(et(e)),e.SET_PRINT_PAGESIZE(1,400,300,""),e.SET_PREVIEW_WINDOW(0,0,0,600,450,""),e.SET_PRINT_COPIES(1),e.SET_PRINT_MODE("AUTO_CLOSE_PREWINDOW",1)),e},r.getTitleHtml=function(e,t){return"<!doctype html><style>#title{text-align:center;font-family:'\u5fae\u8f6f\u96c5\u9ed1';font-size:"+t+";}</style><div id='title'>"+e+"</div>"},r.titleLabelPrintDirect=function(e,t,a){var n=r.getLodopAfterInit4Label();if(n){var i=r.getTitleHtml(e,"18px");n.ADD_PRINT_HTM(12,0,"40mm",15,i);var o=r.getTitleHtml(t,"18px");n.ADD_PRINT_HTM(42,0,"40mm",15,o);var c=r.getTitleHtml(a,"18px");n.ADD_PRINT_HTM(74,0,"40mm",15,c),n.PRINT()}},r.productLabelPrintDirect=function(e,t,a,n,i,o){var c=r.getLodopAfterInit4Label();if(c){var l="14px";e.length>14?l="11px":e.length>12?l="12px":e.length>10&&(l="13px"),c.ADD_PRINT_HTM(3,0,"40mm",15,r.getTitleHtml(e,l)),c.ADD_PRINT_TEXT(16,42,150,15,t),c.SET_PRINT_STYLEA(2,"FontName","\u5fae\u8f6f\u96c5\u9ed1"),c.SET_PRINT_STYLEA(2,"FontSize",7),c.ADD_PRINT_BARCODE(28,16,174,18,"128Auto",t),c.SET_PRINT_STYLEA(3,"ShowBarText",0),c.ADD_PRINT_TEXT(46,6,150,15,n),c.SET_PRINT_STYLEA(4,"FontName","\u5fae\u8f6f\u96c5\u9ed1"),c.SET_PRINT_STYLEA(4,"FontSize",7),c.ADD_PRINT_TEXT(58,6,150,15,i),c.SET_PRINT_STYLEA(5,"FontName","\u5fae\u8f6f\u96c5\u9ed1"),c.SET_PRINT_STYLEA(5,"FontSize",7),c.ADD_PRINT_TEXT(70,6,150,15,o),c.SET_PRINT_STYLEA(6,"FontName","\u5fae\u8f6f\u96c5\u9ed1"),c.SET_PRINT_STYLEA(6,"FontSize",7),c.ADD_PRINT_TEXT(82,6,150,15,"\u751f\u4ea7\u5546\uff1a\u6f33\u5dde\u53e4\u897f\u4f18\u4f5c\u98df\u54c1\u6709\u9650\u516c\u53f8\u6f33\u6d66\u5206\u516c\u53f8"),c.SET_PRINT_STYLEA(7,"FontName","\u5fae\u8f6f\u96c5\u9ed1"),c.SET_PRINT_STYLEA(7,"FontSize",5),c.ADD_PRINT_TEXT(90,6,150,15,"\u5730\u5740\uff1a\u6f33\u6d66\u53bf\u5e9c\u524d\u8857\u897f247\u53f7"),c.SET_PRINT_STYLEA(8,"FontName","\u5fae\u8f6f\u96c5\u9ed1"),c.SET_PRINT_STYLEA(8,"FontSize",5),c.ADD_PRINT_TEXT(98,6,150,15,"\u7535\u8bdd\uff1a13290768588"),c.SET_PRINT_STYLEA(9,"FontName","\u5fae\u8f6f\u96c5\u9ed1"),c.SET_PRINT_STYLEA(9,"FontSize",5),c.ADD_PRINT_TEXT(90,100,150,15,a),c.SET_PRINT_STYLEA(10,"FontName","\u5fae\u8f6f\u96c5\u9ed1"),c.SET_PRINT_STYLEA(10,"FontSize",12),c.PRINT()}},r.onTemplateItemSelectChange=function(e,t){r.setState({selectedRowKeys4LabelPrintTemplateList:e,selectedRows4LabelPrintTemplateList:t})},r.handleProductLabelPrintProductionDateChange=function(e){r.setState({productLabelPrintProductionDate:e},(function(){r.updateProductLabelPrintProductionTemplateDayAndTime()}))},r.handleAmOrPmTypeChange=function(e){var t=r.state.productLabelPrintProductionDate,a=Object(Et.a)({},r.state.productLabelPrintProductionTemplate4Preview);a.productLabelPrintProductionDateAndTime="\u751f\u4ea7\u65e5\u671f\uff1a"+t.format("MM/DD")+" "+e.target.value,r.setState({amOrPmType:e.target.value,productLabelPrintProductionTemplate4Preview:a})},r.updateProductLabelPrintProductionTemplateDayAndTime=function(){var e=r.state.productLabelPrintProductionDate,t=Object(Et.a)({},r.state.productLabelPrintProductionTemplate4Preview);t.productLabelPrintProductionDateAndTime="\u751f\u4ea7\u65e5\u671f\uff1a"+e.format("MM/DD")+" zz",t.expirationDate="\u4fdd\u8d28\u671f\u81f3\uff1a"+new se.a(e).add(3,"days").endOf("day").format("MM/DD HH:mm"),r.setState({productLabelPrintProductionTemplate4Preview:t})},r.state={allDistributionDataToBePrint:[],productSpinTipText:"",productSpinning:!1,productLabelPrintModalVisible:!1,productLabelPrintState:zt,productLabelPrintTemplateList:[],selectedRowKeys4LabelPrintTemplateList:[],selectedRows4LabelPrintTemplateList:[],productLabelPrintProductionDate:se()(),amOrPmType:Yt[1].value,productLabelPrintExpirationDate:se()().add(3,"days").endOf("day"),productLabelPrintProductionTemplate4Preview:{},productLabelPrintProductionTitle:"",productLabelPrintTemplateProductModalVisible:!1,productLabelPrintTemplateProductList:[]},r._template=void 0,r._orderType=void 0,r._orderCashier=void 0,r._timeType=void 0,r._shop=void 0,r._beginDateTime=void 0,r._endDateTime=void 0,r}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.allDistributionDataToBePrint,r=t.productSpinTipText,i=t.productSpinning,o=t.productLabelPrintModalVisible,c=t.productLabelPrintState,l=t.selectedRowKeys4LabelPrintTemplateList,s=t.selectedRows4LabelPrintTemplateList,d=t.productLabelPrintTemplateList,m=t.productLabelPrintProductionDate,u=t.amOrPmType,p=t.productLabelPrintProductionTemplate4Preview,f=t.productLabelPrintProductionTitle,h=t.productLabelPrintTemplateProductModalVisible,y=(t.productLabelPrintTemplateProductList,"");c===zt?y="\u9009\u62e9\u5206\u7c7b\u540e\uff0c\u70b9\u51fb\u5f00\u59cb\u6253\u5370":c===jt?y="\u8fd0\u884c\u4e2d\uff0c\u70b9\u51fb\u6682\u505c":c===Rt?y="\u6682\u505c\u4e2d\uff0c\u70b9\u51fb\u7ee7\u7eed":c===Mt?y="\u53d6\u6d88\u4e2d...":c===_t?y="\u6253\u5370\u673a\u51fa\u9519\uff0c\u4fee\u590d\u540e\u70b9\u51fb\u7ee7\u7eed":c===Bt&&(y="\u6253\u5370\u5b8c\u6210\uff0c\u70b9\u51fb\u5173\u95ed");var b=c===zt&&s.length<=0,v=[{title:"\u5e8f",dataIndex:"key",key:"key",width:20,render:function(e){return n.a.createElement("div",{style:{fontSize:10,textAlign:"center"}},e)}},{title:"\u6a21\u677f\u5206\u7c7b",dataIndex:"templateName",key:"templateName",width:100,render:function(e){return n.a.createElement("div",{style:{fontSize:12,textAlign:"center"}},e)}},{title:"\u5206\u7c7b\u5546\u54c1",dataIndex:"templateName",key:"templateName",width:"*",render:function(t){return n.a.createElement(E.a,{style:{fontSize:14,textAlign:"center",color:"red"},onClick:function(){e.setState({productLabelPrintTemplateProductModalVisible:!0,productLabelPrintTemplateProductList:[]},(function(){for(var a=e.state.productLabelPrintTemplateList,r=0;r<a.length;++r){if(a.templateName===t){var n=a.items;e.setState({productLabelPrintTemplateProductList:n})}}}))}},"\u70b9\u51fb\u6253\u5f00\u5546\u54c1")}},{title:"\u6253\u5370\u8fdb\u5ea6",dataIndex:"printProgress",key:"printProgress",width:"*",render:function(e){return n.a.createElement("div",{style:{fontSize:14,textAlign:"center",color:"red"}},e)}},{title:"\u6253\u5370\u72b6\u6001",dataIndex:"printStatus",key:"printStatus",width:100,render:function(e){var t=e===jt;return n.a.createElement("div",{style:{textAlign:"center"}},n.a.createElement(k.a,{size:"small",spinning:t,style:{fontSize:12}},e))}}],T={selectedRowKeys:l,selectedRows:s,onChange:this.onTemplateItemSelectChange,getCheckboxProps:function(e){return{disabled:c!==zt,name:e.name}}};return n.a.createElement("div",null,n.a.createElement("div",{style:{marginLeft:10,marginTop:10}},n.a.createElement("div",{id:"printConfig",style:{float:"left",borderStyle:"none",width:90}},n.a.createElement("div",null,n.a.createElement(E.a,{type:"primary",style:{width:90,height:80},onClick:function(t){return e.handleBack(t)}},n.a.createElement("div",{style:{fontSize:16}},"\u540e\u9000"))),n.a.createElement(E.a,{type:"primary",disabled:i,style:{marginTop:10,width:90,height:80},onClick:this.productPrintPreprew},n.a.createElement("div",{style:{fontWeight:"bold",fontSize:16,textDecoration:"underline"}},"\u6253\u5370\u9884\u89c8")),n.a.createElement(E.a,{type:"primary",danger:!0,disabled:i,style:{marginTop:10,width:90,height:80},onClick:this.productPrintDirectAndBack},n.a.createElement("div",{style:{fontWeight:"bold",fontSize:16,textDecoration:"underline"}},"\u76f4\u63a5\u6253\u5370")),n.a.createElement(E.a,{type:"primary",danger:!0,disabled:i,style:{marginTop:10,width:90,height:80},onClick:this.productLabelPrintStart},n.a.createElement("div",{style:{fontWeight:"bold",fontSize:16,textDecoration:"underline"}},"\u6253\u5370\u6807\u7b7e"))),n.a.createElement("div",{style:{float:"left"}},n.a.createElement("span",{style:{marginLeft:10,fontSize:12,color:"green"}},"\u8ba2\u8d27\u65f6\u95f4\uff1a".concat(a&&a.length>0&&a[0].orderTime)),n.a.createElement("span",{style:{marginLeft:20,fontSize:12,color:"green"}},"\u671f\u671b\u5230\u8d27\uff1a".concat(a&&a.length>0&&a[0].expectTime)),n.a.createElement(k.a,{tip:r,spinning:i,size:"large"},n.a.createElement("div",{id:"printDiv",style:{marginLeft:10,borderStyle:"dotted",width:1379,height:968}},n.a.createElement("div",{id:"printTable",style:{marginTop:0,marginLeft:28,width:1375,height:964,backgroundColor:"transparent"}},a.map((function(e){var t=e.items,r=a.indexOf(e);return n.a.createElement("div",{key:r,style:{float:"left",zIndex:10,backgroundColor:"transparent",marginTop:44,height:920}},n.a.createElement("div",{style:{float:"left",marginLeft:0,width:2,height:920}}),n.a.createElement("table",{border:"1",cellSpacing:"0",style:{float:"left",borderCollapse:"collapse"}},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"7",style:{width:175,textAlign:"center",fontSize:16,backgroundColor:"lightblue",color:"black",paddingLeft:8,paddingRight:8,paddingTop:4,paddingBottom:4}},"".concat(e.orderShop,"=>").concat(e.orderType,"=>").concat(e.orderCashier))),n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"7",style:{width:175,textAlign:"center"}},e.templateName)),n.a.createElement("tr",null,n.a.createElement("th",{style:{textAlign:"center",fontSize:14}},"\u7b80\u7801"),n.a.createElement("th",{style:{textAlign:"center"}},"\u54c1\u540d"),n.a.createElement("th",{style:{textAlign:"center",fontSize:10}},"\u8ba2\u8d27\u91cf"),n.a.createElement("th",{style:{textAlign:"center"}},"\u4e00"),n.a.createElement("th",{style:{textAlign:"center"}},"\u4e8c"))),n.a.createElement("tbody",null,t.map((function(a){var r=t.indexOf(a)+1,i=a.orderNumber>1e3?"red":"transparent";return n.a.createElement("tr",{key:r,style:{height:24}},"001 - \u5f2f\u9ea6(\u6559\u80b2\u5c40\u5e97)"===e.orderShop?n.a.createElement("th",{key:"1",style:{textAlign:"center",fontSize:16,width:16}},a.barcodeMiddle):n.a.createElement("th",{key:"1",style:{textAlign:"center",fontSize:16,width:16}},a.barcodeSimple),n.a.createElement("th",{key:"2",style:{textAlign:"center",fontSize:15,width:125}},a.orderProductName),n.a.createElement("th",{key:"3",style:{textAlign:"center",fontSize:16,width:8,backgroundColor:i}},0!==a.orderNumber?a.orderNumber:""),n.a.createElement("th",{key:"4",style:{textAlign:"center",fontSize:16,width:8}}),n.a.createElement("th",{key:"5",style:{textAlign:"center",fontSize:16,width:8}}))}))),n.a.createElement("tfoot",null,n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"7",style:{fontSize:12}},"\u8ba2\u8d27\u65f6\u95f4\uff1a".concat(e.orderTime))),n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"7",style:{fontSize:12}},"\u671f\u671b\u5230\u8d27\uff1a".concat(e.expectTime))),n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"7",style:{width:175,textAlign:"center",fontSize:16,backgroundColor:"lightblue",color:"black",paddingLeft:8,paddingRight:8,paddingTop:4,paddingBottom:4}},"".concat(e.orderShop,"=>").concat(e.orderType,"=>").concat(e.orderCashier))))),n.a.createElement("div",{style:{float:"left",marginLeft:0,width:2,height:920}}))}))))),n.a.createElement("div",{style:{height:30}}))),n.a.createElement(Ne.a,{width:600,style:{top:0},keyboard:!0,maskClosable:!1,title:n.a.createElement("div",null,f),visible:o,okText:y,okButtonProps:{disabled:b},cancelText:"\u53d6\u6d88\u6279\u91cf\u6253\u5370",cancelButtonProps:{hidden:!1},onOk:function(){c===zt?(e._templateIndex=0,e._itemIndex=0,e._orderNumberIndex=0,e.startOrContinueLabelPrint(e._templateIndex,e._itemIndex,e._orderNumberIndex)):c===jt?e.setState({productLabelPrintState:Rt}):c===Rt?e.startOrContinueLabelPrint(e._templateIndex,e._itemIndex,e._orderNumberIndex):c===Bt&&e.setState({productLabelPrintState:zt,productLabelPrintModalVisible:!1})},onCancel:function(){c===jt?e.setState({productLabelPrintState:Mt}):e.setState({productLabelPrintState:zt,productLabelPrintModalVisible:!1})}},n.a.createElement(Ge.a,{style:{marginTop:-12},disabled:!0,size:"small",dataSource:d,columns:v,rowSelection:T,pagination:!1,bordered:!0}),n.a.createElement("div",{style:{marginTop:12}},n.a.createElement(g.a,{picker:"day",size:"small",style:{width:170,marginLeft:100},placeholder:"\u9009\u62e9\u751f\u4ea7\u65e5\u671f",format:"YYYY-MM-DD dddd",value:m,onChange:this.handleProductLabelPrintProductionDateChange}),n.a.createElement("span",null,n.a.createElement(ze.a.Group,{style:{marginTop:8,margeLeft:8},options:Yt,value:u,onChange:this.handleAmOrPmTypeChange})),n.a.createElement("div",{style:{border:1,borderStyle:"solid",color:"lightgray",marginTop:6,marginBottom:2}}),n.a.createElement("div",{style:{textAlign:"center",fontWeight:"bold",fontSize:18,marginTop:0,marginBottom:2}},"\u6807\u7b7e\u9884\u89c8"),n.a.createElement("div",{style:{borderStyle:"dotted",width:320,height:240,marginLeft:110}},n.a.createElement("div",{style:{textAlign:"center",fontSize:16,marginTop:2}},p.name),n.a.createElement("div",{style:{textAlign:"center",fontSize:14,marginTop:0}},p.barcode),n.a.createElement("img",{alt:"none",id:"image4barcode",style:{height:55,width:284,marginLeft:16,backgroundColor:"lightgray"}}),n.a.createElement("div",{style:{textAlign:"left",fontSize:14,marginTop:0,marginLeft:14}},p.ingredients),n.a.createElement("div",{style:{textAlign:"left",fontSize:14,marginTop:0,marginLeft:14}},p.productLabelPrintProductionDateAndTime),n.a.createElement("div",{style:{textAlign:"left",fontSize:14,marginTop:0,marginLeft:14}},n.a.createElement("span",null,p.expirationDate)),n.a.createElement("div",{style:{textAlign:"left",fontSize:12,marginTop:0,marginLeft:14}},"\u751f\u4ea7\u5546\uff1a\u6f33\u5dde\u5e02\u53e4\u897f\u4f18\u4f5c\u98df\u54c1\u6709\u9650\u516c\u53f8\u6f33\u6d66\u5206\u516c\u53f8"),n.a.createElement("div",{style:{textAlign:"left",fontSize:12,marginTop:0,marginLeft:14}},"\u5730\u5740\uff1a\u6f33\u6d66\u53bf\u5e9c\u524d\u8857\u897f247\u53f7"),n.a.createElement("div",{style:{textAlign:"left",fontSize:12,marginTop:0,marginLeft:14}},n.a.createElement("span",null,"\u7535\u8bdd\uff1a13290768588"),n.a.createElement("span",{style:{marginLeft:100}},p.price))))),n.a.createElement(Ne.a,{width:600,style:{top:0},keyboard:!0,maskClosable:!1,title:n.a.createElement("div",null,"\u5206\u7c7b\u5546\u54c1"),visible:h,okText:"\u786e\u8ba4",cancelButtonProps:{hidden:!0},onOk:function(){e.setState({productLabelPrintTemplateProductModalVisible:!1})}},n.a.createElement(Ge.a,{style:{marginTop:-12},disabled:!0,size:"small",dataSource:d,columns:v,rowSelection:T,pagination:!1,bordered:!0})))}}]),a}(n.a.Component),Ft=[{pDepartment:"\u88f1\u82b1\u95f4",pCategory:["\u5f2f\u9ea6\u5c0f\u86cb\u7cd5","\u5f2f\u9ea6\u897f\u70b9\u6155\u65af"]},{pDepartment:"\u5e38\u6e29\u8f66\u95f4",pCategory:["\u5f2f\u9ea6\u73b0\u70e4\u9762\u5305","\u5f2f\u9ea6\u5e38\u6e29\u86cb\u7cd5"]},{pDepartment:"\u9762\u5305\u8f66\u95f4",pCategory:["\u5f2f\u9ea6\u9910\u5305\u9762\u5305"]},{pDepartment:"\u9762\u5305\u8f66\u95f4",pCategory:["\u5f2f\u9ea6\u5410\u53f8\u9762\u5305"]}],Ht="",Ut="\u51c6\u5907\u4e2d",Wt="\u8fd0\u884c\u4e2d",Jt="\u6682\u505c\u4e2d",Kt="\u5df2\u5b8c\u6210",Vt="\u53d6\u6d88",qt="\u51fa\u9519",Gt=[{label:"\u65e9\u4e0a",value:"z"},{label:"\u4e0b\u5348",value:"zz"}],Zt=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).componentDidMount=Object(s.a)(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.props.query,(a=t&&t.get("param"))&&(a=unescape(a),n=JSON.parse(a),r.setState({paramObj:n},(function(){r.refresh()})));case 3:case"end":return e.stop()}}),e)}))),r.refresh=Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.state.paramObj,r.setState({productSpinning:!0,productSpinTipText:"\u51c6\u5907\u6253\u5370..."},Object(s.a)(l.a.mark((function e(){var a,n,i,o,c,s,d,m,u,p,f,g,h,y,b,E,v,k,T,x,S,w,A;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],n=0;case 2:if(!(n<t.orderList.length)){e.next=30;break}if(!(i=t.orderList[n])){e.next=27;break}return r.setState({productSpinTipText:"\u83b7\u53d6<<".concat(i.orderShop,">>-").concat(i.orderId,"...")}),e.next=8,D(i.orderId);case 8:if(0!==(o=e.sent).errCode||!o.items){e.next=27;break}c=0;case 11:if(!(c<o.items.length)){e.next=27;break}s=o.items[c],d=-1,m=0;case 15:if(!(m<a.length)){e.next=23;break}if(a[m].barcode!==s.barcode){e.next=20;break}return d=m,e.abrupt("break",23);case 20:++m,e.next=15;break;case 23:-1!==d?a[d].orderNumber+=s.orderNumber:(s.key=a.length,a.push(s));case 24:++c,e.next=11;break;case 27:++n,e.next=2;break;case 30:u=[],p=0;case 32:if(!(p<a.length)){e.next=48;break}f=a[p],g=-1,h=0;case 36:if(!(h<u.length)){e.next=44;break}if(u[h].name!==f.categoryName){e.next=41;break}return g=h,e.abrupt("break",44);case 41:++h,e.next=36;break;case 44:-1!==g?(f.key=u[g].items.length,u[g].items.push(f)):(f.key=0,(y={}).name=f.categoryName,y.key=u.length,y.items=[f],u.push(y));case 45:++p,e.next=32;break;case 48:b=[],E=0;case 50:if(!(E<Ft.length)){e.next=79;break}v=Ft[E],(k={}).key=b.length,k.pDepartment=v.pDepartment,k.items=[],T=0;case 57:if(!(T<v.pCategory.length)){e.next=75;break}x=v.pCategory[T],S=0;case 60:if(!(S<u.length)){e.next=72;break}if((w=u[S]).name!==x){e.next=69;break}return(A={}).key=k.items.length,A.categoryName=x,A.categoryItems=w.items,k.items.push(A),e.abrupt("break",72);case 69:++S,e.next=60;break;case 72:++T,e.next=57;break;case 75:b.push(k);case 76:++E,e.next=50;break;case 79:console.log("category4ProductDistribute = "+JSON.stringify(b)),r.setState({productSpinning:!1,productSpinTipText:"",allDistributionDataToBePrint:b});case 81:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)}))),r.handleBack=function(){var e=r.state.paramObj,t=JSON.stringify(e),a="param="+escape(t),n=Ze()+"/orderManagement_1";n+="?",n+=a,window.location.replace(n)},r.getLodopAfterInit=function(){var e=Object(Tt.getLodop)();if(e){e.PRINT_INIT("react\u4f7f\u7528\u6253\u5370\u63d2\u4ef6CLodop");e.SET_PRINTER_INDEX(Xe(e)),e.SET_PRINT_PAGESIZE(2,0,0,"A4"),e.SET_PREVIEW_WINDOW(0,0,0,800,600,""),e.SET_PRINT_COPIES(1),e.SET_SHOW_MODE("LANDSCAPE_DEFROTATED",1),e.SET_PRINT_MODE("AUTO_CLOSE_PREWINDOW",1),e.ADD_PRINT_HTM(0,0,"100%","100%","<style>\n                </style> "+document.getElementById("printDiv").innerHTML)}return e},r.productPrintPreprew=function(){var e=r.getLodopAfterInit();e&&e.PREVIEW()},r.productPrintDirect=function(){var e=r.getLodopAfterInit();e&&e.PRINT()},r.productPrintDirectAndBack=function(){r.productPrintDirect(),r.handleBack()},r.productLabelPrintStart=Object(s.a)(l.a.mark((function e(){var t,a,n,i,o,c,s,d,m,u,p,f,g,h,y,b;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=[],a=r.state,n=a.allDistributionDataToBePrint,i=a.productLabelPrintProductionTitle,o=0;o<n.length;++o){if(c=n[o].templateName,s=n[o].items,d=n[o].orderShop,m=n[o].orderType,u=n[o].orderCashier,c&&s.length>0){for((p={}).key=o+1,p.templateName=c,p.items=[],f=0;f<s.length;++f)g=s[f],p.items.push(Object(Et.a)({},g));p.printStatus=Ht,p.printProgress="",t.push(p)}""===i&&r.setState({productLabelPrintProductionTitle:d+"=>"+m+"=>"+u})}h=r.state,y=h.productLabelPrintProductionDate,b=h.productLabelPrintExpirationDate,r.setState({productLabelPrintTemplateList:t,productLabelPrintModalVisible:!0,selectedRowKeys4LabelPrintTemplateList:[],selectedRows4LabelPrintTemplateList:[],productLabelPrintState:Ut,amOrPmType:Gt[1].value,productLabelPrintProductionTemplate4Preview:{name:"\u5f2f\u9ea6-<\u4ea7\u54c1\u540d\u79f0>",barcode:"<12\u4f4d\u6761\u7801>",ingredients:"\u914d\u6599\u8868\uff1a<\u914d\u65991 \u914d\u65992 \u914d\u65993>",productLabelPrintProductionDateAndTime:"\u751f\u4ea7\u65e5\u671f\uff1a"+y.format("MM/DD")+" zz",qualityDay:"\u4fdd\u8d28\u671f\uff1a<3\u5929>",expirationDate:"\u4fdd\u8d28\u671f\u81f3\uff1a"+b.format("MM/DD HH:mm"),price:"\xa5<12.0>"}}),setTimeout((function(){Ot()("#image4barcode","123456789",{displayValue:!1})}),0);case 6:case"end":return e.stop()}}),e)}))),r.startOrContinueLabelPrint=function(){var e=Object(s.a)(l.a.mark((function e(t,a,n){var i,o,c,s,d,m,u,p,f,g,h,y,b,E,v,k,T,x,S,w;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.setState({productLabelPrintState:Wt}),i=r.state,o=i.selectedRows4LabelPrintTemplateList,c=i.productLabelPrintProductionDate,s=i.amOrPmType,(d=i.productLabelPrintProductionTitle)&&(m=d.split("=>")).length>=3&&r.titleLabelPrintDirect(m[0],m[1],m[2]),u=t;case 4:if(!(u<o.length)){e.next=52;break}p=o[u].items,f=a;case 7:if(!(f<p.length)){e.next=48;break}f===a&&(o[u].printStatus=Wt),g=p[f],h=g.orderProductName,y=g.orderNumber,b=g.barcode,E=g.transferPrice,v=g.qualityDay,k=3;try{k=parseInt(v)}catch(l){k=3}T=new se.a(c).add(k,"days").endOf("day"),x=g.ingredients,S=n;case 20:if(!(S<y)){e.next=43;break}return e.next=23,new Promise((function(e){return setTimeout(e,400)}));case 23:if(r.state.productLabelPrintState!==Vt){e.next=28;break}return r.setState({productLabelPrintModalVisible:!1,productLabelPrintState:Ut}),e.abrupt("return");case 28:if(r.state.productLabelPrintState!==Jt){e.next=35;break}return r._templateIndex=u,r._itemIndex=f,r._orderNumberIndex=S,o[u].printStatus=Jt,r.forceUpdate(),e.abrupt("return");case 35:o[u].printProgress=" "+(S+1)+"/"+y+" "+h,w={name:"\u5f2f\u9ea6-"+h,barcode:b,price:"\xa5"+Number(E).toFixed(1),ingredients:"\u914d\u6599\u8868\uff1a"+x,productLabelPrintProductionDateAndTime:"\u751f\u4ea7\u65e5\u671f\uff1a"+c.format("MM/DD")+" "+s,expirationDate:"\u4fdd\u8d28\u671f\u81f3\uff1a"+T.format("MM/DD HH:mm")},Ot()("#image4barcode",w.barcode,{displayValue:!1}),r.setState({productLabelPrintProductionTemplate4Preview:w}),r.productLabelPrintDirect(w.name,w.barcode,w.price,w.ingredients,w.productLabelPrintProductionDateAndTime,w.expirationDate);case 40:++S,e.next=20;break;case 43:f===p.length-1&&(o[u].printStatus=Kt),n=0;case 45:++f,e.next=7;break;case 48:a=0;case 49:++u,e.next=4;break;case 52:r.setState({productLabelPrintState:Kt});case 53:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),r.getLodopAfterInit4Label=function(){var e=Object(Tt.getLodop)();return e&&(e.PRINT_INIT("react\u4f7f\u7528\u6253\u5370\u63d2\u4ef6CLodop"),e.SET_PRINTER_INDEX(et(e)),e.SET_PRINT_PAGESIZE(1,400,300,""),e.SET_PREVIEW_WINDOW(0,0,0,600,450,""),e.SET_PRINT_COPIES(1),e.SET_PRINT_MODE("AUTO_CLOSE_PREWINDOW",1)),e},r.getTitleHtml=function(e,t){return"<!doctype html><style>#title{text-align:center;font-family:'\u5fae\u8f6f\u96c5\u9ed1';font-size:"+t+";}</style><div id='title'>"+e+"</div>"},r.titleLabelPrintDirect=function(e,t,a){var n=r.getLodopAfterInit4Label();if(n){var i=r.getTitleHtml(e,"18px");n.ADD_PRINT_HTM(12,0,"40mm",15,i);var o=r.getTitleHtml(t,"18px");n.ADD_PRINT_HTM(42,0,"40mm",15,o);var c=r.getTitleHtml(a,"18px");n.ADD_PRINT_HTM(74,0,"40mm",15,c),n.PRINT()}},r.productLabelPrintDirect=function(e,t,a,n,i,o){var c=r.getLodopAfterInit4Label();if(c){var l="14px";e.length>14?l="11px":e.length>12?l="12px":e.length>10&&(l="13px"),c.ADD_PRINT_HTM(3,0,"40mm",15,r.getTitleHtml(e,l)),c.ADD_PRINT_TEXT(16,42,150,15,t),c.SET_PRINT_STYLEA(2,"FontName","\u5fae\u8f6f\u96c5\u9ed1"),c.SET_PRINT_STYLEA(2,"FontSize",7),c.ADD_PRINT_BARCODE(28,16,174,18,"128Auto",t),c.SET_PRINT_STYLEA(3,"ShowBarText",0),c.ADD_PRINT_TEXT(46,6,150,15,n),c.SET_PRINT_STYLEA(4,"FontName","\u5fae\u8f6f\u96c5\u9ed1"),c.SET_PRINT_STYLEA(4,"FontSize",7),c.ADD_PRINT_TEXT(58,6,150,15,i),c.SET_PRINT_STYLEA(5,"FontName","\u5fae\u8f6f\u96c5\u9ed1"),c.SET_PRINT_STYLEA(5,"FontSize",7),c.ADD_PRINT_TEXT(70,6,150,15,o),c.SET_PRINT_STYLEA(6,"FontName","\u5fae\u8f6f\u96c5\u9ed1"),c.SET_PRINT_STYLEA(6,"FontSize",7),c.ADD_PRINT_TEXT(82,6,150,15,"\u751f\u4ea7\u5546\uff1a\u6f33\u5dde\u53e4\u897f\u4f18\u4f5c\u98df\u54c1\u6709\u9650\u516c\u53f8\u6f33\u6d66\u5206\u516c\u53f8"),c.SET_PRINT_STYLEA(7,"FontName","\u5fae\u8f6f\u96c5\u9ed1"),c.SET_PRINT_STYLEA(7,"FontSize",5),c.ADD_PRINT_TEXT(90,6,150,15,"\u5730\u5740\uff1a\u6f33\u6d66\u53bf\u5e9c\u524d\u8857\u897f247\u53f7"),c.SET_PRINT_STYLEA(8,"FontName","\u5fae\u8f6f\u96c5\u9ed1"),c.SET_PRINT_STYLEA(8,"FontSize",5),c.ADD_PRINT_TEXT(98,6,150,15,"\u7535\u8bdd\uff1a13290768588"),c.SET_PRINT_STYLEA(9,"FontName","\u5fae\u8f6f\u96c5\u9ed1"),c.SET_PRINT_STYLEA(9,"FontSize",5),c.ADD_PRINT_TEXT(90,100,150,15,a),c.SET_PRINT_STYLEA(10,"FontName","\u5fae\u8f6f\u96c5\u9ed1"),c.SET_PRINT_STYLEA(10,"FontSize",12),c.PRINT()}},r.onTemplateItemSelectChange=function(e,t){r.setState({selectedRowKeys4LabelPrintTemplateList:e,selectedRows4LabelPrintTemplateList:t})},r.handleProductLabelPrintProductionDateChange=function(e){r.setState({productLabelPrintProductionDate:e},(function(){r.updateProductLabelPrintProductionTemplateDayAndTime()}))},r.handleAmOrPmTypeChange=function(e){var t=r.state.productLabelPrintProductionDate,a=Object(Et.a)({},r.state.productLabelPrintProductionTemplate4Preview);a.productLabelPrintProductionDateAndTime="\u751f\u4ea7\u65e5\u671f\uff1a"+t.format("MM/DD")+" "+e.target.value,r.setState({amOrPmType:e.target.value,productLabelPrintProductionTemplate4Preview:a})},r.updateProductLabelPrintProductionTemplateDayAndTime=function(){var e=r.state.productLabelPrintProductionDate,t=Object(Et.a)({},r.state.productLabelPrintProductionTemplate4Preview);t.productLabelPrintProductionDateAndTime="\u751f\u4ea7\u65e5\u671f\uff1a"+e.format("MM/DD")+" zz",t.expirationDate="\u4fdd\u8d28\u671f\u81f3\uff1a"+new se.a(e).add(3,"days").endOf("day").format("MM/DD HH:mm"),r.setState({productLabelPrintProductionTemplate4Preview:t})},r.state={paramObj:{},allDistributionDataToBePrint:[],productSpinTipText:"",productSpinning:!1,productLabelPrintModalVisible:!1,productLabelPrintState:Ut,productLabelPrintTemplateList:[],selectedRowKeys4LabelPrintTemplateList:[],selectedRows4LabelPrintTemplateList:[],productLabelPrintProductionDate:se()(),amOrPmType:Gt[1].value,productLabelPrintExpirationDate:se()().add(3,"days").endOf("day"),productLabelPrintProductionTemplate4Preview:{},productLabelPrintProductionTitle:"",productLabelPrintTemplateProductModalVisible:!1,productLabelPrintTemplateProductList:[]},r}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.paramObj,r=t.allDistributionDataToBePrint,i=t.productSpinTipText,o=t.productSpinning,c=t.productLabelPrintModalVisible,l=t.productLabelPrintState,s=t.selectedRowKeys4LabelPrintTemplateList,d=t.selectedRows4LabelPrintTemplateList,m=t.productLabelPrintTemplateList,u=t.productLabelPrintProductionDate,p=t.amOrPmType,f=t.productLabelPrintProductionTemplate4Preview,h=t.productLabelPrintProductionTitle,y=t.productLabelPrintTemplateProductModalVisible,b=(t.productLabelPrintTemplateProductList,"");l===Ut?b="\u9009\u62e9\u5206\u7c7b\u540e\uff0c\u70b9\u51fb\u5f00\u59cb\u6253\u5370":l===Wt?b="\u8fd0\u884c\u4e2d\uff0c\u70b9\u51fb\u6682\u505c":l===Jt?b="\u6682\u505c\u4e2d\uff0c\u70b9\u51fb\u7ee7\u7eed":l===Vt?b="\u53d6\u6d88\u4e2d...":l===qt?b="\u6253\u5370\u673a\u51fa\u9519\uff0c\u4fee\u590d\u540e\u70b9\u51fb\u7ee7\u7eed":l===Kt&&(b="\u6253\u5370\u5b8c\u6210\uff0c\u70b9\u51fb\u5173\u95ed");var v=l===Ut&&d.length<=0,T=[{title:"\u5e8f",dataIndex:"key",key:"key",width:20,render:function(e){return n.a.createElement("div",{style:{fontSize:10,textAlign:"center"}},e)}},{title:"\u6a21\u677f\u5206\u7c7b",dataIndex:"templateName",key:"templateName",width:100,render:function(e){return n.a.createElement("div",{style:{fontSize:12,textAlign:"center"}},e)}},{title:"\u5206\u7c7b\u5546\u54c1",dataIndex:"templateName",key:"templateName",width:"*",render:function(t){return n.a.createElement(E.a,{style:{fontSize:14,textAlign:"center",color:"red"},onClick:function(){e.setState({productLabelPrintTemplateProductModalVisible:!0,productLabelPrintTemplateProductList:[]},(function(){for(var a=e.state.productLabelPrintTemplateList,r=0;r<a.length;++r){if(a.templateName===t){var n=a.items;e.setState({productLabelPrintTemplateProductList:n})}}}))}},"\u70b9\u51fb\u6253\u5f00\u5546\u54c1")}},{title:"\u6253\u5370\u8fdb\u5ea6",dataIndex:"printProgress",key:"printProgress",width:"*",render:function(e){return n.a.createElement("div",{style:{fontSize:14,textAlign:"center",color:"red"}},e)}},{title:"\u6253\u5370\u72b6\u6001",dataIndex:"printStatus",key:"printStatus",width:100,render:function(e){var t=e===Wt;return n.a.createElement("div",{style:{textAlign:"center"}},n.a.createElement(k.a,{size:"small",spinning:t,style:{fontSize:12}},e))}}],x={selectedRowKeys:s,selectedRows:d,onChange:this.onTemplateItemSelectChange,getCheckboxProps:function(e){return{disabled:l!==Ut,name:e.name}}};return n.a.createElement("div",null,n.a.createElement("div",{style:{marginLeft:10,marginTop:10}},n.a.createElement("div",{id:"printConfig",style:{float:"left",borderStyle:"none",width:90}},n.a.createElement("div",null,n.a.createElement(E.a,{type:"primary",style:{width:90,height:80},onClick:function(t){return e.handleBack(t)}},n.a.createElement("div",{style:{fontSize:16}},"\u540e\u9000"))),n.a.createElement(E.a,{type:"primary",disabled:o,style:{marginTop:10,width:90,height:80},onClick:this.productPrintPreprew},n.a.createElement("div",{style:{fontWeight:"bold",fontSize:16,textDecoration:"underline"}},"\u6253\u5370\u9884\u89c8")),n.a.createElement(E.a,{type:"primary",danger:!0,disabled:o,style:{marginTop:10,width:90,height:80},onClick:this.productPrintDirectAndBack},n.a.createElement("div",{style:{fontWeight:"bold",fontSize:16,textDecoration:"underline"}},"\u76f4\u63a5\u6253\u5370")),n.a.createElement(E.a,{type:"primary",danger:!0,disabled:o,style:{marginTop:10,width:90,height:80},onClick:this.productLabelPrintStart},n.a.createElement("div",{style:{fontWeight:"bold",fontSize:16,textDecoration:"underline"}},"\u6253\u5370\u6807\u7b7e"))),n.a.createElement("div",{style:{float:"left"}},n.a.createElement("span",{style:{marginLeft:10,fontSize:12,color:"green"}},"\u65f6\u95f4\u7c7b\u578b\uff1a".concat(a&&a.timeType&&a.timeType.name)),n.a.createElement("span",{style:{marginLeft:20,fontSize:12,color:"green"}},"\u5f00\u59cb\u65f6\u95f4\uff1a".concat(a&&se()(a.beginDateTime).format("YYYY.MM.DD HH:mm:ss"))),n.a.createElement("span",{style:{marginLeft:20,fontSize:12,color:"green"}},"\u7ed3\u675f\u65f6\u95f4\uff1a".concat(a&&se()(a.endDateTime).format("YYYY.MM.DD HH:mm:ss"))),n.a.createElement(k.a,{tip:i,spinning:o,size:"large"},n.a.createElement("div",{id:"printDiv",style:{marginLeft:10,borderStyle:"dotted",width:1379,height:968}},n.a.createElement("div",{id:"printTable",style:{marginTop:0,marginLeft:28,width:1375,height:964,backgroundColor:"transparent"}},n.a.createElement("div",{style:{height:12}}),n.a.createElement("div",{style:{fontSize:18,fontWeight:"bold"}},n.a.createElement("span",null,"".concat(a.shop&&a.shop.name,"=>\n                                          ").concat(a.orderType&&a.orderType.name,"=>\n                                          ").concat(a.orderCashier&&a.orderCashier.name)),n.a.createElement("span",null," || "),n.a.createElement("span",null,"".concat(a&&a.timeType&&a.timeType.name)),n.a.createElement("span",null," : "),n.a.createElement("span",null,"".concat(a&&se()(a.beginDateTime).format("YYYY.MM.DD HH:mm:ss"))),n.a.createElement("span",null," ~ "),n.a.createElement("span",null,"".concat(a&&se()(a.endDateTime).format("YYYY.MM.DD HH:mm:ss")))),r.map((function(e){return e.items.length>0?n.a.createElement("div",{key:e.key,style:{float:"left",zIndex:10,backgroundColor:"transparent",marginTop:10,height:920}},n.a.createElement("div",{style:{float:"left",marginLeft:0,width:2,height:920}}),n.a.createElement("table",{border:"0",cellSpacing:"0",style:{float:"left",borderCollapse:"collapse"}},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"5",style:{width:175,textAlign:"center",fontSize:16,backgroundColor:"lightblue",color:"black",paddingLeft:8,paddingRight:8,paddingTop:4,paddingBottom:4}},"".concat(e.pDepartment)))),e.items.map((function(e){return n.a.createElement("tbody",{key:e.key},n.a.createElement("tr",null,n.a.createElement("th",null,n.a.createElement("table",{border:"1",cellSpacing:"0",style:{float:"left",borderCollapse:"collapse"}},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"5",style:{fontSize:18,width:318,textAlign:"center",backgroundColor:"lightyellow"}},e.categoryName)),n.a.createElement("tr",null,n.a.createElement("th",{style:{textAlign:"center",fontSize:14}},"\u7b80\u7801"),n.a.createElement("th",{style:{textAlign:"center",fontSize:14}},"\u54c1\u540d"),n.a.createElement("th",{style:{textAlign:"center",fontSize:14}},"\u8ba2"),n.a.createElement("th",{style:{textAlign:"center",fontSize:12}},"\u4e00"),n.a.createElement("th",{style:{textAlign:"center",fontSize:12}},"\u4e8c"))),n.a.createElement("tbody",null,e.categoryItems.map((function(e){return n.a.createElement("tr",{key:e.key,style:{height:24}},"001 - \u5f2f\u9ea6(\u6559\u80b2\u5c40\u5e97)"===a.shop.name?n.a.createElement("th",{key:"1",style:{textAlign:"center",fontSize:16,width:16,paddingTop:4,paddingBottom:4}},e.barcodeMiddle):n.a.createElement("th",{key:"1",style:{textAlign:"center",fontSize:16,width:16,paddingTop:4,paddingBottom:4}},e.barcodeSimple),n.a.createElement("th",{key:"2",style:{textAlign:"center",fontSize:16,width:125,paddingTop:4,paddingBottom:4}},e.orderProductName),n.a.createElement("th",{key:"3",style:{textAlign:"center",fontSize:16,width:8,paddingTop:4,paddingBottom:4}},e.orderNumber),n.a.createElement("th",{key:"4",style:{textAlign:"center",fontSize:16,width:8,paddingTop:4,paddingBottom:4}}),n.a.createElement("th",{key:"5",style:{textAlign:"center",fontSize:16,width:8,paddingTop:4,paddingBottom:4}}))})))))))}))),n.a.createElement("div",{style:{float:"left",marginLeft:0,width:2,height:920}})):n.a.createElement("div",{key:e.key})}))))),n.a.createElement("div",{style:{height:30}}))),n.a.createElement(Ne.a,{width:600,style:{top:0},keyboard:!0,maskClosable:!1,title:n.a.createElement("div",null,h),visible:c,okText:b,okButtonProps:{disabled:v},cancelText:"\u53d6\u6d88\u6279\u91cf\u6253\u5370",cancelButtonProps:{hidden:!1},onOk:function(){l===Ut?(e._templateIndex=0,e._itemIndex=0,e._orderNumberIndex=0,e.startOrContinueLabelPrint(e._templateIndex,e._itemIndex,e._orderNumberIndex)):l===Wt?e.setState({productLabelPrintState:Jt}):l===Jt?e.startOrContinueLabelPrint(e._templateIndex,e._itemIndex,e._orderNumberIndex):l===Kt&&e.setState({productLabelPrintState:Ut,productLabelPrintModalVisible:!1})},onCancel:function(){l===Wt?e.setState({productLabelPrintState:Vt}):e.setState({productLabelPrintState:Ut,productLabelPrintModalVisible:!1})}},n.a.createElement(Ge.a,{style:{marginTop:-12},disabled:!0,size:"small",dataSource:m,columns:T,rowSelection:x,pagination:!1,bordered:!0}),n.a.createElement("div",{style:{marginTop:12}},n.a.createElement(g.a,{picker:"day",size:"small",style:{width:170,marginLeft:100},placeholder:"\u9009\u62e9\u751f\u4ea7\u65e5\u671f",format:"YYYY-MM-DD dddd",value:u,onChange:this.handleProductLabelPrintProductionDateChange}),n.a.createElement("span",null,n.a.createElement(ze.a.Group,{style:{marginTop:8,margeLeft:8},options:Gt,value:p,onChange:this.handleAmOrPmTypeChange})),n.a.createElement("div",{style:{border:1,borderStyle:"solid",color:"lightgray",marginTop:6,marginBottom:2}}),n.a.createElement("div",{style:{textAlign:"center",fontWeight:"bold",fontSize:18,marginTop:0,marginBottom:2}},"\u6807\u7b7e\u9884\u89c8"),n.a.createElement("div",{style:{borderStyle:"dotted",width:320,height:240,marginLeft:110}},n.a.createElement("div",{style:{textAlign:"center",fontSize:16,marginTop:2}},f.name),n.a.createElement("div",{style:{textAlign:"center",fontSize:14,marginTop:0}},f.barcode),n.a.createElement("img",{alt:"none",id:"image4barcode",style:{height:55,width:284,marginLeft:16,backgroundColor:"lightgray"}}),n.a.createElement("div",{style:{textAlign:"left",fontSize:14,marginTop:0,marginLeft:14}},f.ingredients),n.a.createElement("div",{style:{textAlign:"left",fontSize:14,marginTop:0,marginLeft:14}},f.productLabelPrintProductionDateAndTime),n.a.createElement("div",{style:{textAlign:"left",fontSize:14,marginTop:0,marginLeft:14}},n.a.createElement("span",null,f.expirationDate)),n.a.createElement("div",{style:{textAlign:"left",fontSize:12,marginTop:0,marginLeft:14}},"\u751f\u4ea7\u5546\uff1a\u6f33\u5dde\u5e02\u53e4\u897f\u4f18\u4f5c\u98df\u54c1\u6709\u9650\u516c\u53f8\u6f33\u6d66\u5206\u516c\u53f8"),n.a.createElement("div",{style:{textAlign:"left",fontSize:12,marginTop:0,marginLeft:14}},"\u5730\u5740\uff1a\u6f33\u6d66\u53bf\u5e9c\u524d\u8857\u897f247\u53f7"),n.a.createElement("div",{style:{textAlign:"left",fontSize:12,marginTop:0,marginLeft:14}},n.a.createElement("span",null,"\u7535\u8bdd\uff1a13290768588"),n.a.createElement("span",{style:{marginLeft:100}},f.price))))),n.a.createElement(Ne.a,{width:600,style:{top:0},keyboard:!0,maskClosable:!1,title:n.a.createElement("div",null,"\u5206\u7c7b\u5546\u54c1"),visible:y,okText:"\u786e\u8ba4",cancelButtonProps:{hidden:!0},onOk:function(){e.setState({productLabelPrintTemplateProductModalVisible:!1})}},n.a.createElement(Ge.a,{style:{marginTop:-12},disabled:!0,size:"small",dataSource:m,columns:T,rowSelection:x,pagination:!1,bordered:!0})))}}]),a}(n.a.Component),Xt=a(68),$t=a(237),ea=a(155),ta=a(450),aa=a(455),ra=a(267),na=a.n(ra),ia=a(129),oa=a(92),ca=a.n(oa),la=f.a.Search,sa=[{name:"\u5168\u90e8\u6a21\u677f",templateId:"",templateUid:""},{name:"\u897f\u70b9\u7c7b",templateId:"189",templateUid:"1595397637628133418"},{name:"\u5e38\u6e29\u7c7b",templateId:"183",templateUid:"1595077654714716554"},{name:"\u73b0\u70e4\u7c7b",templateId:"187",templateUid:"1595310806940367327"},{name:"\u9910\u5305\u7c7b",templateId:"182",templateUid:"1595077405589137749"},{name:"\u5410\u53f8\u7c7b",templateId:"2873",templateUid:"1649149816769757925"}],da={"187-2006251756022":1,"187-2006291720144":2,"187-2007261431428":3,"187-2006261548488":4,"187-2006251720443":5,"187-2007171555580":6,"182-2106241432414":1,"182-2106281603003":2,"182-2106281600071":3,"182-2106281603355":4,"182-2106241433091":5,"182-2106281601535":6,"182-2010291510063":7},ma=["\u5916\u8d2d\u54c1","\u5f2f\u9ea6\u8017\u6750","\u5f2f\u9ea6\u5305\u88c5","\u5f2f\u9ea6\u4f20\u7edf\u96f6\u98df","\u5f2f\u9ea6\u5c0f\u96f6\u98df","\u5f2f\u9ea6\u534a\u6210\u54c1"],ua=n.a.createContext(null),pa=function(e){e.index;var t=Object(ea.a)(e,["index"]),a=ta.a.useForm(),r=Object($t.a)(a,1)[0];return n.a.createElement(ta.a,{form:r,component:!1},n.a.createElement(ua.Provider,{value:r},n.a.createElement("tr",t)))},fa=function(e){var t=e.title,a=e.editable,i=e.children,o=e.dataIndex,c=e.record,d=e.handleEditableCellNextFocus,m=e.handleEditableCellCurrentFocus,u=e.handleEditableCellCurrentEnter,p=Object(ea.a)(e,["title","editable","children","dataIndex","record","handleEditableCellNextFocus","handleEditableCellCurrentFocus","handleEditableCellCurrentEnter"]),g=i,h=Object(r.useRef)(null),y=Object(r.useContext)(ua);if(c){h&&h.current&&setTimeout((function(){c&&c.editing&&h.current&&h.current.select()}),0);var b=function(){var e=Object(s.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.validateFields();case 3:t=e.sent,a=parseInt(t[o]),c[o]=a,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Save failed:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(s.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.validateFields();case 3:if(t=e.sent,!((a=parseInt(t[o]))>1e3||a<=0)){e.next=8;break}return new Audio(ca.a).play(),e.abrupt("return");case 8:d(),u(c,o),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("Save failed:",e.t0),new Audio(ca.a).play();case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(c);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(a){var k=c[o];g=n.a.createElement(ta.a.Item,{style:{margin:0},name:o,rules:[{required:!0,message:"".concat(t," \u8bf7\u8f93\u5165\u6574\u6570."),pattern:/^[0-9]+$/}],initialValue:k},n.a.createElement(f.a,{id:c&&c.key,ref:h,autoComplete:"off",onChange:b,onPressEnter:E,onFocus:v}))}}return n.a.createElement("td",p,g)},ga=n.a.createContext(null),ha=function(e){e.index;var t=Object(ea.a)(e,["index"]),a=ta.a.useForm(),r=Object($t.a)(a,1)[0];return n.a.createElement(ta.a,{form:r,component:!1},n.a.createElement(ga.Provider,{value:r},n.a.createElement("tr",t)))},ya=function(e){var t=e.title,a=e.editable,i=e.children,o=e.dataIndex,c=e.record,d=e.handleEditableCellNextFocus,m=e.handleEditableCellCurrentFocus,u=e.handleEditableCellOnChangeAddOrRemove,p=Object(ea.a)(e,["title","editable","children","dataIndex","record","handleEditableCellNextFocus","handleEditableCellCurrentFocus","handleEditableCellOnChangeAddOrRemove"]),g=i,h=Object(r.useRef)(null),y=Object(r.useContext)(ga);if(c){var b=function(){h&&h.current&&setTimeout((function(){c&&c.editing&&h.current&&h.current.select()}),0)};b();var E=function(){var e=Object(s.a)(l.a.mark((function e(){var t,a,r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.validateFields();case 3:t=e.sent,a=parseFloat(t[o]),c[o]=a,e.next=22;break;case 8:if(e.prev=8,e.t0=e.catch(0),console.log("Save failed:",e.t0),"+"!==(r=e.t0.values[o].substring(e.t0.values[o].length-1))){e.next=20;break}if(!(c[o]>1e3||c[o]<=0)){e.next=17;break}return new Audio(ca.a).play(),b(),e.abrupt("return");case 17:n="add",e.next=21;break;case 20:"-"===r&&(n="remove");case 21:u(n,c);case 22:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.validateFields();case 3:d(),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("Save failed:",e.t0),new Audio(ca.a).play();case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(c);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=c[o];a&&(g=n.a.createElement(ta.a.Item,{style:{margin:0},name:o,rules:[{required:!0,message:"".concat(t," \u8bf7\u8f93\u5165\u6570(\u5141\u8bb8\u5305\u542b2\u4f4d\u5c0f\u6570)."),pattern:/^(([1-9]{1}\d*)|(0{1}))(\.\d{0,2})?$/}],initialValue:T},n.a.createElement(f.a,{id:c&&c.key,ref:h,autoComplete:"off",onChange:E,onPressEnter:v,onFocus:k})))}return n.a.createElement("td",p,g)},ba=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).componentDidMount=Object(s.a)(l.a.mark((function e(){var t,a,n,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.props.query,(a=t&&t.get("param"))&&(a=unescape(a),n=JSON.parse(a),i=n.shop,r.setState({currentShop:i}),r._template=n.template,r._orderType=n.orderType,r._orderCashier=n.orderCashier,r._timeType=n.timeType,r._beginDateTime=n.beginDateTime,r._endDateTime=n.endDateTime,r._orderList=n.orderList,r.refresh());case 3:case"end":return e.stop()}}),e)}))),r.refresh=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.setState({productSpinning:!0,productSpinTipText:"\u51c6\u5907\u5f55\u5165..."},Object(s.a)(l.a.mark((function e(){var t,a,n,i,o,c,s,d,m,u,p,f,g,y,b,E,v,k,T,x,S,w,A,I,O,C,L,P,N,z,j,R,B,M,_,Y,Q,F,H,U;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],r.setState({productSpinTipText:"\u51c6\u5907\u83b7\u53d6..."}),a=0;case 3:if(!(a<r._orderList.length)){e.next=65;break}if(!(n=r._orderList[a])){e.next=62;break}return e.next=8,D(n.orderId);case 8:if(0!==(i=e.sent).errCode||!i.items){e.next=59;break}o=!1,c=void 0,c=0;case 13:if(!(c<t.length)){e.next=20;break}if(t[c].orderShop!==n.orderShop||t[c].templateName!==n.templateName){e.next=17;break}return o=!0,e.abrupt("break",20);case 17:++c,e.next=13;break;case 20:if(!o){e.next=42;break}s=t[c].items,d=i.items,m=0;case 24:if(!(m<d.length)){e.next=40;break}u=d[m],p=-1,f=0;case 28:if(!(f<s.length)){e.next=36;break}if(s[f].barcode!==u.barcode){e.next=33;break}return p=f,e.abrupt("break",36);case 33:++f,e.next=28;break;case 36:-1!==p?(g=s[p].orderNumber+u.orderNumber,s[p].orderNumber=g):((y={}).categoryName=u.categoryName,y.orderProductName=u.orderProductName,y.specification=u.specification,y.barcode=u.barcode,y.barcodeSimple=u.barcodeSimple,y.orderNumber=u.orderNumber,y.transferPrice=u.transferPrice,y.sortId=u.sortId,s.push(y));case 37:++m,e.next=24;break;case 40:e.next=57;break;case 42:(b={}).orderShop=n.orderShop,b.templateName=n.templateName,E=0;case 46:if(!(E<sa.length)){e.next=53;break}if(sa[E].name!==n.templateName){e.next=50;break}return b.templateUid=sa[E].templateUid,e.abrupt("break",53);case 50:++E,e.next=46;break;case 53:for(b.expectTime=n.expectTime,b.items=i.items,v=0;v<i.items.length;++v)k=r._template.templateId+"-"+i.items[v].barcode,T=da[k],i.items[v].sortId=T||200;t.push(b);case 57:e.next=62;break;case 59:return t=[],h.b.error("\u83b7\u53d6<"+n.orderShop+">\u8ba2\u8d27\u4ea7\u54c1\u51fa\u9519\uff0c\u8bf7\u68c0\u67e5\uff01"),e.abrupt("break",65);case 62:++a,e.next=3;break;case 65:r.setState({productSpinTipText:"\u6309\u7167\u6a21\u677f\u6392\u5e8f..."}),x=[],S=0;case 68:if(!(S<t.length)){e.next=105;break}return w=t[S],A=w.items,(I={}).orderShop=w.orderShop,I.templateName=w.templateName,I.expectTime=w.expectTime,I.templateUid=w.templateUid,r.setState({productSpinTipText:"\u67e5\u627e-".concat(w.templateName,"-\u6a21\u677f...")}),e.next=79,kt(w.templateUid);case 79:if(!(0===(O=e.sent).errCode&&O.list.length>0)){e.next=101;break}C=O.list,L=[],P=0;case 84:if(!(P<C.length)){e.next=100;break}N=-1,z=0;case 87:if(!(z<A.length)){e.next=94;break}if(C[P].barcode!==A[z].barcode){e.next=91;break}return N=z,e.abrupt("break",94);case 91:++z,e.next=87;break;case 94:j={},-1!==N?(j.categoryName=A[N].categoryName,j.orderProductName=A[N].orderProductName,j.specification=A[N].specification,j.barcode=A[N].barcode,j.barcodeSimple=A[N].barcodeSimple,j.sortId=A[N].sortId,j.orderNumber=A[N].orderNumber,j.transferNumber=0,j.transferPrice=A[N].transferPrice):(j.categoryName=C[P].categoryName,j.orderProductName=C[P].name,j.specification=C[P].specification,j.barcode=C[P].barcode,j.barcodeSimple=C[P].barcodeSimple,j.transferPrice=C[P].transferPrice,R=r._template.templateId+"-"+j.barcode,B=da[R],j.sortId=B||200,j.orderNumber=0,j.transferNumber=0),L.push(j);case 97:++P,e.next=84;break;case 100:I.items=L;case 101:x.push(I);case 102:++S,e.next=68;break;case 105:for(r.setState({productSpinTipText:"\u6574\u7406\u5546\u54c1..."}),M=[],_=0,Y=0;Y<x.length;++Y)for(Q=x[Y],F=Q.items,H=0;H<F.length;++H)(U=F[H]).key=++_,M.push(U);r.setState({productSpinning:!1,productSpinTipText:"",allProductionDataToBeTransfer:M});case 110:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)}))),r.getColumnSearchProps=function(e){return{filterDropdownVisible:r.state.filterDropdownVisible4Transfer,filterDropdown:function(e){var t=e.setSelectedKeys,a=(e.selectedKeys,e.confirm);e.clearFilters;return n.a.createElement("div",{style:{padding:8,width:130}},n.a.createElement(f.a,{ref:function(e){!r._searchInput&&e&&(r._searchInput=e,r._searchInput.focus())},autoComplete:"off",size:"large",placeholder:"+\u6dfb\u52a0\u5546\u54c1",value:r._searchText4Transfer,onChange:function(e){var n=/^[0-9]+$/.test(e.target.value);if(""!==e.target.value&&!n)return"+"===e.target.value.substring(e.target.value.length-1)?r.handleAddProduct():new Audio(ca.a).play(),void(r._searchText4Transfer=r._lastSearchText4Transfer);t(e.target.value?[e.target.value]:[]),a(),r._searchText4Transfer=e.target.value,r._lastSearchText4Transfer=e.target.value,r.setState({transferItems4NextFocus:[]},(function(){var e=[];r.state.allProductionDataToBeTransfer.forEach((function(t){-1!==t.barcodeSimple.indexOf(r._searchText4Transfer)&&(t.editing=!1,e.push(t))})),e.length>0&&r.setState({transferItems4NextFocus:e})}))},onFocus:function(e){r.setState({transferItems4NextFocus:[]},(function(){var e=[];r.state.allProductionDataToBeTransfer.forEach((function(t){-1!==t.barcodeSimple.indexOf(r._searchText4Transfer)&&(t.editing=!1,e.push(t))})),e.length>0&&r.setState({transferItems4NextFocus:e})}))},onPressEnter:function(e){4===r._searchText4Transfer.length?r.setState({transferItems4NextFocus:[]},(function(){var e=[];r.state.allProductionDataToBeTransfer.forEach((function(t){-1!==t.barcodeSimple.indexOf(r._searchText4Transfer)&&(t.editing=!1,e.push(t))})),e.length>0?(e[0].editing=!0,r.setState({transferItems4NextFocus:e})):new Audio(ca.a).play()})):new Audio(ca.a).play()},style:{marginBottom:8,display:"block"}}))},filterIcon:function(e){return n.a.createElement(ia.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(t,a){var r=a[e].toString();return r?r.includes(t):""},onFilterDropdownVisibleChange:function(e){e&&r._searchInput&&setTimeout((function(){return r._searchInput&&r._searchInput.select()}),300)},render:function(e){return n.a.createElement(na.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[r._searchText4Transfer],autoEscape:!0,textToHighlight:e?e.toString():""})}}},r.onAddProductionSelectChange=function(e){r.setState({addProductionSelectedRowKeys:e})},r.onAddProductSelect=function(e,t){e.editing=!1,r._searchInput4AddProduct&&r._searchInput4AddProduct.select();var a=r.state.allProductionDataRealToBeTransfer;if(t){var n={};n.barcode=e.barcode,n.barcodeSimple=e.barcode.substring(e.barcode.length-4,e.barcode.length),n.categoryName=e.categoryName,n.editing=!1,n.transferPrice=e.price,n.orderProductName=e.productName,n.specification=e.specification,n.orderNumber=parseFloat(e.orderNumber),n.transferNumber=parseFloat(e.transferNumber),n.price=e.price,n.memberPrice=e.memberPrice,n.wholePrice=e.wholePrice,n.partnerPrice=r.makePartnerPriceByCategory(e.categoryName,n.price,n.memberPrice,n.wholePrice),n.partnerPriceTotal=parseFloat((n.partnerPrice*n.transferNumber).toFixed(2)),n.sortId=200,n.remark="\u65b0\u589e";var i=0;n.key=++i;var o=[];o.push(n);for(var c=0;c<a.length;++c){var l=a[c];l.barcode!==n.barcode&&(l.key=++i,o.push(l))}r.setState({allProductionDataRealToBeTransfer:o})}else{for(var s=[],d=0,m=0;m<a.length;++m){var u=a[m];u.barcode!==e.barcode&&(u.key=++d,s.push(u))}r.setState({allProductionDataRealToBeTransfer:s})}},r.handleAddProductOnSearch=function(){var e=Object(s.a)(l.a.mark((function e(t,a){var n,i,o,c,s,d,m,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&!(t.length<=0)){e.next=3;break}return h.b.error("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u5546\u54c1\u540d\u79f0\u6216\u6761\u7801"),e.abrupt("return");case 3:if(n=r.state.searchProductDataToBeAdd,i="search","Enter"===a.key&&(r._lastSearchText4AddProduct!==t?i="search":n.length>0&&(i="setAndJump")),"search"!==i){e.next=16;break}return r.setState({searchingProductData:!0,searchProductDataToBeAdd:[]}),r._lastSearchText4AddProduct=t,e.next=11,C(t);case 11:0===(o=e.sent).errCode&&o.items&&o.items.length>0&&(c=r.state.allProductionDataRealToBeTransfer,s=[],o.items.forEach((function(e){e.transferNumber=0,e.editing=!1,e.orderNumber=0,c.forEach((function(t){e.barcode===t.barcode&&-1===s.indexOf(e.key)&&s.push(e.key)}))})),r.setState({searchProductDataToBeAdd:o.items,addProductionSelectedRowKeys:s})),r.setState({searchingProductData:!1}),e.next=17;break;case 16:if("setAndJump"===i){for(d=r.state.searchProductDataToBeAdd,m=0;m<d.length;++m)(u=d[m])&&(u.editing=!0);r.forceUpdate()}case 17:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),r.handleAddProductionModalonOk=function(){r.setState({isAddProductionModalVisible:!1,filterDropdownVisible4Transfer:!0},(function(){setTimeout((function(){r._searchInput&&r._searchInput.select()}),400)}))},r.handleProductTransferConfirm=Object(s.a)(l.a.mark((function e(){var t,a,n,i,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({productTransferConfirmText:"\u914d\u8d27\u4fe1\u606f\u53d1\u9001\u4e2d...."}),t=r.state.allProductionDataRealToBeTransfer,a=r.state.currentShop.userId,n=[],t.forEach((function(e){var t={};t.barcode=e.barcode,t.quantity=e.transferNumber,t.buyPrice=e.transferPrice,n.push(t)})),e.prev=5,e.next=8,L(a,n);case 8:(i=e.sent)&&0===i.errCode?((o=Ne.a.success()).update({title:"\u914d\u8d27\u6210\u529f\uff0c\u5546\u54c1\u5df2\u53d1\u9001\u81f3<<"+r.state.currentShop.name+">>\u6536\u94f6\u673a~",okButtonProps:{hidden:!0}}),setTimeout((function(){o.destroy(),r.setState({productTransferConfirmText:"---\u786e\u5b9a\u51fa\u8d27---"}),r.handleBack()}),1500)):(r.setState({productTransferConfirmText:"---\u786e\u5b9a\u51fa\u8d27---"}),Ne.a.error({title:"\u914d\u8d27\u5931\u8d25\uff0c\u8bf7\u67e5\u770b\u5931\u8d25\u539f\u56e0~"})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),r.setState({productTransferConfirmText:"---\u786e\u5b9a\u51fa\u8d27---"}),Ne.a.error({title:e.t0.toString()});case 16:case"end":return e.stop()}}),e,null,[[5,12]])}))),r.handleEditableCellNextFocus=function(){for(var e=r.state.transferItems4NextFocus,t=-1,a=0;a<e.length;++a){if(e[a].editing){t=a;break}}var n=t+1;n>=0&&n<e.length?e[n].editing=!0:r._searchInput&&r._searchInput.select(),t>=0&&t<e.length&&(e[t].editing=!1),r.setState({transferItems4NextFocus:e})},r.handleEditableCellCurrentFocus=function(e){for(var t=r.state.transferItems4NextFocus,a=0;a<t.length;++a){var n=t[a];n.editing=!1,n.barcode===e.barcode&&(n.editing=!0)}r.forceUpdate()},r.doAddToTransfer=function(){var e=Object(s.a)(l.a.mark((function e(t){var a,n,i,o,c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({allProductionDataRealToBeTransferAdding:!0,allProductionDataRealToBeTransferAddingText:"\u6b63\u5728\u63d2\u5165<<"+t.orderProductName+">>"}),e.next=3,C(t.barcode);case 3:if((a=e.sent)&&0===a.errCode&&1===a.items.length){e.next=9;break}return h.b.warning("\u67e5\u627e\u5546\u54c1\u4fe1\u606f\u5931\u8d25~"),e.abrupt("return");case 9:n=a.items[0];case 10:if(n){for(t.specification=n.specification,t.price=n.price,t.memberPrice=n.memberPrice,t.wholePrice=n.wholePrice,t.partnerPrice=r.makePartnerPriceByCategory(n.categoryName,n.price,n.memberPrice,n.wholePrice),t.partnerPriceTotal=parseFloat((t.partnerPrice*t.transferNumber).toFixed(2)),i=[],o=0,t.key=++o,i.splice(0,0,t),c=0;c<r.state.allProductionDataRealToBeTransfer.length;++c)(s=Object(Et.a)({},r.state.allProductionDataRealToBeTransfer[c])).barcode!==t.barcode&&(s.key=++o,i.push(s));r.setState({allProductionDataRealToBeTransferAdding:!1,allProductionDataRealToBeTransferAddingText:"",allProductionDataRealToBeTransfer:i})}case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.startToRunAddToTransfers=Object(s.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r._readyToBeAddTransfers[0]){e.next=3;break}return e.abrupt("return");case 3:return r._readyToBeAddRuning=!0,a=Object(Et.a)({},t),e.next=7,r.doAddToTransfer(a);case 7:r._readyToBeAddTransfers.shift(),r._readyToBeAddRuning=!1,r.startToRunAddToTransfers();case 10:case"end":return e.stop()}}),e)}))),r.handleEditableCellCurrentEnter=function(){var e=Object(s.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t[a]>0?(r._readyToBeAddTransfers.push(t),r._readyToBeAddRuning||r.startToRunAddToTransfers()):new Audio(ca.a).play();case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),r.handleDeleteProduct4Preview=function(e){for(var t=[],a=0,n=0;n<r.state.allProductionDataRealToBeTransfer.length;++n){var i=Object(Et.a)({},r.state.allProductionDataRealToBeTransfer[n]);i.barcode!==e.barcode&&(i.key=++a,t.push(i))}r.setState({allProductionDataRealToBeTransfer:t})},r.handleEditableCell4AddProductNextFocus=function(){for(var e=r.state.searchProductDataToBeAdd,t=-1,a=0;a<e.length;++a){if(e[a].editing){t=a;break}}for(var n=t;;){if(++n>=e.length){r._searchInput4AddProduct&&r._searchInput4AddProduct.select();break}e[n].editing=!0;break}t>=0&&t<e.length&&(e[t].editing=!1),r.forceUpdate()},r.handleEditableCell4AddProductCurrentFocus=function(e){for(var t=r.state.searchProductDataToBeAdd,a=0;a<t.length;++a){t[a].editing=!1}e.editing=!0,r.forceUpdate()},r.handleEditableCellAddProductOnChangeAddOrRemove=function(e,t){if("add"===e){r.onAddProductSelect(t,!0);var a=Object(Xt.a)(r.state.addProductionSelectedRowKeys);-1===a.indexOf(t.key)&&a.push(t.key),r.setState({addProductionSelectedRowKeys:a})}else if("remove"===e){r.onAddProductSelect(t,!1);var n=Object(Xt.a)(r.state.addProductionSelectedRowKeys);-1!==n.indexOf(t.key)&&n.splice(n.indexOf(t.key),1),r.setState({addProductionSelectedRowKeys:n})}},r.makePartnerPriceByCategory=function(e,t,a,n){var i=t;if(-1===ma.indexOf(e)){var o=t;"004 - \u5f2f\u9ea6(\u6c64\u6cc9\u5e97)"===r.state.currentShop.name&&(o=a<t?a:t),i=.7*o}else i=n;return i=parseFloat(i.toFixed(2))},r.getLodopAfterInit=function(){var e=Object(Tt.getLodop)();if(e){e.PRINT_INIT("react\u4f7f\u7528\u6253\u5370\u63d2\u4ef6CLodop");e.SET_PRINTER_INDEX($e(e)),e.SET_PRINT_PAGESIZE(1,0,0,"\u9488\u6253\u4e09\u7b49\u5206"),e.SET_PREVIEW_WINDOW(0,0,0,800,600,""),e.SET_PRINT_COPIES(1),e.SET_PRINT_MODE("AUTO_CLOSE_PREWINDOW",1),e.ADD_PRINT_HTM(10,0,"100%","95%","<style>\n                </style> "+document.getElementById("printDiv").innerHTML)}return e},r.productPrintPreprew=function(){var e=r.getLodopAfterInit();e&&e.PREVIEW()},r.productPrintDirect=function(){var e=r.getLodopAfterInit();e&&e.PRINT()},r.productPrintDirectAndBack=function(){r.productPrintDirect(),r.setState({productTransferPrintShow:!1,filterDropdownVisible4Transfer:!0})},r.handleBack=function(){var e={};e.template=r._template,e.orderType=r._orderType,e.orderCashier=r._orderCashier,e.timeType=r._timeType,e.shop=r.state.currentShop,e.beginDateTime=r._beginDateTime,e.endDateTime=r._endDateTime;var t=JSON.stringify(e),a="param="+escape(t),n=Ze()+"/orderManagement";n+="?",n+=a,window.location.replace(n)},r.handleAddProduct=function(){r.setState({addProductionSelectedRowKeys:[],isAddProductionModalVisible:!0,filterDropdownVisible4Transfer:!1,searchProductDataToBeAdd:[]}),setTimeout((function(){r._searchInput4AddProduct&&(r._searchInput4AddProduct.select(),r._searchInput4AddProduct.setState({value:""}))}),0)},r.makeTotalPrice=function(){var e=0;return r.state.allProductionDataRealToBeTransfer.forEach((function(t){e+=t.price})),e},r.makePartnerPrice=function(){var e=0;return r.state.allProductionDataRealToBeTransfer.forEach((function(t){e+=t.partnerPrice})),e},r.makePartnerPriceTotal=function(){var e=0;return r.state.allProductionDataRealToBeTransfer.forEach((function(t){e+=t.partnerPriceTotal})),e},r.state={allProductionDataToBeTransfer:[],allProductionDataRealToBeTransfer:[],allProductionDataRealToBeTransferAdding:!1,allProductionDataRealToBeTransferAddingText:"",searchProductDataToBeAdd:[],searchingProductData:!1,isAddProductionModalVisible:!1,addProductionSelectedRowKeys:[],currentShop:{},productSpinTipText:"",productSpinning:!1,transferItems4NextFocus:[],filterDropdownVisible4Transfer:!0,productTransferPrintShow:!1,productTransferConfirmText:"---\u786e\u5b9a\u51fa\u8d27---"},r._searchInput=null,r._searchInput4AddProduct=null,r._searchText4Transfer="",r._lastSearchText4Transfer="",r._lastSearchText4AddProduct="",r._searchText4AddProduct4onChange="",r._lastSearchText4AddProduct4onChange="",r._template=void 0,r._orderType=void 0,r._orderCashier=void 0,r._timeType=void 0,r._beginDateTime=void 0,r._endDateTime=void 0,r._readyToBeAddTransfers=[],r._readyToBeAddRuning=!1,r}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.allProductionDataToBeTransfer,r=t.allProductionDataRealToBeTransfer,i=t.allProductionDataRealToBeTransferAdding,o=t.allProductionDataRealToBeTransferAddingText,c=t.searchProductDataToBeAdd,l=t.searchingProductData,s=t.isAddProductionModalVisible,d=t.addProductionSelectedRowKeys,m=t.currentShop,u=t.productSpinTipText,p=t.productSpinning,f=t.productTransferPrintShow,g=t.productTransferConfirmText,h=r&&r.length<=0||"---\u786e\u5b9a\u51fa\u8d27---"!==g||i,y=[{title:"\u5e8f",dataIndex:"key",key:"key",width:60,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},Object(Et.a)({title:"\u7b80\u7801",dataIndex:"barcodeSimple",key:"barcodeSimple",width:200,editingIndex:"editing"},this.getColumnSearchProps("barcodeSimple")),{title:"\u54c1\u540d",dataIndex:"orderProductName",key:"orderProductName",width:160,render:function(e){return n.a.createElement("span",{style:{fontSize:14,color:"red"}},e)}},{title:"\u8ba2\u8d27\u91cf",dataIndex:"orderNumber",key:"orderNumber",width:80,render:function(e){return n.a.createElement("span",{style:{fontSize:14}},e)}},{title:"\u914d\u8d27\u91cf",dataIndex:"transferNumber",key:"transferNumber",width:160,editable:!0,render:function(e){return n.a.createElement("span",{style:{fontSize:16}},e)}},{title:"\u914d\u8d27\u4ef7",dataIndex:"transferPrice",key:"transferPrice",width:100,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u5206\u7c7b",dataIndex:"categoryName",key:"categoryName",width:100,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u89c4\u683c",dataIndex:"specification",key:"specification",width:100,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u5907\u6ce8",dataIndex:"remark",key:"remark",width:"*",render:function(e){return"\u65b0\u589e"===e?n.a.createElement("span",{style:{fontSize:14,color:"skyblue",backgroundColor:"yellow",fontWeight:"bold"}},e):n.a.createElement("span",{style:{fontSize:10}},e)}}],b={body:{row:pa,cell:fa}},v=y.map((function(t){return t.editable?Object(Et.a)(Object(Et.a)({},t),{},{onCell:function(a){return{record:a,editable:t.editable,dataIndex:t.dataIndex,title:t.title,handleEditableCellNextFocus:e.handleEditableCellNextFocus,handleEditableCellCurrentFocus:e.handleEditableCellCurrentFocus,handleEditableCellCurrentEnter:e.handleEditableCellCurrentEnter}}}):t})),T={body:{row:ha,cell:ya}},x=[{title:"\u5e8f",dataIndex:"key",key:"key",width:40,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u6761\u5f62\u7801",dataIndex:"barcode",key:"barcode",width:140,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u54c1\u540d",dataIndex:"productName",key:"productName",width:120,render:function(e){return n.a.createElement("span",{style:{fontSize:14,color:"red"}},e)}},{title:"\u8ba2\u8d27\u91cf",dataIndex:"orderNumber",key:"orderNumber",width:60,render:function(e){return n.a.createElement("span",{style:{fontSize:14}},e)}},{title:"\u914d\u8d27\u91cf",dataIndex:"transferNumber",key:"transferNumber",width:80,editable:!0,render:function(e){return n.a.createElement("span",{style:{fontSize:16}},e)}},{title:"\u5206\u7c7b",dataIndex:"categoryName",key:"categoryName",width:120,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u89c4\u683c",dataIndex:"specification",key:"specification",width:120,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u9500\u552e\u4ef7",dataIndex:"price",key:"price",width:100,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u4f1a\u5458\u4ef7",dataIndex:"memberPrice",key:"memberPrice",width:100,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u6279\u53d1\u4ef7",dataIndex:"wholePrice",key:"wholePrice",width:100,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u5907\u6ce8",dataIndex:"remark",key:"remark",width:"*",render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}}].map((function(t){return t.editable?Object(Et.a)(Object(Et.a)({},t),{},{onCell:function(a){return{record:a,editable:t.editable,dataIndex:t.dataIndex,title:t.title,handleEditableCellNextFocus:e.handleEditableCell4AddProductNextFocus,handleEditableCellCurrentFocus:e.handleEditableCell4AddProductCurrentFocus,handleEditableCellOnChangeAddOrRemove:e.handleEditableCellAddProductOnChangeAddOrRemove}}}):t})),S={hideSelectAll:!0,selectedRowKeys:d,onChange:this.onAddProductionSelectChange,onSelect:this.onAddProductSelect},w=se()().format("YYYY-MM-DD HH:mm a"),A=[{title:"\u5e8f",dataIndex:"key",key:"key",width:40,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u6761\u5f62\u7801",dataIndex:"barcode",key:"barcode",width:140,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u54c1\u540d",dataIndex:"orderProductName",key:"orderProductName",width:160,render:function(e){return n.a.createElement("span",{style:{fontSize:14,color:"red"}},e)}},{title:"\u8ba2\u8d27\u91cf",dataIndex:"orderNumber",key:"orderNumber",width:80,render:function(e){return n.a.createElement("span",{style:{fontSize:14}},e)}},{title:"\u914d\u8d27\u91cf",dataIndex:"transferNumber",key:"transferNumber",width:80,editable:!0,render:function(e,t){var a=parseFloat(t.orderNumber),r=parseFloat(e),i=0!==a&&a===r?"transparent":"yellow";return n.a.createElement("span",{style:{fontSize:16,backgroundColor:i,padding:4}},e)}},{title:"\u5206\u7c7b",dataIndex:"categoryName",key:"categoryName",width:120,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u89c4\u683c",dataIndex:"specification",key:"specification",width:120,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u9500\u552e\u4ef7",dataIndex:"price",key:"price",width:100,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u4f1a\u5458\u4ef7",dataIndex:"memberPrice",key:"memberPrice",width:100,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u6279\u53d1\u4ef7",dataIndex:"wholePrice",key:"wholePrice",width:100,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u52a0\u76df\u4ef7",dataIndex:"partnerPrice",key:"partnerPrice",width:100,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u64cd\u4f5c",key:"action",render:function(t,a){return n.a.createElement(E.a,{type:"primary",danger:!0,onClick:function(t){e.handleDeleteProduct4Preview(a)}},"\u5220\u9664")}},{title:"\u5907\u6ce8",dataIndex:"remark",key:"remark",width:"*",render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}}];return n.a.createElement("div",null,n.a.createElement(k.a,{tip:u,spinning:p,size:"large"},n.a.createElement("div",null,n.a.createElement("div",{style:{zIndex:2,bottom:0,left:0,right:0,position:"fixed",width:"100%",height:60,backgroundColor:"lightgray"}},n.a.createElement("div",null,n.a.createElement(E.a,{danger:!0,type:"primary",disabled:h,onClick:function(t){e.setState({productTransferPrintShow:!0,filterDropdownVisible4Transfer:!1})},style:{width:210,height:30,marginLeft:50,marginTop:10}},"---\u6253\u5370\u51fa\u8d27\u5355---"),n.a.createElement(aa.a,{title:"\u662f\u5426\u786e\u5b9a\u51fa\u8d27\uff1f",onConfirm:this.handleProductTransferConfirm,disabled:h},n.a.createElement(E.a,{danger:!0,type:"primary",disabled:h,style:{width:210,height:30,marginLeft:50,marginTop:10}},g)))),n.a.createElement("div",{style:{marginLeft:10,marginTop:10}},n.a.createElement(E.a,{type:"primary",style:{width:80,height:40},onClick:function(t){return e.handleBack()}},n.a.createElement("div",{style:{fontSize:16}},"\u540e\u9000")),n.a.createElement("span",{style:{marginLeft:10}},"\u5f2f\u9ea6(\u603b\u90e8)->"),n.a.createElement("span",{style:{marginLeft:0,marginRight:10,color:"red"}},m.name),n.a.createElement(E.a,{type:"primary",danger:!0,style:{width:60,height:30},onClick:function(){e.handleAddProduct()}},n.a.createElement("div",{style:{fontSize:8}},"+\u5546\u54c1"))),n.a.createElement(Ge.a,{style:{marginTop:10,marginLeft:10,marginRight:10},size:"small",components:b,rowClassName:function(){return"editable-row"},dataSource:a,columns:v,pagination:!1,bordered:!0,scroll:{y:160,scrollToFirstRowOnChange:!0},footer:function(){return n.a.createElement("div",{style:{textAlign:"center",height:15,fontSize:12}},"\u603b\u5171 ".concat(a.length," \u9879"))}}))),n.a.createElement("div",null,n.a.createElement(Ge.a,{style:{height:480,backgroundColor:"transparent",marginLeft:10,marginRight:10},size:"small",loading:{spinning:i,tip:o},dataSource:r,columns:A,bordered:!0,pagination:!1,scroll:{y:295,scrollToFirstRowOnChange:!0},footer:function(){return n.a.createElement("div",{style:{textAlign:"center",height:15,fontSize:15}},"\u603b\u5171 ".concat(r.length," \u9879"))}})),n.a.createElement("div",null,n.a.createElement(Ne.a,{width:1200,centered:!0,keyboard:!0,maskClosable:!1,closable:!1,title:n.a.createElement("div",null,n.a.createElement("span",null,"\u6dfb\u52a0\u5546\u54c1"),n.a.createElement(la,{style:{width:240,marginLeft:20},ref:function(t){!e._searchInput4AddProduct&&t&&(t&&t.focus(),e._searchInput4AddProduct=t)},enterButton:!0,placeholder:"-\u8fd4\u56de",onSearch:function(t,a){return e.handleAddProductOnSearch(t,a)},onChange:function(t){if(""!==t.target.value){var a=t.target.value.substring(t.target.value.length-1);if("-"===a)return void e.handleAddProductionModalonOk();if("+"===a||"*"===a||"/"===a||"."===a)return void new Audio(ca.a).play()}e._searchText4AddProduct4onChange=t.target.value,e._lastSearchText4AddProduct4onChange=t.target.value}})),visible:s,onOk:this.handleAddProductionModalonOk,okText:"\u5b8c\u6bd5",cancelButtonProps:{hidden:!0}},n.a.createElement(Ge.a,{size:"small",rowSelection:S,loading:l,dataSource:c,components:T,columns:x,bordered:!0,pagination:!1,scroll:{y:400,scrollToFirstRowOnChange:!0}}))),n.a.createElement("div",null,n.a.createElement(Ne.a,{width:1e3,centered:!0,keyboard:!0,maskClosable:!1,maskStyle:{backgroundColor:"white"},title:n.a.createElement("div",{style:{height:0}}),closable:!1,visible:f,footer:n.a.createElement("div",{style:{marginRight:120,marginBottom:20,marginTop:20}},n.a.createElement(E.a,{key:"back",onClick:function(t){return e.setState({productTransferPrintShow:!1,filterDropdownVisible4Transfer:!0})}},"\u53d6\u6d88"),",",n.a.createElement(E.a,{key:"submit",type:"primary",danger:!0,onClick:function(t){return e.productPrintDirectAndBack()}},"\u76f4\u63a5\u6253\u5370"),",",n.a.createElement(E.a,{key:"link",type:"primary",onClick:function(t){return e.productPrintPreprew()}},"\u6253\u5370\u9884\u89c8"))},n.a.createElement("div",{id:"printDiv",style:{width:"100%",height:500,borderStyle:"dotted"}},n.a.createElement("div",{style:{marginLeft:10,marginTop:10,marginRight:10,backgroundColor:"transparent"}},n.a.createElement("div",null,n.a.createElement("span",{style:{fontSize:14}},"\u95e8\u5e97\u51fa\u8d27\u5355"),n.a.createElement("span",{style:{marginLeft:10,fontSize:14,backgroundColor:"green",paddingLeft:12,paddingRight:12,color:"white"}},"\u5171".concat(r.length,"\u9879"))),n.a.createElement("div",null,n.a.createElement("span",null,"\u6536\u8d27\u95e8\u5e97\uff1a"),n.a.createElement("span",{style:{fontSize:24,fontWeight:"bold"}},m.name),n.a.createElement("span",{style:{marginLeft:100}},"\u51fa\u5355\u65f6\u95f4\uff1a"),n.a.createElement("span",null,w)),n.a.createElement("div",null,n.a.createElement("table",{border:"1",cellSpacing:"0",style:{float:"left",borderCollapse:"collapse"}},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{style:{textAlign:"center",fontWeight:"bold"}},"\u5e8f"),n.a.createElement("th",{style:{textAlign:"center",fontWeight:"bold"}},"\u6761\u7801"),n.a.createElement("th",{style:{textAlign:"center",fontWeight:"bold"}},"\u54c1\u540d"),n.a.createElement("th",{style:{textAlign:"center",fontWeight:"bold",fontSize:12}},"\u8ba2\u8d27\u91cf"),n.a.createElement("th",{style:{textAlign:"center",fontWeight:"bold",fontSize:12}},"\u914d\u8d27\u91cf"),n.a.createElement("th",{style:{textAlign:"center",fontWeight:"bold"}},"\u5206\u7c7b"),n.a.createElement("th",{style:{textAlign:"center",fontWeight:"bold"}},"\u89c4\u683c"),n.a.createElement("th",{style:{textAlign:"center",fontWeight:"bold",fontSize:12}},"\u9500\u552e\u4ef7"),n.a.createElement("th",{style:{textAlign:"center",fontWeight:"bold",fontSize:12}},"\u52a0\u76df\u4ef7"),n.a.createElement("th",{style:{textAlign:"center",fontWeight:"bold",fontSize:12}},"\u8fdb\u8d27\u603b\u4ef7"),n.a.createElement("th",{style:{textAlign:"center",fontWeight:"bold"}},"\u5907\u6ce8"))),n.a.createElement("tbody",null,r.map((function(e){var t=r.indexOf(e)+1,a=0!==e.transferNumber&&e.transferNumber===e.orderNumber?"transparent":"yellow";return n.a.createElement("tr",{key:t},n.a.createElement("th",{key:"1",style:{height:22,width:20,textAlign:"center",fontSize:16}},t),n.a.createElement("th",{key:"2",style:{height:22,width:120,textAlign:"center",fontSize:16}},e.barcode),n.a.createElement("th",{key:"3",style:{height:22,width:160,textAlign:"center",fontSize:16}},e.orderProductName),n.a.createElement("th",{key:"4",style:{height:22,width:30,textAlign:"center",fontSize:16}},e.orderNumber),n.a.createElement("th",{key:"5",style:{backgroundColor:a,height:22,width:30,textAlign:"center",fontSize:16}},e.transferNumber),n.a.createElement("th",{key:"6",style:{height:22,width:140,textAlign:"center",fontSize:16}},e.categoryName),n.a.createElement("th",{key:"7",style:{height:22,width:140,textAlign:"center",fontSize:16}},e.specification),n.a.createElement("th",{key:"8",style:{height:22,width:40,textAlign:"center",fontSize:16}},e.price),n.a.createElement("th",{key:"9",style:{height:22,width:40,textAlign:"center",fontSize:16}},e.partnerPrice),n.a.createElement("th",{key:"10",style:{height:22,width:40,textAlign:"center",fontSize:16}},e.partnerPriceTotal),n.a.createElement("th",{key:"11",style:{height:22,width:"*",textAlign:"center",fontSize:16}}))})),n.a.createElement("tr",{key:"total"},n.a.createElement("th",{key:"1",colSpan:"9",style:{height:24,textAlign:"center",fontSize:16}},"\u603b\u8ba1"),n.a.createElement("th",{key:"2",style:{height:24,textAlign:"center",fontSize:16}},this.makePartnerPriceTotal().toFixed(2)))))))))))}}]),a}(n.a.Component),Ea=a(202),va=function(e){Object(u.a)(t,e);Object(p.a)(t);function t(e){return Object(d.a)(this,t),Object(Ea.a)(void 0)}return Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,"\u738b\u8363\u6167")}}]),t}(n.a.Component),ka=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).componentDidMount=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),r._a=1,r}return Object(m.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{style:{marginLeft:20,marginTop:20}},n.a.createElement("div",null,"\u5546\u54c1\u8d44\u6599"),n.a.createElement("div",null,n.a.createElement(E.a,null,"\u65b0\u589e\u5546\u54c1"),n.a.createElement(E.a,null,"\u65b0\u589e\u751f\u65e5\u86cb\u7cd5")))}}]),a}(n.a.Component),Ta=a(268),xa=a.n(Ta),Sa=a(236),wa=a(269),Aa=(a(410),a(271)),Ia=a.n(Aa),Da=a(204),Oa=a(282),Ca=a(283),La=a(284),Pa=a(446),Na=a(73),za=a(459),ja=a(468),Ra=a(469),Ba=a(210),Ma=a(470),_a=a(471),Ya=a(454),Qa=a(131),Fa=a(452),Ha=a(447),Ua=a(154),Wa=a(457),Ja=a(456),Ka=Ya.a.Panel,Va=Qa.a.Group,qa=f.a.TextArea,Ga=[{categoryId:"1634302403310226908",categoryName:"\u5e38\u89c4\u6b3e\u86cb\u7cd5",description:"\u5e73\u51e1\u4eba\u751f\u3001\u5feb\u4e50\u751f\u6d3b",thumbnails:["/image/\u751f\u65e5\u86cb\u7cd5/\u86cb\u7cd53.0/\u590f\u6d1b\u7279-\u65b9\u56fe.jpg","/image/\u751f\u65e5\u86cb\u7cd5/\u86cb\u7cd53.0/\u5c0f\u65f6\u5149-\u65b9\u56fe.jpg","/image/\u751f\u65e5\u86cb\u7cd5/\u86cb\u7cd53.0/\u8292\u8292\u7269\u8bed-\u65b9\u56fe.jpg"],productItems:{}},{categoryId:"1634302334442115588",categoryName:"\u5973\u5b69\u6b3e\u86cb\u7cd5",description:"\u5c0f\u5c0f\u516c\u4e3b\u3001\u6c38\u8fdc\u5f00\u5fc3",thumbnails:["/image/\u751f\u65e5\u86cb\u7cd5/\u86cb\u7cd53.0/\u65cb\u8f6c\u6728\u9a6c-\u5973\u5b69-\u65b9\u56fe.jpg","/image/\u751f\u65e5\u86cb\u7cd5/\u86cb\u7cd53.0/\u76ae\u5361\u4e18-\u65b9\u56fe.jpg","/image/\u751f\u65e5\u86cb\u7cd5/\u86cb\u7cd53.0/\u767d\u96ea\u516c\u4e3b-\u65b9\u56fe.jpg"],productItems:{}},{categoryId:"1649820515687346997",categoryName:"\u7537\u5b69\u6b3e\u86cb\u7cd5",description:"\u5c0f\u7537\u5b50\u6c49\u3001\u9876\u5929\u7acb\u5730",thumbnails:["/image/\u751f\u65e5\u86cb\u7cd5/\u86cb\u7cd53.0/\u4e50\u9ad8\u5e7b\u5f71\u5fcd\u8005-\u65b9\u56fe.jpg","/image/\u751f\u65e5\u86cb\u7cd5/\u86cb\u7cd53.0/\u5c0f\u5c0f\u822a\u5929\u5458-\u65b9\u56fe.jpg","/image/\u751f\u65e5\u86cb\u7cd5/\u86cb\u7cd53.0/\u5965\u7279\u66fc\u6253\u602a\u517d-\u65b9\u56fe.jpg"],productItems:{}},{categoryId:"1634302367129657476",categoryName:"\u5973\u795e\u6b3e\u86cb\u7cd5",description:"\u6211\u7684\u5973\u795e\u3001\u7231\u4f60\u6c38\u8fdc",thumbnails:["/image/\u751f\u65e5\u86cb\u7cd5/\u86cb\u7cd53.0/\u6e10\u53d8\u7231\u5fc3-\u65b9\u56fe.jpg","/image/\u751f\u65e5\u86cb\u7cd5/\u86cb\u7cd53.0/\u738b\u51a0-\u65b9\u56fe.jpg","/image/\u751f\u65e5\u86cb\u7cd5/\u86cb\u7cd53.0/\u7eaf\u6d01\u7231\u604b-\u65b9\u56fe.jpg"],productItems:{}},{categoryId:"1634302388959605558",categoryName:"\u7537\u795e\u6b3e\u86cb\u7cd5",description:"\u516c\u91cc\u4e4b\u5185\u3001\u5c5e\u4f60\u6700\u5e05",thumbnails:["/image/\u751f\u65e5\u86cb\u7cd5/\u86cb\u7cd53.0/\u5965\u5229\u5965\u5148\u751f-\u65b9\u56fe.jpg","/image/\u751f\u65e5\u86cb\u7cd5/\u86cb\u7cd53.0/\u793c\u9047-\u65b9\u56fe.jpg","/image/\u751f\u65e5\u86cb\u7cd5/\u86cb\u7cd53.0/\u4e00\u5bb6\u4e4b\u4e3b-\u65b9\u56fe.jpg"],productItems:{}},{categoryId:"1634302419875701981",categoryName:"\u60c5\u4fa3\u6b3e\u86cb\u7cd5",description:"\u4e24\u9897\u7ea2\u5fc3\u3001\u76f8\u77e5\u76f8\u4f34",thumbnails:["/image/\u751f\u65e5\u86cb\u7cd5/\u86cb\u7cd53.0/\u5c0f\u7231\u5fc3-\u65b9\u56fe.jpg","/image/\u751f\u65e5\u86cb\u7cd5/\u86cb\u7cd53.0/\u5c0f\u718aLOVE-\u65b9\u56fe.jpg","/image/\u751f\u65e5\u86cb\u7cd5/\u86cb\u7cd53.0/\u4f59\u751f\u662f\u4f60-\u65b9\u56fe.jpg"],productItems:{}},{categoryId:"1634302432122635916",categoryName:"\u795d\u5bff\u6b3e\u86cb\u7cd5",description:"\u798f\u5bff\u7ef5\u7ef5\u3001\u5982\u6d77\u6ed4\u6ed4",thumbnails:["/image/\u751f\u65e5\u86cb\u7cd5/\u86cb\u7cd53.0/\u5927\u5bff\u5409\u7965-\u65b9\u56fe.jpg","/image/\u751f\u65e5\u86cb\u7cd5/\u86cb\u7cd53.0/\u4e07\u5bff\u65e0\u7586-\u7537-\u65b9\u56fe.jpg","/image/\u751f\u65e5\u86cb\u7cd5/\u86cb\u7cd53.0/\u4e30\u76c8\u4e00\u751f-\u65b9\u56fe.jpg"],productItems:{}},{categoryId:"1634302446119593980",categoryName:"\u5e86\u5178\u6d3e\u5bf9\u6b3e\u86cb\u7cd5",description:"\u5171\u540c\u4e3e\u676f\u3001\u5171\u656c\u672a\u6765",thumbnails:["/image/\u751f\u65e5\u86cb\u7cd5/\u86cb\u7cd53.0/\u732b\u5927\u5409-\u65b9\u56fe.jpg","/image/\u751f\u65e5\u86cb\u7cd5/\u86cb\u7cd53.0/\u62db\u8d22\u8fdb\u5b9d-\u65b9\u56fe.jpg","/image/\u751f\u65e5\u86cb\u7cd5/\u86cb\u7cd53.0/\u4e54\u8fc1\u732b-\u65b9\u56fe.jpg"],productItems:{}},{categoryId:"1657848010512718759",categoryName:"\u7ed3\u5a5a\u8ba2\u5a5a\u7eaa\u5ff5\u86cb\u7cd5",description:"\u5148\u751f/\u5973\u58eb\u3001\u5468\u5e74\u5feb\u4e50",thumbnails:["/image/\u751f\u65e5\u86cb\u7cd5/\u86cb\u7cd53.0/\u4f59\u751f\u662f\u4f60-\u65b9\u56fe.jpg","/image/\u751f\u65e5\u86cb\u7cd5/\u86cb\u7cd53.0/\u5468\u5e74\u7eaa\u5ff5-\u65b9\u56fe.jpg","/image/\u751f\u65e5\u86cb\u7cd5/\u86cb\u7cd53.0/\u53cc\u559c\u8ba2\u5a5a-\u65b9\u56fe.jpg"],productItems:{}},{categoryId:"1667997464683559851",categoryName:"\u641e\u602a\u6b3e\u86cb\u7cd5",description:"\u4eca\u751f\u53ea\u5bf9\u4f60\u641e\u602a",thumbnails:["/image/\u751f\u65e5\u86cb\u7cd5/\u86cb\u7cd53.0/\u8721\u7b14\u5c0f\u65b0-\u65b9\u56fe.jpg"],productItems:{}}],Za=[{label:"\u81ea\u5df1\u63d0\u8d27",value:"\u81ea\u5df1\u63d0\u8d27"},{label:"\u5546\u5bb6\u914d\u9001",value:"\u5546\u5bb6\u914d\u9001"}],Xa=[{label:"\u6559\u80b2\u5c40\u5e97",value:"\u6559\u80b2\u5c40\u5e97"},{label:"\u6c5f\u6ee8\u5e97",value:"\u6c5f\u6ee8\u5e97"},{label:"\u6c64\u6cc9\u4e16\u7eaa\u5e97",value:"\u6c64\u6cc9\u4e16\u7eaa\u5e97"},{label:"\u65e7\u9547\u5e97",value:"\u65e7\u9547\u5e97"},{label:"\u72ee\u5934\u5e97",value:"\u72ee\u5934\u5e97"},{label:"\u76d8\u9640\u5e97",value:"\u76d8\u9640\u5e97"}],$a=[{label:n.a.createElement("div",{style:{marginBottom:6}},n.a.createElement(Fa.a,{style:{width:54,height:54,borderRadius:27,border:"1px dotted #00A2A5"},preview:!1,src:"/image/\u751f\u65e5\u86cb\u7cd5/\u5939\u5fc3/\u5e03\u857e\u5e03\u4e01.jpg"}),n.a.createElement("div",{style:{width:54,textAlign:"center"}},"\u5e03\u857e\u5e03\u4e01")),value:"\u5e03\u857e\u5e03\u4e01"},{label:n.a.createElement("div",{style:{marginBottom:6}},n.a.createElement(Fa.a,{style:{width:54,height:54,borderRadius:27,border:"1px dotted #00A2A5"},preview:!1,src:"/image/\u751f\u65e5\u86cb\u7cd5/\u5939\u5fc3/\u65b0\u9c9c\u8292\u679c.jpg"}),n.a.createElement("div",{style:{width:54,textAlign:"center"}},"\u65b0\u9c9c\u8292\u679c")),value:"\u65b0\u9c9c\u8292\u679c"},{label:n.a.createElement("div",{style:{marginBottom:6}},n.a.createElement(Fa.a,{style:{width:54,height:54,borderRadius:27,border:"1px dotted #00A2A5"},preview:!1,src:"/image/\u751f\u65e5\u86cb\u7cd5/\u5939\u5fc3/\u65b0\u9c9c\u706b\u9f99\u679c.jpg"}),n.a.createElement("div",{style:{width:54,textAlign:"center"}},"\u65b0\u9c9c\u706b\u9f99\u679c")),value:"\u65b0\u9c9c\u706b\u9f99\u679c"},{label:n.a.createElement("div",{style:{marginBottom:6}},n.a.createElement(Fa.a,{style:{width:54,height:54,borderRadius:27,border:"1px dotted #00A2A5"},preview:!1,src:"/image/\u751f\u65e5\u86cb\u7cd5/\u5939\u5fc3/\u73b0\u84b8\u828b\u6ce5.jpg"}),n.a.createElement("div",{style:{width:54,textAlign:"center"}},"\u73b0\u84b8\u828b\u6ce5")),value:"\u73b0\u84b8\u828b\u6ce5"},{label:n.a.createElement("div",{style:{marginBottom:6}},n.a.createElement(Fa.a,{style:{width:54,height:54,borderRadius:27,border:"1px dotted #00A2A5"},preview:!1,src:"/image/\u751f\u65e5\u86cb\u7cd5/\u5939\u5fc3/\u63d0\u5b50\u5e72.jpg"}),n.a.createElement("div",{style:{width:54,textAlign:"center"}},"\u63d0\u5b50\u5e72")),value:"\u63d0\u5b50\u5e72"},{label:n.a.createElement("div",{style:{marginBottom:6}},n.a.createElement(Fa.a,{style:{width:54,height:54,borderRadius:27,border:"1px dotted #00A2A5"},preview:!1,src:"/image/\u751f\u65e5\u86cb\u7cd5/\u5939\u5fc3/\u5965\u5229\u5965\u997c\u5e72\u788e.jpg"}),n.a.createElement("div",{style:{width:54,textAlign:"center"}},"\u5965\u5229\u5965\u997c\u5e72\u788e")),value:"\u5965\u5229\u5965\u997c\u5e72\u788e"},{label:n.a.createElement("div",{style:{marginBottom:6}},n.a.createElement(Fa.a,{style:{width:54,height:54,borderRadius:27,border:"1px dotted #00A2A5"},preview:!1,src:"/image/\u751f\u65e5\u86cb\u7cd5/\u5939\u5fc3/\u9ed1\u7cd6\u6676\u7403.jpg"}),n.a.createElement("div",{style:{width:54,textAlign:"center"}},"\u9ed1\u7cd6\u6676\u7403")),value:"\u9ed1\u7cd6\u6676\u7403"},{label:n.a.createElement("div",{style:{marginBottom:6}},n.a.createElement(Fa.a,{style:{width:54,height:54,borderRadius:27,border:"1px dotted #00A2A5"},preview:!1,src:"/image/\u751f\u65e5\u86cb\u7cd5/\u5939\u5fc3/\u5de7\u514b\u529b\u9ea6\u8106.jpg"}),n.a.createElement("div",{style:{width:54,textAlign:"center"}},"\u5de7\u514b\u529b\u9ea6\u8106")),value:"\u5de7\u514b\u529b\u9ea6\u8106"}],er=[{label:"\u7231\u5fc3\u8721\u70db",value:"\u7231\u5fc3\u8721\u70db"},{label:"\u4e94\u661f\u8721\u70db",value:"\u4e94\u661f\u8721\u70db"},{label:"\u6570\u5b57\u8721\u70db",value:"\u6570\u5b57\u8721\u70db"},{label:"\u66f2\u7ebf\u8721\u70db",value:"\u66f2\u7ebf\u8721\u70db"},{label:"\u8377\u82b1\u25cf\u97f3\u4e50\u8721\u70db",value:"\u8377\u82b1\u25cf\u97f3\u4e50\u8721\u70db"}],tr=[{label:n.a.createElement("div",{style:{marginBottom:6}},n.a.createElement(Fa.a,{style:{width:70,height:70,borderRadius:10,border:"1px dotted #00A2A5"},preview:!1,src:"/image/\u751f\u65e5\u86cb\u7cd5/\u8721\u70db/\u65e0\u9700\u706b\u67f4.jpg"}),n.a.createElement("div",{style:{width:70,textAlign:"center"}},"\u4e0d\u9700\u8981\u706b\u67f4")),value:"\u4e0d\u9700\u8981\u706b\u67f4"},{label:n.a.createElement("div",{style:{marginBottom:6}},n.a.createElement(Fa.a,{style:{width:70,height:70,borderRadius:10,border:"1px dotted #00A2A5"},preview:!1,src:"/image/\u751f\u65e5\u86cb\u7cd5/\u8721\u70db/\u706b\u67f4\u76d2.jpg"}),n.a.createElement("div",{style:{width:70,textAlign:"center"}},"\u9700\u8981\u706b\u67f4"),n.a.createElement("div",{style:{width:70,textAlign:"center"}},"\u4e00\u76d2")),value:"\u9700\u8981\u706b\u67f4"}],ar=[{label:n.a.createElement("div",{style:{marginBottom:6}},n.a.createElement(Fa.a,{style:{width:70,height:70,borderRadius:10,border:"1px dotted #00A2A5"},preview:!1,src:"/image/\u751f\u65e5\u86cb\u7cd5/\u5e3d\u5b50/\u65e0\u9700\u751f\u65e5\u5e3d.jpg"}),n.a.createElement("div",{style:{width:70,textAlign:"center"}},"\u65e0\u9700\u751f\u65e5\u5e3d")),value:"\u65e0\u9700\u751f\u65e5\u5e3d"},{label:n.a.createElement("div",{style:{marginBottom:6}},n.a.createElement(Fa.a,{style:{width:70,height:70,borderRadius:10,border:"1px dotted #00A2A5"},preview:!1,src:"/image/\u751f\u65e5\u86cb\u7cd5/\u5e3d\u5b50/\u91d1\u5361\u7687\u51a0\u5e3d.jpg"}),n.a.createElement("div",{style:{width:70,textAlign:"center"}},"\u91d1\u5361\u7687\u51a0\u5e3d"),n.a.createElement("div",{style:{width:70,textAlign:"center"}},"\u4e00\u9876")),value:"\u91d1\u5361\u7687\u51a0\u5e3d"},{label:n.a.createElement("div",{style:{marginBottom:6}},n.a.createElement(Fa.a,{style:{width:70,height:70,borderRadius:10,border:"1px dotted #00A2A5"},preview:!1,src:"/image/\u751f\u65e5\u86cb\u7cd5/\u5e3d\u5b50/\u7ea2\u5361\u7687\u51a0\u5e3d.jpg"}),n.a.createElement("div",{style:{width:70,textAlign:"center"}},"\u7ea2\u5361\u7687\u51a0\u5e3d"),n.a.createElement("div",{style:{width:70,textAlign:"center"}},"\u4e00\u9876")),value:"\u7ea2\u5361\u7687\u51a0\u5e3d"},{label:n.a.createElement("div",{style:{marginBottom:6}},n.a.createElement(Fa.a,{style:{width:70,height:70,borderRadius:10,border:"1px dotted #00A2A5"},preview:!1,src:"/image/\u751f\u65e5\u86cb\u7cd5/\u5e3d\u5b50/\u91d1\u5361\u78e8\u7802\u5706\u9525\u5e3d.jpg"}),n.a.createElement("div",{style:{width:70,textAlign:"center"}},"\u91d1\u5361\u78e8\u7802\u5706\u9525\u5e3d"),n.a.createElement("div",{style:{width:70,textAlign:"center"}},"\u4e00\u9876")),value:"\u91d1\u5361\u78e8\u7802\u5706\u9525\u5e3d"}],rr={"5\u5bf8":"5","6\u5bf8":"10","8\u5bf8":"15","10\u5bf8":"20","12\u5bf8":"25","14\u5bf8":"30"},nr={"5\u5bf8":"\u76f4\u5f8412.5\u5398\u7c73 | 1-2\u4eba","6\u5bf8":"\u76f4\u5f8415\u5398\u7c73 | 3-5\u4eba","8\u5bf8":"\u76f4\u5f8420\u5398\u7c73 | 6-9\u4eba","10\u5bf8":"\u76f4\u5f8425\u5398\u7c73 | 10-15\u4eba","12\u5bf8":"\u76f4\u5f8430\u5398\u7c73 | 16-20\u4eba","14\u5bf8":"\u76f4\u5f8446\u5398\u7c73 | 21-30\u4eba"},ir=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).componentDidMount=Object(s.a)(l.a.mark((function e(){var t,a,n,i,o,c,s,d,m,u,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.props.query,a=t&&t.get("debug"),!(r._birthdayCakesAll.length<=0)){e.next=6;break}return e.next=5,q();case 5:r._birthdayCakesAll=e.sent;case 6:return e.next=8,V();case 8:for(n=e.sent,i=n.recommendTitle,o=n.recommendItems,c={},s=0;s<o.length;++s)for(d=o[s],m=Object.keys(r._birthdayCakesAll),u=0;u<m.length;++u)p=m[u],d===p&&(c[p]=r._birthdayCakesAll[p]);r.setState({birthdayCakesRecommendTitle:i,birthdayCakesRecommendItems:c,birthdayCakesRecommendLoading:!1,debug:a}),r.updateWeixinConfig();case 15:case"end":return e.stop()}}),e)}))),r.handleCollapseOnChange=function(){var e=Object(s.a)(l.a.mark((function e(t){var a,n,i,o,c,s,d,m,u,p,f,g,h,y,b,E,v,k,T,x,S,w,A,I,D,O,C,L,P,N,z,j,R;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:for(a=Object(Xt.a)(t),n=0;n<r._lastKeys.length;++n)i=r._lastKeys[n],-1!==(o=a.indexOf(i))&&a.splice(o,1);for(c=Object(Xt.a)(r._lastKeys),s=0;s<t.length;++s)d=t[s],-1!==(m=c.indexOf(d))&&c.splice(m,1);if(r._lastKeys=Object(Xt.a)(t),u=r.state.birthdayCakeCategorys,p=Object(Xt.a)(u),1!==a.length){e.next=65;break}e.prev=10,f=a[0],h=0;case 13:if(!(h<p.length)){e.next=21;break}if((y=p[h]).categoryId!==f){e.next=18;break}return g=y,e.abrupt("break",21);case 18:++h,e.next=13;break;case 21:if(!g){e.next=60;break}if(g.opened=!0,r.setState({birthdayCakeCategorys:p}),!(Object.keys(g.productItems).length<=0)||g.spinning){e.next=60;break}return g.spinning=!0,b=se()(),E=b.endOf("day").format("YYYY.MM.DD HH:mm:ss"),v=b.subtract(180,"days").startOf("day").format("YYYY.MM.DD HH:mm:ss"),e.next=31,K(f,"","",v,E,"barcode","true");case 31:if(!(0===(k=e.sent).errCode&&k.list.length>0)){e.next=59;break}T=k.list,x=[],S=0;case 36:if(!(S<T.length)){e.next=54;break}w=T[S],A=w.productName,I=w.saleNumber,D=-1,O=0;case 42:if(!(O<x.length)){e.next=50;break}if(x[O].productName!==A){e.next=47;break}return D=O,e.abrupt("break",50);case 47:++O,e.next=42;break;case 50:-1===D?((C={}).productName=A,C.saleNumber=I,C.key=x.length+1,x.push(C)):(L=x[D]).saleNumber=L.saleNumber+I;case 51:++S,e.next=36;break;case 54:x=x.sort((function(e,t){return t.saleNumber-e.saleNumber})),P={},x.forEach((function(e){var t={};t.saleNumber=e.saleNumber,t["\u4ef7\u683c"]={},t["\u63cf\u8ff0"]="",t["\u53ef\u9009\u5939\u5fc3"]=!0,r._birthdayCakesAll[e.productName]&&(r._birthdayCakesAll[e.productName]["\u4ef7\u683c"]&&(t["\u4ef7\u683c"]=r._birthdayCakesAll[e.productName]["\u4ef7\u683c"]),r._birthdayCakesAll[e.productName]["\u63cf\u8ff0"]&&(t["\u63cf\u8ff0"]=r._birthdayCakesAll[e.productName]["\u63cf\u8ff0"]),void 0!==r._birthdayCakesAll[e.productName]["\u53ef\u9009\u5939\u5fc3"]&&(t["\u53ef\u9009\u5939\u5fc3"]=r._birthdayCakesAll[e.productName]["\u53ef\u9009\u5939\u5fc3"]),P[e.productName]=t)})),g.productItems=P,g.spinning=!1;case 59:r.setState({birthdayCakeCategorys:p});case 60:e.next=65;break;case 62:e.prev=62,e.t0=e.catch(10),console.log(e.t0);case 65:if(1!==c.length){e.next=77;break}N=c[0],j=0;case 68:if(!(j<p.length)){e.next=76;break}if((R=p[j]).categoryId!==N){e.next=73;break}return z=R,e.abrupt("break",76);case 73:++j,e.next=68;break;case 76:z&&(z.opened=!1,r.setState({birthdayCakeCategorys:p}));case 77:case"end":return e.stop()}}),e,null,[[10,62]])})));return function(t){return e.apply(this,arguments)}}(),r.updateWeixinConfig=Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!==window.navigator.userAgent.toLowerCase().indexOf("micromessenger")){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,$(document.URL.split("#")[0]);case 5:if(!(t=e.sent)){e.next=12;break}if(t.appId){e.next=9;break}return e.abrupt("return");case 9:window.wx.config({debug:!1,appId:t.appId,timestamp:t.timestamp,nonceStr:t.nonceStr,signature:t.signature,jsApiList:["updateAppMessageShareData","updateTimelineShareData","chooseImage","getLocalImgData"]}),window.wx.ready(Object(s.a)(l.a.mark((function e(){var t,a,r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:t=e.sent,a=t.title,r=t.desc,n=t.imgUrl,window.wx.updateAppMessageShareData({title:a,desc:r,link:document.URL,imgUrl:n,success:function(){},fail:function(e){}}),window.wx.updateTimelineShareData({title:a,link:document.URL,imgUrl:n,success:function(){},fail:function(){}});case 8:case"end":return e.stop()}}),e)})))),window.wx.error((function(e){console.log("window.wx error res = "+JSON.stringify(e))}));case 12:case"end":return e.stop()}}),e)}))),r.handleOrderNowClick=function(e,t,a,n,i){r.setState({orderCakeInfoModalVisiable:!0,orderCakePrices:n,cakeName:t,cakeDescription:a,cakeImage:0===e?"/image/\u751f\u65e5\u86cb\u7cd5/\u86cb\u7cd53.0/"+t+"-\u65b9\u56fe.jpg":"\u79c1\u4eba\u8ba2\u5236\u86cb\u7cd5",creamType:"",cakeSize:"",cakeSizeExtra:"",cakePrice:"--",canSelectCakeFilling:i,cakeFillings:[],candleType:er[0].value,number4candle:"",cakePlateNumber:"--",pickUpDay:"",pickUpTime:"",pickUpType:"",responseShop:"",deliverAddress:"",pickUpName:"",phoneNumber:"",remarks:"",makingTime:""}),document.documentElement.style.overflow="hidden"},r.handleOrderCakeInfoModalOk=function(){var e=r.state,t=e.cakeName,a=e.cakeDescription,n=e.creamType,i=e.cakeImage,o=e.cakeSize,c=e.cakeSizeExtra,d=e.cakePrice,m=e.canSelectCakeFilling,u=e.cakeFillings,p=e.candleType,f=e.ignitorType,g=e.hatType,y=e.number4candle,b=e.cakePlateNumber,E=e.pickUpDay,v=e.pickUpTime,k=e.pickUpType,T=e.responseShop,x=e.deliverAddress,S=e.pickUpName,w=e.phoneNumber,A=e.remarks;if(console.log("\u540d\u5b57\uff1a"+t),console.log("\u63cf\u8ff0\uff1a"+a),console.log("\u56fe\u7247\uff1a"+i),console.log("\u5976\u6cb9\uff1a"+n),console.log("\u5c3a\u5bf8\uff1a"+o),console.log("\u7ec4\u5408\uff1a"+c),console.log("\u4ef7\u683c\uff1a"+d),console.log("\u53ef\u9009\u5939\u5fc3\uff1a"+m),console.log("\u5939\u5fc3\uff1a"+u),console.log("\u8721\u70db\uff1a"+p),console.log("\u706b\u67f4\uff1a"+f),console.log("\u5e3d\u5b50\uff1a"+g),console.log("\u6570\u5b57\uff1a"+y),console.log("\u9910\u76d8\uff1a"+b),console.log("\u65e5\u671f\uff1a"+E),console.log("\u65f6\u95f4\uff1a"+v),console.log("\u65b9\u5f0f\uff1a"+k),console.log("\u95e8\u5e97\uff1a"+T),console.log("\u5730\u5740\uff1a"+x),console.log("\u59d3\u540d\uff1a"+S),console.log("\u624b\u673a\uff1a"+w),console.log("\u5907\u6ce8\uff1a"+A),"\u79c1\u4eba\u8ba2\u5236\u86cb\u7cd5"!==i)if(""===n||""===o||0===u.length&&m||""===p||""===b||""===E||""===v||""===k||""===S||""===w)h.b.warning("\u8bf7\u586b\u5199\u5fc5\u586b\u9879\uff01");else if("\u7ec4\u5408"!==o||""!==c){if(k){if(""===T)return void h.b.warning("\u8bf7\u586b\u5199\u5fc5\u586b\u9879\uff01");if(k===Za[1].value&&""===x)return void h.b.warning("\u8bf7\u586b\u5199\u5fc5\u586b\u9879\uff01");if(p===er[2].value&&""===y)return void h.b.warning("\u8bf7\u586b\u5199\u5fc5\u586b\u9879\uff01")}r.setState({orderCakeInfoModalVisiable:!1,makingTime:se()().format("YYYY.MM.DD ddd a HH:mm"),image4QRCode:""},(function(){setTimeout((function(){r.setState({imageCapturing:!0},Object(s.a)(l.a.mark((function e(){var i,m,I,D;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r._theDiv4Capture){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ae(t,a,n,o,c,d,u,p,f,g,y,b,E?E.format("YYYY-MM-DD ddd"):"",v?v.format(" a HH:mm"):"",k,T,x,S,w,A);case 4:if(i=e.sent,console.log(i),0===i.errCode){e.next=9;break}return h.b.error("\u8ba2\u5355\u4fdd\u5b58\u5931\u8d25"),e.abrupt("return");case 9:return m=Ze()+"/birthdayCakeOrder?_id=".concat(i._id),I={errorCorrectionLevel:"L",type:"image/png",quality:.5,margin:1,color:{dark:"#E5E4E2",light:"#00A2A5"}},e.next=13,Ia.a.toDataURL(m,I);case 13:D=e.sent,r.setState({image4QRCode:D},Object(s.a)(l.a.mark((function e(){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xa()(r._theDiv4Capture);case 2:a=e.sent,n=a.toDataURL("image/png"),r.setState({orderImageSrc:n,imageCapturing:!1},(function(){r.setState({orderImageModalVisiable:!0},Object(s.a)(l.a.mark((function e(){var a,r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.documentElement.style.overflow="hidden","\u6709\u987e\u5ba2\u751f\u6210\u86cb\u7cd5\u8ba2\u8d2d\u5355\u4e86",a="\u300a"+t+"\u300b",r=E.format("YYYY-MM-DD ddd")+v.format(" a HH:mm"),e.next=6,ee(i._id,"\u6709\u987e\u5ba2\u751f\u6210\u86cb\u7cd5\u8ba2\u8d2d\u5355\u4e86",T,a,r,S,w);case 6:n=e.sent,console.log(n);case 8:case"end":return e.stop()}}),e)}))))}));case 5:case"end":return e.stop()}}),e)}))));case 15:case"end":return e.stop()}}),e)}))))}),0)})),document.documentElement.style.overflow="visible"}else h.b.warning("\u8bf7\u586b\u5199\u5fc5\u586b\u9879\uff01");else h.b.warning("\u8bf7\u5148\u9009\u62e9\u86cb\u7cd5\u56fe\u7247\uff01")},r.handleOrderCakeInfoModalCancel=function(){r.setState({orderCakeInfoModalVisiable:!1}),document.documentElement.style.overflow="visible"},r.handleCreamTypeChange=function(e){var t=e.target.value,a=r.state,n=a.orderCakePrices,i=a.cakeSize,o="--";if(n){var c=n[t];c&&c[i]&&(o=c[i])}r.setState({creamType:t,cakePrice:o})},r.handleCakeSizeChange=function(e){var t=r.state,a=t.orderCakePrices,n=t.creamType,i="--";if(a){var o=a[n];o&&o[e]&&(i=o[e])}var c=rr[e]?rr[e]:"--";r.setState({cakeSize:e,cakePrice:i,cakePlateNumber:c})},r.handleCakeSizeExtraChange=function(e){r.setState({cakeSizeExtra:e.target.value})},r.handleDropdownVisibleChange=function(e){if(e){var t=r.state.creamType;""!==t&&void 0!==t||h.b.warning("\u8bf7\u5148\u9009\u62e9\u5976\u6cb9~")}},r.handleCakeFillingChange=function(e){e.length>=3?h.b.warning("\u53ea\u80fd\u9009\u62e9\u4e24\u79cd\u5939\u5fc3\uff0c\u8bf7\u53cd\u9009\u4e0d\u9700\u8981\u7684\u5939\u5fc3\u540e\uff0c\u91cd\u65b0\u9009\u62e9\uff01"):r.setState({cakeFillings:e})},r.handleCandleTypeChange=function(e){r.setState({candleType:e.target.value})},r.handleIgnitorTypeChange=function(e){r.setState({ignitorType:e.target.value})},r.handleHatTypeChange=function(e){r.setState({hatType:e.target.value})},r.handleNumber4candleChange=function(e){r.setState({number4candle:e.target.value})},r.handlePickUpDayChange=function(e){r.setState({pickUpDay:e})},r.handlePickUpDayOnFocus=function(e){r.setState({pickUpDayPopupOpen:!0})},r.handlePickUpDayOnBlur=function(e){r.setState({pickUpDayPopupOpen:!1})},r.handlePickUpTimeChange=function(e){r.setState({pickUpTime:e})},r.handlePickUpTimeOnFocus=function(e){r.setState({pickUpTimePopupOpen:!0})},r.handlePickUpTimeOnBlur=function(e){r.setState({pickUpTimePopupOpen:!1})},r.handlePickUpTimeOnOk=function(e){r.setState({pickUpTimePopupOpen:!1},(function(){setTimeout((function(){r._datePicker4PickUpTime&&r._datePicker4PickUpTime.blur()}),300)}))},r.onPickUpTypeChange=function(e){r.setState({pickUpType:e.target.value})},r.handleResponseShopChange=function(e){r.setState({responseShop:e})},r.handleDeliverAddressChange=function(e){r.setState({deliverAddress:e.target.value})},r.handlePickUpPeopleChange=function(e){r.setState({pickUpName:e.target.value})},r.handlePhoneNumberChange=function(e){r.setState({phoneNumber:e.target.value})},r.handleRemarksChange=function(e){r.setState({remarks:e.target.value})},r.handleSearchInputOnChange=function(e){if(r.setState({searchName:e.target.value}),e.target.value&&""!==e.target.value){for(var t={},a=Object.keys(r._birthdayCakesAll),n=0;n<a.length;++n){var i=a[n];if(-1!==i.indexOf(e.target.value)){var o={"\u4ef7\u683c":{},"\u63cf\u8ff0":"","\u53ef\u9009\u5939\u5fc3":!0};r._birthdayCakesAll[i]&&(r._birthdayCakesAll[i]["\u4ef7\u683c"]&&(o["\u4ef7\u683c"]=r._birthdayCakesAll[i]["\u4ef7\u683c"]),r._birthdayCakesAll[i]["\u63cf\u8ff0"]&&(o["\u63cf\u8ff0"]=r._birthdayCakesAll[i]["\u63cf\u8ff0"]),void 0!==r._birthdayCakesAll[i]["\u53ef\u9009\u5939\u5fc3"]&&(o["\u53ef\u9009\u5939\u5fc3"]=r._birthdayCakesAll[i]["\u53ef\u9009\u5939\u5fc3"]),t[i]=o)}}r.setState({birthdayCakesSearchItems:t})}},r.state={birthdayCakeCategorys:Ga,birthdayCakesRecommendTitle:"\u6700\u65b0\u86cb\u7cd5",birthdayCakesRecommendItems:{},birthdayCakesRecommendLoading:!0,debug:0,orderCakeInfoModalVisiable:!1,searchName:"",birthdayCakesSearchItems:{},cakeName:"",cakeDescription:"",cakeImage:"",orderCakePrices:{},creamType:"",cakeSize:"",cakeSizeExtra:"",cakePrice:"--",canSelectCakeFilling:!0,cakeFillings:[],candleType:er[0].value,ignitorType:tr[0].value,hatType:ar[1].value,number4candle:"",cakePlateNumber:"--",pickUpDay:"",pickUpDayPopupOpen:!1,pickUpTime:"",pickUpTimePopupOpen:!1,pickUpType:"",responseShop:"",deliverAddress:"",pickUpName:"",phoneNumber:"",remarks:"",makingTime:"",orderImageModalVisiable:!1,orderImageSrc:void 0,imageCapturing:!1,imageBeforeCrop:"",imageCropperModalVisiable:!1,localImgDataLoading:!1,divImageLoading:!1,image4QRCode:""},r._lastKeys=[],r._birthdayCakesAll=[],r}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.birthdayCakeCategorys,r=t.birthdayCakesRecommendTitle,i=t.birthdayCakesRecommendItems,o=t.birthdayCakesRecommendLoading,c=t.searchName,l=t.birthdayCakesSearchItems,s=t.debug,d=t.pickUpType,m=t.orderCakeInfoModalVisiable,u=t.orderCakePrices,p=t.cakeName,h=t.cakeDescription,y=t.cakeImage,b=t.creamType,T=t.cakeSize,x=t.cakeSizeExtra,S=t.cakePrice,w=t.canSelectCakeFilling,A=t.cakeFillings,I=t.candleType,D=t.ignitorType,O=t.hatType,C=t.number4candle,L=t.cakePlateNumber,P=t.pickUpDay,N=t.pickUpDayPopupOpen,z=t.pickUpTime,j=t.pickUpTimePopupOpen,R=t.responseShop,B=t.deliverAddress,M=t.pickUpName,_=t.phoneNumber,Y=t.remarks,Q=t.makingTime,F=t.orderImageModalVisiable,H=t.orderImageSrc,U=t.imageCapturing,W=t.imageCropperModalVisiable,J=t.imageBeforeCrop,K=t.localImgDataLoading,V=t.divImageLoading,q=t.image4QRCode,G={width:750,height:111e3/210,background:"white"},Z={width:111e3/210-180,height:111e3/210-180+40,float:"left",marginLeft:8,borderRadius:8,border:"2px dotted #00A2A5"},X={float:"right",width:381.42857142857144},$=[],ee={"5\u5bf8":{label:"5\u5bf8",value:"5\u5bf8"},"6\u5bf8":{label:"6\u5bf8",value:"6\u5bf8"},"8\u5bf8":{label:"8\u5bf8",value:"8\u5bf8"},"10\u5bf8":{label:"10\u5bf8",value:"10\u5bf8"},"12\u5bf8":{label:"12\u5bf8",value:"12\u5bf8"},"14\u5bf8":{label:"14\u5bf8",value:"14\u5bf8"},"\u7ec4\u5408":{label:"\u7ec4\u5408",value:"\u7ec4\u5408"}};if(u){var te=u[b];if(te){for(var ae=Object.keys(te),re=0;re<ae.length;++re){var ne=ee[ae[re]];$.push(ne)}ae.length>=2&&$.push(ee["\u7ec4\u5408"])}}var ie=[],oe={"\u725b\u5976\u5976\u6cb9":{label:"\u725b\u5976\u5976\u6cb9",value:"\u725b\u5976\u5976\u6cb9"},"\u52a8\u7269\u5976\u6cb9":{label:"\u52a8\u7269\u5976\u6cb9",value:"\u52a8\u7269\u5976\u6cb9"}};if(u)for(var le=Object.keys(u),de=0;de<le.length;++de){var me=oe[le[de]];ie.push(me)}var ue=window.innerWidth;ue>640&&(ue=640);var pe=148*ue/210,fe={width:ue,height:pe+190,marginTop:(window.innerHeight-(pe+190))/2,marginLeft:(window.innerWidth-ue)/2},ge={width:ue,height:pe,border:"2px dashed #00A2A5"},he={width:ue-4,height:pe-4},ye=[{label:n.a.createElement("div",{style:{marginBottom:6}},n.a.createElement(Fa.a,{style:{width:70,height:70,borderRadius:10,border:"1px dotted #00A2A5"},preview:!1,src:"/image/\u751f\u65e5\u86cb\u7cd5/\u8721\u70db/\u7231\u5fc3\u8721\u70db.jpg"}),n.a.createElement("div",{style:{width:70,textAlign:"center"}},"\u7231\u5fc3\u8721\u70db"),n.a.createElement("div",{style:{width:70,height:30,textAlign:"center",paddingTop:6}},"\u4e00\u6839")),value:"\u7231\u5fc3\u8721\u70db"},{label:n.a.createElement("div",{style:{marginBottom:6}},n.a.createElement(Fa.a,{style:{width:70,height:70,borderRadius:10,border:"1px dotted #00A2A5"},preview:!1,src:"/image/\u751f\u65e5\u86cb\u7cd5/\u8721\u70db/\u4e94\u661f\u8721\u70db.jpg"}),n.a.createElement("div",{style:{width:70,textAlign:"center"}},"\u4e94\u661f\u8721\u70db"),n.a.createElement("div",{style:{width:70,height:30,textAlign:"center",paddingTop:6}},"\u4e00\u6839")),value:"\u4e94\u661f\u8721\u70db"},{label:n.a.createElement("div",{style:{marginBottom:6}},n.a.createElement(Fa.a,{style:{width:70,height:70,borderRadius:10,border:"1px dotted #00A2A5"},preview:!1,src:"/image/\u751f\u65e5\u86cb\u7cd5/\u8721\u70db/\u6570\u5b57\u8721\u70db.jpg"}),n.a.createElement("div",{style:{width:70,textAlign:"center"}},"\u6570\u5b57\u8721\u70db",n.a.createElement(f.a,{style:{width:70,height:30},placeholder:"\u6570\u5b57",prefix:n.a.createElement(Oa.a,null),value:C,onChange:this.handleNumber4candleChange}))),value:"\u6570\u5b57\u8721\u70db"},{label:n.a.createElement("div",{style:{marginBottom:6}},n.a.createElement(Fa.a,{style:{width:70,height:70,borderRadius:10,border:"1px dotted #00A2A5"},preview:!1,src:"/image/\u751f\u65e5\u86cb\u7cd5/\u8721\u70db/\u66f2\u7ebf\u8721\u70db.jpg"}),n.a.createElement("div",{style:{width:70,textAlign:"center"}},"\u66f2\u7ebf\u8721\u70db"),n.a.createElement("div",{style:{width:70,height:30,textAlign:"center",paddingTop:6}},"\u4e00\u6839")),value:"\u66f2\u7ebf\u8721\u70db"},{label:n.a.createElement("div",{style:{marginBottom:6}},n.a.createElement(Fa.a,{style:{width:70,height:70,borderRadius:10,border:"1px dotted #00A2A5"},preview:!1,src:"/image/\u751f\u65e5\u86cb\u7cd5/\u8721\u70db/\u8377\u82b1\u25cf\u97f3\u4e50\u8721\u70db.jpg"}),n.a.createElement("div",{style:{width:70,textAlign:"center"}},"\u8377\u82b1\u25cf\u97f3\u4e50\u8721\u70db"),n.a.createElement("div",{style:{width:70,height:30,textAlign:"center",paddingTop:6}},"\u4e00\u5957")),value:"\u8377\u82b1\u25cf\u97f3\u4e50\u8721\u70db"}],be=2,Ee=window.innerWidth;return Ee>900?be=4:Ee>600&&(be=3),n.a.createElement(k.a,{spinning:U,size:"large",tip:"\u6b63\u5728\u751f\u6210\u8ba2\u8d2d\u5355..."},n.a.createElement("div",null,W?n.a.createElement("div",{style:{opacity:1,background:"black",position:"fixed",zIndex:"105",width:"calc(100%)",height:"calc(100%)",overflowY:"hidden",overflowX:"hidden",textAlign:"center"}},n.a.createElement(k.a,{spinning:K,size:"large",style:{marginTop:100},tip:"\u6b63\u5728\u83b7\u53d6\u56fe\u7247"}),n.a.createElement(wa.a,{src:J,onInitialized:function(t){e._imageCropper=t},style:{height:"100%",width:"100%",zIndex:"80"},aspectRatio:1,guides:!0,autoCropArea:.85}),n.a.createElement("div",{style:{width:"calc(100%)",height:64,backgroundColor:"black",opacity:.8,position:"fixed",top:0,textAlign:"center",zIndex:"100"}}),K?n.a.createElement("div",null):n.a.createElement("div",{style:{width:"calc(100%)",height:64,position:"fixed",top:0,textAlign:"center",zIndex:"100"}},n.a.createElement(qe.b,{size:"large",style:{marginTop:16,marginBottom:16}},n.a.createElement(Ca.a,{style:{color:"white",fontSize:24},onClick:function(){e._imageCropper.rotate(-90)}}),n.a.createElement(La.a,{style:{color:"white",fontSize:24},onClick:function(){e._imageCropper.rotate(90)}}))),n.a.createElement("div",{style:{width:"calc(100%)",height:64,backgroundColor:"black",opacity:.8,position:"fixed",bottom:0,textAlign:"center",zIndex:"100"}}),K?n.a.createElement("div",null):n.a.createElement("div",{style:{width:"calc(100%)",height:64,position:"fixed",bottom:0,textAlign:"center",zIndex:"100"}},n.a.createElement(qe.b,{style:{marginTop:16,marginBottom:16}},n.a.createElement(E.a,{type:"default",onClick:function(){e.setState({imageCropperModalVisiable:!1})}},"\u53d6\u6d88"),n.a.createElement(E.a,{type:"primary",onClick:function(){var t=e._imageCropper.getCroppedCanvas().toDataURL();e.setState({imageCropperModalVisiable:!1,divImageLoading:!0},(function(){setTimeout((function(){e.setState({cakeImage:t,divImageLoading:!1})}),500)}))}},"\u786e\u5b9a\u88c1\u526a")))):n.a.createElement("div",null),m?n.a.createElement("div",{style:{opacity:.99,background:"white",position:"fixed",zIndex:"100",width:"calc(100%)",height:"calc(100%)",overflowY:"auto",overflowX:"hidden"}},n.a.createElement("div",{style:{textAlign:"center",fontSize:14,marginTop:8,fontWeight:"bold"}},"\u300a".concat(p,"\u300b")),n.a.createElement("div",{style:{textAlign:"center",fontSize:14,paddingLeft:8,paddingRight:8}},h),n.a.createElement("div",{style:{textAlign:"center",width:"100%"}},"\u79c1\u4eba\u8ba2\u5236\u86cb\u7cd5"!==y?n.a.createElement("div",null,n.a.createElement(Fa.a,{style:{width:120,height:120,border:"1px dotted #00A2A5",borderRadius:8},src:y}),n.a.createElement(Fa.a,{style:{position:"absolute",width:54,height:54,marginLeft:4,borderRadius:4},src:"/image/\u751f\u65e5\u86cb\u7cd5/\u5c3a\u5bf8/\u86cb\u7cd5\u5c3a\u5bf8\u5c55\u793a\u677f.jpg"})):n.a.createElement(Pa.a,{style:{width:120,height:120,border:"1px dotted #00A2A5"},component:function(){return V?n.a.createElement(Na.a,{style:{fontSize:50,color:"#00A2A5",marginTop:30}}):n.a.createElement(za.a,{style:{fontSize:50,color:"#00A2A5",marginTop:30}})},onClick:function(){var t=e;window.wx.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(e){t.setState({imageCropperModalVisiable:!0,localImgDataLoading:!0},(function(){var a=e.localIds;window.wx.getLocalImgData({localId:a[0],success:function(e){console.log("4");var a=e.localData;a.startsWith("data:image/jpg;base64,")||(a="data:image/jpg;base64,"+a),t.setState({localImgDataLoading:!1,imageBeforeCrop:a})}})}))}})}})),"\u79c1\u4eba\u8ba2\u5236\u86cb\u7cd5"!==y?n.a.createElement("div",null,n.a.createElement(Sa.a,{type:["bottom","top"]},n.a.createElement("div",{key:"a",style:{textAlign:"center",width:"100%",marginBottom:18}},n.a.createElement(Ha.a,{style:{marginTop:10,marginBottom:0,fontSize:12}},"\u89c4\u683c"),Object.keys(u).map((function(e){var t=u[e],a=Object.keys(t);return n.a.createElement("div",{key:e,style:{display:"inline-block",marginLeft:25,marginRight:25}},n.a.createElement("div",{style:{fontWeight:"bold"}},e),a.map((function(e){return n.a.createElement("div",{key:e},n.a.createElement("span",{style:{color:"#00A2A5"}},e),n.a.createElement("span",{style:{color:"gray",fontSize:12}},"\uff08".concat(nr[e],"\uff09")),n.a.createElement("span",{style:{color:"#00A2A5"}},"".concat(t[e],"\u5143")),n.a.createElement("span",null))})),a.length>=2?n.a.createElement("div",{style:{fontSize:10,fontWeight:"bold",color:"gray"}},n.a.createElement("div",null,"\u53e0\u52a0\u7ec4\u5408\uff0c\u4ef7\u683c\u4e3a\u5bf9\u5e94\u5c3a\u5bf8\u4e4b\u548c"),n.a.createElement("div",null,"\u60ac\u6d6e\u7ec4\u5408\uff0c\u4ef7\u683c\u4e3a\u5bf9\u5e94\u5c3a\u5bf8\u4e4b\u548c+20\u5143")):n.a.createElement("div",null))}))),n.a.createElement("div",{key:"b"},n.a.createElement(Ha.a,{style:{marginTop:10,marginBottom:0,fontSize:12}},"\u5236\u4f5c"),n.a.createElement("div",{style:{marginTop:8,marginBottom:8,marginLeft:12,marginRight:12,textAlign:"center"}},n.a.createElement(f.a.Group,{style:{marginBottom:20}},n.a.createElement("span",{style:{fontWeight:"bold"}},"\u5976\u6cb9\uff1a"),n.a.createElement(ze.a.Group,{size:"large",options:ie,onChange:this.handleCreamTypeChange,value:b,optionType:"default"}),""===b?n.a.createElement("div",{style:{color:"red"}},"\u201c\u5976\u6cb9\u201d\u662f\u5fc5\u586b\u9879"):n.a.createElement("div",null))),n.a.createElement("div",{style:{marginTop:8,marginBottom:18,marginLeft:12,marginRight:12,textAlign:"center"}},n.a.createElement("div",null,n.a.createElement("span",{style:{fontWeight:"bold"}},"\u5c3a\u5bf8\uff1a"),n.a.createElement(Ua.a,{value:T,style:{width:80,marginRight:8},onChange:this.handleCakeSizeChange,onDropdownVisibleChange:this.handleDropdownVisibleChange,options:$}),"\u7ec4\u5408"===T?n.a.createElement("span",null,n.a.createElement(f.a,{placeholder:"\u53e0\u52a0\u6216\u60ac\u6d6e|\u51e0\u5bf8+\u51e0\u5bf8",prefix:n.a.createElement(Oa.a,null),style:{width:190},value:x,onChange:this.handleCakeSizeExtraChange})):n.a.createElement("div",null),""===T||"\u7ec4\u5408"===T&&""===x?n.a.createElement("div",{style:{color:"red"}},"\u201c\u5c3a\u5bf8\u201d\u662f\u5fc5\u586b\u9879"):n.a.createElement("span",null))),n.a.createElement("div",{style:{marginTop:8,marginBottom:18,marginLeft:12,marginRight:12,textAlign:"center"}},n.a.createElement("span",{style:{fontWeight:"bold"}},"\u4ef7\u683c\uff1a"),n.a.createElement("span",null,S),n.a.createElement("span",null," \u5143")),n.a.createElement("div",{style:{marginTop:8,marginBottom:18,marginLeft:12,marginRight:12,textAlign:"center"}},n.a.createElement("div",{style:{fontWeight:"bold"}},w?"\u5939\u5fc3\uff08\u4efb\u9009\u4e24\u79cd\uff09\uff1a":"\u5939\u5fc3\uff08\u9ed8\u8ba4\u5939\u5fc3\uff0c\u65e0\u9700\u9009\u62e9\uff09\uff1a"),n.a.createElement(Va,{disabled:!w,style:{marginTop:8},options:$a,value:A,onChange:this.handleCakeFillingChange}),0===A.length&&w?n.a.createElement("div",{style:{color:"red"}},"\u201c\u5939\u5fc3\u201d\u662f\u5fc5\u586b\u9879"):n.a.createElement("span",null)),n.a.createElement("div",{style:{marginTop:8,marginBottom:18,marginLeft:12,marginRight:12,textAlign:"center"}},n.a.createElement("div",{style:{fontWeight:"bold"}},"\u8721\u70db\uff08\u4efb\u9009\u4e00\u79cd\uff0c\u9ed8\u8ba4\u4e3a\u7231\u5fc3\u8721\u70db\u4e00\u6839\uff0c\u82e5\u86cb\u7cd5\u81ea\u5e26\u8721\u70db\u5219\u4e0d\u9001\u8721\u70db\uff09\uff1a"),n.a.createElement(ze.a.Group,{style:{marginTop:8},options:ye,value:I,onChange:this.handleCandleTypeChange}),""===I||I===ye[2].value&&""===C?n.a.createElement("div",{style:{color:"red",marginLeft:0}},"\u201c\u6570\u5b57\u201d\u662f\u5fc5\u586b\u9879"):n.a.createElement("span",null)),n.a.createElement("div",{style:{marginTop:8,marginBottom:18,marginLeft:12,marginRight:12,textAlign:"center"}},n.a.createElement("div",{style:{fontWeight:"bold"}},"\u706b\u67f4\uff08\u5982\u9700\u8981\u8bf7\u9009\u62e9\uff0c\u9ed8\u8ba4\u6ca1\u6709\u706b\u67f4\uff09\uff1a"),n.a.createElement(ze.a.Group,{style:{marginTop:8},options:tr,value:D,onChange:this.handleIgnitorTypeChange})),n.a.createElement("div",{style:{marginTop:8,marginBottom:18,marginLeft:12,marginRight:12,textAlign:"center"}},n.a.createElement("div",{style:{fontWeight:"bold"}},"\u5e3d\u5b50\uff08\u4efb\u9009\u4e00\u79cd\uff0c\u9ed8\u8ba4\u4e3a\u91d1\u5361\u7687\u51a0\u5e3d\uff09\uff1a"),n.a.createElement(ze.a.Group,{style:{marginTop:8},options:ar,value:O,onChange:this.handleHatTypeChange})),n.a.createElement("div",{style:{marginTop:8,marginBottom:18,marginLeft:12,marginRight:12,textAlign:"center"}},n.a.createElement("span",{style:{fontWeight:"bold"}},"\u9910\u5177\uff1a"),n.a.createElement("span",null,L),n.a.createElement("span",null," \u5957"))),n.a.createElement("div",{key:"c"},n.a.createElement(Ha.a,{style:{marginTop:10,marginBottom:0,fontSize:12}},"\u53d6\u8d27"),n.a.createElement("div",{style:{marginTop:8,marginBottom:18,marginLeft:12,marginRight:12,textAlign:"center"}},n.a.createElement("div",{style:{fontWeight:"bold"}},"\u65f6\u95f4\uff1a"),n.a.createElement("div",null,n.a.createElement(g.a,{ref:function(t){return e._datePicker4PickUpDay=t},style:{width:180},size:"large",placeholder:"\u65e5\u671f",format:"YYYY-MM-DD dddd",value:P,open:N,showToday:!1,inputReadOnly:!0,onChange:this.handlePickUpDayChange,onFocus:this.handlePickUpDayOnFocus,onBlur:this.handlePickUpDayOnBlur,dateRender:function(t){var a={};return 1===t.date()&&(a.border="1px solid #1890ff",a.borderRadius="50%"),n.a.createElement("div",{className:"ant-picker-cell-inner",style:a,onClick:function(){e.setState({pickUpDayPopupOpen:!1},(function(){setTimeout((function(){e._datePicker4PickUpDay&&e._datePicker4PickUpDay.blur()}),300)}))}},t.date())},renderExtraFooter:function(){return n.a.createElement("span",null,n.a.createElement(E.a,{type:"primary",size:"small",onClick:function(){e.setState({pickUpDay:se()(),pickUpDayPopupOpen:!1},(function(){setTimeout((function(){e._datePicker4PickUpDay&&e._datePicker4PickUpDay.blur()}),300)}))}},"\u4eca\u5929"),n.a.createElement("span",null,"   "),n.a.createElement(E.a,{type:"primary",size:"small",onClick:function(){e.setState({pickUpDay:se()().add(1,"day"),pickUpDayPopupOpen:!1},(function(){setTimeout((function(){e._datePicker4PickUpDay&&e._datePicker4PickUpDay.blur()}),300)}))}},"\u660e\u5929"),n.a.createElement("span",null,"   "),n.a.createElement(E.a,{type:"primary",size:"small",onClick:function(){e.setState({pickUpDay:se()().add(2,"day"),pickUpDayPopupOpen:!1},(function(){setTimeout((function(){e._datePicker4PickUpDay&&e._datePicker4PickUpDay.blur()}),300)}))}},"\u540e\u5929"))}})),n.a.createElement("div",{style:{marginTop:4}},n.a.createElement(g.a,{ref:function(t){return e._datePicker4PickUpTime=t},picker:"time",size:"large",style:{width:150},placeholder:"\u65f6\u95f4",locale:ce.a,showTime:{use12Hours:!1,showNow:!1,format:"a HH:mm"},panelRender:function(e){return n.a.createElement("div",{style:{marginLeft:10,marginRight:10}},e)},format:"a HH:mm",value:z,open:j,onFocus:this.handlePickUpTimeOnFocus,onBlur:this.handlePickUpTimeOnBlur,onOk:this.handlePickUpTimeOnOk,inputReadOnly:!0,onChange:this.handlePickUpTimeChange,renderExtraFooter:function(){return n.a.createElement("span",null,n.a.createElement(E.a,{type:"primary",size:"small",onClick:function(){e.setState({pickUpTime:se()("12:30","HH:mm"),pickUpTimePopupOpen:!1},(function(){setTimeout((function(){e._datePicker4PickUpTime&&e._datePicker4PickUpTime.blur()}),300)}))}},"\u4e2d\u5348 12\u70b930\u5206"),n.a.createElement("span",null,"   "),n.a.createElement(E.a,{type:"primary",size:"small",onClick:function(){e.setState({pickUpTime:se()("18:30","HH:mm"),pickUpTimePopupOpen:!1},(function(){setTimeout((function(){e._datePicker4PickUpTime&&e._datePicker4PickUpTime.blur()}),300)}))}},"\u665a\u4e0a 18\u70b930\u5206"))}})),""===P||null===P||""===z||null===z?n.a.createElement("div",{style:{color:"red"}},"\u201c\u65f6\u95f4\u201d\u662f\u5fc5\u586b\u9879"):n.a.createElement("div",null)),n.a.createElement("div",{style:{marginTop:8,marginBottom:18,marginLeft:12,marginRight:12,textAlign:"center"}},n.a.createElement("span",{style:{fontWeight:"bold"}},"\u65b9\u5f0f\uff1a"),n.a.createElement(ze.a.Group,{size:"large",options:Za,onChange:this.onPickUpTypeChange,value:d,optionType:"default"}),""===d?n.a.createElement("div",{style:{color:"red"}},"\u201c\u65b9\u5f0f\u201d\u662f\u5fc5\u586b\u9879"):n.a.createElement("div",null)),n.a.createElement("div",{style:{marginTop:8,marginBottom:18,marginLeft:12,marginRight:12,textAlign:"center"}},n.a.createElement("span",{style:{fontWeight:"bold"}},"\u95e8\u5e97\uff1a"),n.a.createElement(Ua.a,{value:R,style:{width:160},onChange:this.handleResponseShopChange,options:Xa}),""===R?n.a.createElement("div",{style:{color:"red"}},"\u201c\u95e8\u5e97\u201d\u662f\u5fc5\u586b\u9879"):n.a.createElement("div",null)),d===Za[1].value?n.a.createElement("div",{style:{marginTop:8,marginBottom:18,marginLeft:12,marginRight:12,textAlign:"center"}},n.a.createElement(f.a.Group,null,n.a.createElement("span",{style:{fontWeight:"bold"}},"\u5730\u5740\uff1a"),n.a.createElement(f.a,{style:{width:"calc(100% - 100px)",textAlign:"left"},placeholder:"\u586b\u5199\u5730\u5740",prefix:n.a.createElement(ja.a,null),value:B,onChange:this.handleDeliverAddressChange}),""===B?n.a.createElement("div",{style:{color:"red"}},"\u201c\u5730\u5740\u201d\u662f\u5fc5\u586b\u9879"):n.a.createElement("div",null))):n.a.createElement("div",null),n.a.createElement("div",{style:{marginTop:8,marginBottom:18,marginLeft:12,marginRight:12,textAlign:"center"}},n.a.createElement(f.a.Group,null,n.a.createElement("span",{style:{fontWeight:"bold"}},"\u59d3\u540d\uff1a"),n.a.createElement(f.a,{style:{width:"calc(100% - 100px)",textAlign:"left"},placeholder:"\u586b\u5199\u59d3\u540d",prefix:n.a.createElement(Ra.a,null),value:M,onChange:this.handlePickUpPeopleChange}),""===M?n.a.createElement("div",{style:{color:"red"}},"\u201c\u59d3\u540d\u201d\u662f\u5fc5\u586b\u9879"):n.a.createElement("div",null))),n.a.createElement("div",{style:{marginTop:8,marginBottom:18,marginLeft:12,marginRight:12,textAlign:"center"}},n.a.createElement(f.a.Group,null,n.a.createElement("span",{style:{fontWeight:"bold"}},"\u624b\u673a\uff1a"),n.a.createElement(f.a,{style:{width:"calc(100% - 100px)",textAlign:"left"},placeholder:"\u586b\u5199\u624b\u673a\u53f7",prefix:n.a.createElement(Qe.a,null),value:_,onChange:this.handlePhoneNumberChange}),""===_?n.a.createElement("div",{style:{color:"red"}},"\u201c\u624b\u673a\u201d\u662f\u5fc5\u586b\u9879"):n.a.createElement("div",null)))),n.a.createElement("div",{key:"d"},n.a.createElement(Ha.a,{style:{marginTop:10,marginBottom:0,fontSize:12}},"\u5176\u5b83"),n.a.createElement("div",{style:{marginTop:8,marginBottom:18,marginLeft:24,marginRight:24,textAlign:"center"}},n.a.createElement(f.a.Group,null,n.a.createElement("span",{style:{fontWeight:"bold"}},"\u5907\u6ce8\uff1a"),n.a.createElement(qa,{style:{width:"calc(100% - 0px)",textAlign:"left"},rows:5,placeholder:"\u6709\u7279\u6b8a\u8981\u6c42\uff0c\u8bf7\u5907\u6ce8\u5728\u8fd9\u91cc",value:Y,onChange:this.handleRemarksChange}))),n.a.createElement("div",{style:{height:80}})))):n.a.createElement("div",null),n.a.createElement("div",{style:{width:"calc(100%)",height:64,backgroundColor:"#E5E4E2",position:"fixed",bottom:0,textAlign:"center",zIndex:"100"}},n.a.createElement(qe.b,{style:{marginTop:16,marginBottom:16}},n.a.createElement(E.a,{type:"default",onClick:this.handleOrderCakeInfoModalCancel},"\u53d6\u6d88"),n.a.createElement(E.a,{type:"primary",onClick:this.handleOrderCakeInfoModalOk},"\u751f\u6210\u8ba2\u8d2d\u5355")))):n.a.createElement("div",null),F?n.a.createElement("div",{style:{background:"rgba(0,0,0,0.9)",position:"fixed",zIndex:"100",width:"calc(100%)",height:"calc(100%)",overflowY:"hidden",overflowX:"hidden"}},n.a.createElement("div",{style:fe},n.a.createElement("div",{key:"a",style:{height:110}},n.a.createElement(Wa.a,{style:{paddingTop:30,paddingLeft:24,paddingRight:24}},n.a.createElement(Wa.a.Item,{color:"white",style:{color:"white"}},"\u957f\u6309\u865a\u7ebf\u6846\u5185\u7684\u8ba2\u8d2d\u5355\u56fe\u7247\u5e76\u8f6c\u53d1\u7ed9\u5ba2\u670d"),n.a.createElement(Wa.a.Item,{color:"white",style:{color:"white"}},"\u6ce8\u610f\uff1a\u4e0d\u8981\u8bc6\u522b\u4e8c\u7ef4\u7801\uff0c\u4e5f\u4e0d\u8981\u622a\u5c4f"))),n.a.createElement(Sa.a,{type:["bottom","top"]},n.a.createElement("div",{key:"a",style:ge},n.a.createElement(Fa.a,{style:he,preview:!1,src:H}))),n.a.createElement("div",{style:{height:80,textAlign:"center"}},n.a.createElement(qe.b,{style:{marginTop:24}},n.a.createElement(E.a,{key:"back",type:"primary",danger:!0,onClick:function(){e.setState({orderImageModalVisiable:!1}),document.documentElement.style.overflow="visible"}},"X"))))):n.a.createElement("div",null),n.a.createElement("div",{style:{textAlign:"center",color:"#00A2A5",fontSize:16,fontWeight:"normal",paddingTop:7,paddingBottom:5}},n.a.createElement(Da.a,{springConfig:{stiffness:70,damping:31},adjustingSpeed:500},n.a.createElement("span",null,n.a.createElement("span",null,"\u8054\u7cfb\u5f2f\u9ea6\u603b\u5e972\u53f7"),n.a.createElement("span",{style:{textDecoration:"underline"}},n.a.createElement("a",{href:"tel:18599568588"},"18599568588")),n.a.createElement("span",null," (\u5fae\u4fe1\u540c\u53f7)")))),n.a.createElement("div",{style:{padding:12}},n.a.createElement(f.a,{placeholder:"\u8bf7\u8f93\u5165\u86cb\u7cd5\u540d\u79f0",allowClear:!0,size:"middle",value:c,onChange:this.handleSearchInputOnChange})),c&&""!==c?n.a.createElement("div",null,n.a.createElement(v.b,{style:{marginLeft:4,marginRight:4,marginTop:4},grid:{gutter:4,column:be},dataSource:Object.keys(l),renderItem:function(t){var a=l[t]["\u4ef7\u683c"],r=l[t]["\u63cf\u8ff0"],i=l[t]["\u53ef\u9009\u5939\u5fc3"],o=Object.keys(a),c="6\u5bf8",s="0";if(o.length>0){var d=o[0],m=a[d],u=Object.keys(m);if(u.length>0){var p=u[0];c=p,s=m[p]}}var f=Object.keys(l).indexOf(t)+1;return n.a.createElement(v.b.Item,null,n.a.createElement("div",{key:t},1===f||2===f||3===f?n.a.createElement("div",{style:{borderRadius:20,position:"absolute",zIndex:10}},n.a.createElement(Fa.a,{style:{width:40,height:40},preview:!1,src:"/image/\u751f\u65e5\u86cb\u7cd5/\u6392\u884c/\u6392\u540d".concat(f,".png")})):n.a.createElement("div",null),n.a.createElement(Fa.a,{style:{border:"1px dotted #00A2A5",borderRadius:8},fallback:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3PTWBSGcbGzM6GCKqlIBRV0dHRJFarQ0eUT8LH4BnRU0NHR0UEFVdIlFRV7TzRksomPY8uykTk/zewQfKw/9znv4yvJynLv4uLiV2dBoDiBf4qP3/ARuCRABEFAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghgg0Aj8i0JO4OzsrPv69Wv+hi2qPHr0qNvf39+iI97soRIh4f3z58/u7du3SXX7Xt7Z2enevHmzfQe+oSN2apSAPj09TSrb+XKI/f379+08+A0cNRE2ANkupk+ACNPvkSPcAAEibACyXUyfABGm3yNHuAECRNgAZLuYPgEirKlHu7u7XdyytGwHAd8jjNyng4OD7vnz51dbPT8/7z58+NB9+/bt6jU/TI+AGWHEnrx48eJ/EsSmHzx40L18+fLyzxF3ZVMjEyDCiEDjMYZZS5wiPXnyZFbJaxMhQIQRGzHvWR7XCyOCXsOmiDAi1HmPMMQjDpbpEiDCiL358eNHurW/5SnWdIBbXiDCiA38/Pnzrce2YyZ4//59F3ePLNMl4PbpiL2J0L979+7yDtHDhw8vtzzvdGnEXdvUigSIsCLAWavHp/+qM0BcXMd/q25n1vF57TYBp0a3mUzilePj4+7k5KSLb6gt6ydAhPUzXnoPR0dHl79WGTNCfBnn1uvSCJdegQhLI1vvCk+fPu2ePXt2tZOYEV6/fn31dz+shwAR1sP1cqvLntbEN9MxA9xcYjsxS1jWR4AIa2Ibzx0tc44fYX/16lV6NDFLXH+YL32jwiACRBiEbf5KcXoTIsQSpzXx4N28Ja4BQoK7rgXiydbHjx/P25TaQAJEGAguWy0+2Q8PD6/Ki4R8EVl+bzBOnZY95fq9rj9zAkTI2SxdidBHqG9+skdw43borCXO/ZcJdraPWdv22uIEiLA4q7nvvCug8WTqzQveOH26fodo7g6uFe/a17W3+nFBAkRYENRdb1vkkz1CH9cPsVy/jrhr27PqMYvENYNlHAIesRiBYwRy0V+8iXP8+/fvX11Mr7L7ECueb/r48eMqm7FuI2BGWDEG8cm+7G3NEOfmdcTQw4h9/55lhm7DekRYKQPZF2ArbXTAyu4kDYB2YxUzwg0gi/41ztHnfQG26HbGel/crVrm7tNY+/1btkOEAZ2M05r4FB7r9GbAIdxaZYrHdOsgJ/wCEQY0J74TmOKnbxxT9n3FgGGWWsVdowHtjt9Nnvf7yQM2aZU/TIAIAxrw6dOnAWtZZcoEnBpNuTuObWMEiLAx1HY0ZQJEmHJ3HNvGCBBhY6jtaMoEiJB0Z29vL6ls58vxPcO8/zfrdo5qvKO+d3Fx8Wu8zf1dW4p/cPzLly/dtv9Ts/EbcvGAHhHyfBIhZ6NSiIBTo0LNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiEC/wGgKKC4YMA4TAAAAABJRU5ErkJggg==",preview:!0,src:"".concat("/image/\u751f\u65e5\u86cb\u7cd5/\u86cb\u7cd53.0","/").concat(t,"-\u65b9\u56fe.jpg")}),n.a.createElement("div",null,n.a.createElement("div",{style:{marginTop:4}},n.a.createElement(Fa.a,{style:{width:30,height:30},preview:!1,src:"/image/\u5f2f\u9ea6logo\u65b9-\u9ed1\u767d.png"}),n.a.createElement("span",{style:{fontSize:16,fontWeight:"bold"}},"\u300a".concat(t,"\u300b")),n.a.createElement("span",{style:{fontSize:14,marginTop:4,float:"right",paddingTop:4,paddingBottom:4,paddingLeft:8,paddingRight:8,borderRadius:10,textAlign:"center",backgroundColor:"#00A2A5",color:"white"},onClick:function(){e.handleOrderNowClick(0,t,r,a,i)}},"\u9884\u5b9a")),n.a.createElement("div",{style:{fontSize:14}},n.a.createElement("span",null,r)),n.a.createElement("div",{style:{fontSize:13}},n.a.createElement(Ba.a,{style:{color:"#00A2A5"}}),n.a.createElement("span",null," ".concat(c," ")),n.a.createElement("span",null,"\u8d77"),n.a.createElement(Ma.a,{style:{color:"#00A2A5",marginLeft:8}}),n.a.createElement("span",null," ".concat(s,"\u5143 ")),n.a.createElement("span",null,"\u8d77")))))}})):n.a.createElement("div",null,n.a.createElement("div",{style:{textAlign:"center",marginTop:0,fontSize:16,backgroundColor:"#00A2A5",color:"white",borderRadius:30,paddingTop:8,paddingBottom:8}},s?"".concat(r,"\uff08").concat(Object.keys(i).length,"\uff09"):"".concat(r)),n.a.createElement(k.a,{spinning:o,size:"large"},n.a.createElement(v.b,{style:{marginLeft:4,marginRight:4,marginTop:4},grid:{gutter:4,column:be},dataSource:Object.keys(i),renderItem:function(t){var a=i[t]["\u4ef7\u683c"],r=i[t]["\u63cf\u8ff0"],o=i[t]["\u53ef\u9009\u5939\u5fc3"];o=void 0===o||o;var c=Object.keys(a),l="6\u5bf8",s="0";if(c.length>0){var d=c[0],m=a[d],u=Object.keys(m);if(u.length>0){var p=u[0];l=p,s=m[p]}}var f=Object.keys(i).indexOf(t)+1;return n.a.createElement(v.b.Item,null,n.a.createElement("div",{key:t},1===f||2===f||3===f?n.a.createElement("div",{style:{borderRadius:20,position:"absolute",zIndex:10}},n.a.createElement(Fa.a,{style:{width:40,height:40},preview:!1,src:"/image/\u751f\u65e5\u86cb\u7cd5/\u6392\u884c/\u6392\u540d".concat(f,".png")})):n.a.createElement("div",null),n.a.createElement(Fa.a,{style:{border:"1px dotted #00A2A5",borderRadius:8},fallback:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3PTWBSGcbGzM6GCKqlIBRV0dHRJFarQ0eUT8LH4BnRU0NHR0UEFVdIlFRV7TzRksomPY8uykTk/zewQfKw/9znv4yvJynLv4uLiV2dBoDiBf4qP3/ARuCRABEFAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghgg0Aj8i0JO4OzsrPv69Wv+hi2qPHr0qNvf39+iI97soRIh4f3z58/u7du3SXX7Xt7Z2enevHmzfQe+oSN2apSAPj09TSrb+XKI/f379+08+A0cNRE2ANkupk+ACNPvkSPcAAEibACyXUyfABGm3yNHuAECRNgAZLuYPgEirKlHu7u7XdyytGwHAd8jjNyng4OD7vnz51dbPT8/7z58+NB9+/bt6jU/TI+AGWHEnrx48eJ/EsSmHzx40L18+fLyzxF3ZVMjEyDCiEDjMYZZS5wiPXnyZFbJaxMhQIQRGzHvWR7XCyOCXsOmiDAi1HmPMMQjDpbpEiDCiL358eNHurW/5SnWdIBbXiDCiA38/Pnzrce2YyZ4//59F3ePLNMl4PbpiL2J0L979+7yDtHDhw8vtzzvdGnEXdvUigSIsCLAWavHp/+qM0BcXMd/q25n1vF57TYBp0a3mUzilePj4+7k5KSLb6gt6ydAhPUzXnoPR0dHl79WGTNCfBnn1uvSCJdegQhLI1vvCk+fPu2ePXt2tZOYEV6/fn31dz+shwAR1sP1cqvLntbEN9MxA9xcYjsxS1jWR4AIa2Ibzx0tc44fYX/16lV6NDFLXH+YL32jwiACRBiEbf5KcXoTIsQSpzXx4N28Ja4BQoK7rgXiydbHjx/P25TaQAJEGAguWy0+2Q8PD6/Ki4R8EVl+bzBOnZY95fq9rj9zAkTI2SxdidBHqG9+skdw43borCXO/ZcJdraPWdv22uIEiLA4q7nvvCug8WTqzQveOH26fodo7g6uFe/a17W3+nFBAkRYENRdb1vkkz1CH9cPsVy/jrhr27PqMYvENYNlHAIesRiBYwRy0V+8iXP8+/fvX11Mr7L7ECueb/r48eMqm7FuI2BGWDEG8cm+7G3NEOfmdcTQw4h9/55lhm7DekRYKQPZF2ArbXTAyu4kDYB2YxUzwg0gi/41ztHnfQG26HbGel/crVrm7tNY+/1btkOEAZ2M05r4FB7r9GbAIdxaZYrHdOsgJ/wCEQY0J74TmOKnbxxT9n3FgGGWWsVdowHtjt9Nnvf7yQM2aZU/TIAIAxrw6dOnAWtZZcoEnBpNuTuObWMEiLAx1HY0ZQJEmHJ3HNvGCBBhY6jtaMoEiJB0Z29vL6ls58vxPcO8/zfrdo5qvKO+d3Fx8Wu8zf1dW4p/cPzLly/dtv9Ts/EbcvGAHhHyfBIhZ6NSiIBTo0LNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiEC/wGgKKC4YMA4TAAAAABJRU5ErkJggg==",preview:!0,src:"".concat("/image/\u751f\u65e5\u86cb\u7cd5/\u86cb\u7cd53.0","/").concat(t,"-\u65b9\u56fe.jpg")}),n.a.createElement("div",null,n.a.createElement("div",{style:{marginTop:4}},n.a.createElement(Fa.a,{style:{width:30,height:30},preview:!1,src:"/image/\u5f2f\u9ea6logo\u65b9-\u9ed1\u767d.png"}),n.a.createElement("span",{style:{fontSize:16,fontWeight:"bold"}},"\u300a".concat(t,"\u300b")),n.a.createElement("span",{style:{fontSize:14,marginTop:4,float:"right",paddingTop:4,paddingBottom:4,paddingLeft:8,paddingRight:8,borderRadius:10,textAlign:"center",backgroundColor:"#00A2A5",color:"white"},onClick:function(){e.handleOrderNowClick(0,t,r,a,o)}},"\u9884\u5b9a")),n.a.createElement("div",{style:{fontSize:14}},n.a.createElement("span",null,r)),n.a.createElement("div",{style:{fontSize:13}},n.a.createElement(Ba.a,{style:{color:"#00A2A5"}}),n.a.createElement("span",null," ".concat(l," ")),n.a.createElement("span",null,"\u8d77"),n.a.createElement(Ma.a,{style:{color:"#00A2A5",marginLeft:8}}),n.a.createElement("span",null," ".concat(s,"\u5143 ")),n.a.createElement("span",null,"\u8d77")))))}})),n.a.createElement("div",{style:{textAlign:"center",color:"#00A2A5",fontSize:18,paddingTop:10,paddingBottom:20}},"\u66f4\u591a\u6b3e\u5f0f\u8bf7\u70b9\u51fb\u4e0b\u65b9\u5206\u7c7b\u67e5\u770b"),n.a.createElement(Ya.a,{bordered:!0,expandIcon:function(e){var t=e.isActive;return n.a.createElement(_a.a,{style:{fontSize:24,color:"whitesmoke"},rotate:t?90:0})},expandIconPosition:"end",onChange:this.handleCollapseOnChange},a.map((function(t){return n.a.createElement(Ka,{header:n.a.createElement("div",{style:{color:"white",fontSize:20}},n.a.createElement("div",{style:{marginLeft:12}},n.a.createElement("div",null,s?"".concat(t.categoryName,"\uff08").concat(Object.keys(t.productItems).length,"\uff09"):"".concat(t.categoryName)),n.a.createElement("div",{style:{fontSize:12,color:"whitesmoke"}},"".concat(t.description))),n.a.createElement("div",{style:{marginLeft:4,marginTop:8}},t.thumbnails.map((function(e){var a=t.thumbnails.indexOf(e),r=t.thumbnails.length-1;return n.a.createElement("span",{key:a},n.a.createElement(Fa.a,{style:{marginLeft:6,width:44,height:44,borderRadius:22},preview:!1,src:e}),a===r?n.a.createElement("span",{style:{marginLeft:6}},"......"):n.a.createElement("span",null))})))),style:{backgroundColor:"#00A2A5",borderRadius:40},key:t.categoryId,extra:n.a.createElement("span",{style:{fontSize:16,color:"whitesmoke"}},t.opened?"\u70b9\u51fb\u6536\u8d77":"\u70b9\u51fb\u67e5\u770b\u66f4\u591a")},n.a.createElement(k.a,{spinning:t.spinning},n.a.createElement(v.b,{style:{marginLeft:-12,marginRight:-12,marginTop:-12},grid:{gutter:4,column:be},dataSource:Object.keys(t.productItems),renderItem:function(a){var r=t.productItems[a]["\u4ef7\u683c"],i=t.productItems[a]["\u63cf\u8ff0"],o=t.productItems[a]["\u53ef\u9009\u5939\u5fc3"],c=Object.keys(r),l="0",d="6\u5bf8",m=Object.keys(t.productItems).indexOf(a)+1;if(c.length>0){var u=c[0],p=r[u],f=Object.keys(p);if(f.length>0){var g=f[0];d=g,l=p[g]}}return n.a.createElement(v.b.Item,null,n.a.createElement("div",{key:a},1===m||2===m||3===m?n.a.createElement("div",{style:{borderRadius:20,position:"absolute",zIndex:10}},n.a.createElement(Fa.a,{style:{width:40,height:40},preview:!1,src:"/image/\u751f\u65e5\u86cb\u7cd5/\u6392\u884c/\u6392\u540d".concat(m,".png")})):n.a.createElement("div",null),n.a.createElement(Fa.a,{style:{border:"1px dotted #00A2A5",borderRadius:8},fallback:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3PTWBSGcbGzM6GCKqlIBRV0dHRJFarQ0eUT8LH4BnRU0NHR0UEFVdIlFRV7TzRksomPY8uykTk/zewQfKw/9znv4yvJynLv4uLiV2dBoDiBf4qP3/ARuCRABEFAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghgg0Aj8i0JO4OzsrPv69Wv+hi2qPHr0qNvf39+iI97soRIh4f3z58/u7du3SXX7Xt7Z2enevHmzfQe+oSN2apSAPj09TSrb+XKI/f379+08+A0cNRE2ANkupk+ACNPvkSPcAAEibACyXUyfABGm3yNHuAECRNgAZLuYPgEirKlHu7u7XdyytGwHAd8jjNyng4OD7vnz51dbPT8/7z58+NB9+/bt6jU/TI+AGWHEnrx48eJ/EsSmHzx40L18+fLyzxF3ZVMjEyDCiEDjMYZZS5wiPXnyZFbJaxMhQIQRGzHvWR7XCyOCXsOmiDAi1HmPMMQjDpbpEiDCiL358eNHurW/5SnWdIBbXiDCiA38/Pnzrce2YyZ4//59F3ePLNMl4PbpiL2J0L979+7yDtHDhw8vtzzvdGnEXdvUigSIsCLAWavHp/+qM0BcXMd/q25n1vF57TYBp0a3mUzilePj4+7k5KSLb6gt6ydAhPUzXnoPR0dHl79WGTNCfBnn1uvSCJdegQhLI1vvCk+fPu2ePXt2tZOYEV6/fn31dz+shwAR1sP1cqvLntbEN9MxA9xcYjsxS1jWR4AIa2Ibzx0tc44fYX/16lV6NDFLXH+YL32jwiACRBiEbf5KcXoTIsQSpzXx4N28Ja4BQoK7rgXiydbHjx/P25TaQAJEGAguWy0+2Q8PD6/Ki4R8EVl+bzBOnZY95fq9rj9zAkTI2SxdidBHqG9+skdw43borCXO/ZcJdraPWdv22uIEiLA4q7nvvCug8WTqzQveOH26fodo7g6uFe/a17W3+nFBAkRYENRdb1vkkz1CH9cPsVy/jrhr27PqMYvENYNlHAIesRiBYwRy0V+8iXP8+/fvX11Mr7L7ECueb/r48eMqm7FuI2BGWDEG8cm+7G3NEOfmdcTQw4h9/55lhm7DekRYKQPZF2ArbXTAyu4kDYB2YxUzwg0gi/41ztHnfQG26HbGel/crVrm7tNY+/1btkOEAZ2M05r4FB7r9GbAIdxaZYrHdOsgJ/wCEQY0J74TmOKnbxxT9n3FgGGWWsVdowHtjt9Nnvf7yQM2aZU/TIAIAxrw6dOnAWtZZcoEnBpNuTuObWMEiLAx1HY0ZQJEmHJ3HNvGCBBhY6jtaMoEiJB0Z29vL6ls58vxPcO8/zfrdo5qvKO+d3Fx8Wu8zf1dW4p/cPzLly/dtv9Ts/EbcvGAHhHyfBIhZ6NSiIBTo0LNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiEC/wGgKKC4YMA4TAAAAABJRU5ErkJggg==",preview:!0,src:"".concat("/image/\u751f\u65e5\u86cb\u7cd5/\u86cb\u7cd53.0","/").concat(a,"-\u65b9\u56fe.jpg")}),n.a.createElement("div",null,n.a.createElement("div",{style:{marginTop:4}},n.a.createElement(Fa.a,{style:{width:30,height:30},preview:!1,src:"/image/\u5f2f\u9ea6logo\u65b9-\u9ed1\u767d.png"}),n.a.createElement("span",{style:{fontSize:16,fontWeight:"bold"}},"\u300a".concat(a,"\u300b")),n.a.createElement("span",{style:{fontSize:14,marginTop:4,float:"right",paddingTop:4,paddingBottom:4,paddingLeft:8,paddingRight:8,borderRadius:10,textAlign:"center",backgroundColor:"#00A2A5",color:"white"},onClick:function(){e.handleOrderNowClick(0,a,i,r,o)}},"\u9884\u5b9a")),n.a.createElement("div",{style:{fontSize:14}},n.a.createElement("span",null,i)),n.a.createElement("div",{style:{fontSize:13}},n.a.createElement(Ba.a,{style:{color:"#00A2A5"}}),n.a.createElement("span",null," ".concat(d," ")),n.a.createElement("span",null,"\u8d77"),n.a.createElement(Ma.a,{style:{color:"#00A2A5",marginLeft:8}}),n.a.createElement("span",null," ".concat(l,"\u5143 ")),n.a.createElement("span",null,"\u8d77")),s?n.a.createElement("div",{style:{color:"#00A2A5",fontSize:12}},"\u534a\u5e74\u5185\u9500\u552e\u6570\u91cf\uff1a".concat(t.productItems[a].saleNumber)):n.a.createElement("div",null))))}})))}))),n.a.createElement("div",{style:{textAlign:"center",marginTop:0,fontSize:24,backgroundColor:"#00A2A5",color:"white",borderRadius:0,paddingTop:30,paddingBottom:30},onClick:function(){e.handleOrderNowClick(1,"\u79c1\u4eba\u5b9a\u5236","\u70b9\u51fb+\u9009\u62e9\u79c1\u4eba\u8ba2\u5236\u86cb\u7cd5\u56fe\u7247",{"\u725b\u5976\u5976\u6cb9":{"6\u5bf8":"--","8\u5bf8":"--","10\u5bf8":"--","12\u5bf8":"--"},"\u52a8\u7269\u5976\u6cb9":{"6\u5bf8":"--","8\u5bf8":"--","10\u5bf8":"--","12\u5bf8":"--"}},!0)}},n.a.createElement("span",null,"\u79c1\u4eba\u8ba2\u5236\u86cb\u7cd5"),n.a.createElement("span",{style:{color:"whitesmoke",fontSize:14,marginLeft:8}},"\u70b9\u51fb\u9884\u5b9a"))),U?n.a.createElement("div",{ref:function(t){e._theDiv4Capture=t},style:G},n.a.createElement("div",{id:"qrcode",style:{textAlign:"right",position:"absolute",paddingRight:20,paddingTop:10,width:750,height:150}},n.a.createElement("div",{style:{fontSize:14,fontWeight:"bold"}},"\u7535\u5b50\u8ba2\u8d2d\u5355\u4e8c\u7ef4\u7801\uff1a"),n.a.createElement(Fa.a,{style:{width:150,height:150},preview:!1,src:q})),n.a.createElement("div",{style:{textAlign:"left",position:"absolute",paddingLeft:20,width:750,fontSize:14,paddingTop:10}},"\u8ba2\u8d2d\u65f6\u95f4\uff1a".concat(Q)),n.a.createElement("div",{style:{fontSize:22,fontWeight:"bold",textAlign:"center",paddingTop:6,paddingBottom:6}}," \u86cb\u7cd5\u8ba2\u8d2d\u5355"),n.a.createElement("div",null,n.a.createElement("div",{style:Z},n.a.createElement("div",{style:{fontSize:20,textAlign:"center",paddingTop:4,paddingBottom:4,fontWeight:"bold",background:"#D8D8D8",borderBottom:"1px dashed black"}},n.a.createElement("span",null,"\u300a".concat(p,"\u300b"))),n.a.createElement("div",null,n.a.createElement("div",{style:{position:"relative"}},n.a.createElement(Fa.a,{preview:!1,src:y}),n.a.createElement(Fa.a,{style:{width:60,height:60,position:"absolute",top:-212,right:2},preview:!1,src:"/image/\u5f2f\u9ea6logo\u65b9-\u9ed1\u767d.png"})),n.a.createElement(Fa.a,{style:{marginTop:16},preview:!1,src:"/image/\u5f2f\u9ea6logo\u957f.png"}))),n.a.createElement("div",{style:X},n.a.createElement(Ha.a,{orientation:"left",dashed:!0,style:{marginTop:0,marginBottom:0,fontSize:8}},"\u5236\u4f5c"),n.a.createElement("div",{style:{marginTop:4,marginBottom:4}},n.a.createElement("span",{style:{fontSize:14,fontWeight:"bold"}},"\u5976\u6cb9\uff1a"),n.a.createElement("span",{style:{fontSize:14}},b)),n.a.createElement("div",{style:{marginTop:4,marginBottom:4}},n.a.createElement("span",{style:{fontSize:14,fontWeight:"bold"}},"\u5c3a\u5bf8\uff1a"),n.a.createElement("span",{style:{fontSize:14}},T),"\u7ec4\u5408"===T?n.a.createElement("span",{style:{fontSize:14}},x):n.a.createElement("span",null)),n.a.createElement("div",{style:{marginTop:4,marginBottom:4}},n.a.createElement("span",{style:{fontSize:14,fontWeight:"bold"}},"\u4ef7\u683c\uff1a"),n.a.createElement("span",{style:{fontSize:14}},S),n.a.createElement("span",{style:{fontSize:14}},"\u5143")),n.a.createElement("div",{style:{marginTop:4,marginBottom:4}},n.a.createElement("span",{style:{fontSize:14,fontWeight:"bold"}},"\u5939\u5fc3\uff1a"),n.a.createElement("span",{style:{fontSize:14}},w?A.join("+"):"\u65e0\u9700\u5939\u5fc3")),n.a.createElement("div",{style:{marginTop:4,marginBottom:4}},n.a.createElement("span",{style:{fontSize:14,fontWeight:"bold"}},"\u8721\u70db\uff1a"),n.a.createElement("span",{style:{fontSize:14}},I),I===ye[2].value?n.a.createElement("span",{style:{fontSize:14}},"".concat(C)):n.a.createElement("span",null),"\u9700\u8981\u706b\u67f4"===D?n.a.createElement("span",{style:{fontSize:14}},"+\u706b\u67f4\u76d2"):n.a.createElement("span",null)),n.a.createElement("div",{style:{marginTop:4,marginBottom:4}},n.a.createElement("span",{style:{fontSize:14,fontWeight:"bold"}},"\u5e3d\u5b50\uff1a"),n.a.createElement("span",{style:{fontSize:14}},O)),n.a.createElement("div",{style:{marginTop:4,marginBottom:4}},n.a.createElement("span",{style:{fontSize:14,fontWeight:"bold"}},"\u9910\u5177\uff1a"),n.a.createElement("span",{style:{fontSize:14}},L),n.a.createElement("span",{style:{fontSize:14}},"\u5957")),n.a.createElement(Ha.a,{orientation:"left",style:{marginTop:0,marginBottom:0,fontSize:8}},"\u53d6\u8d27"),n.a.createElement("div",null,n.a.createElement("span",{style:{fontSize:14,fontWeight:"bold"}},"\u65f6\u95f4\uff1a"),n.a.createElement("span",{style:{fontSize:18,color:"red"}},P?P.format("YYYY-MM-DD ddd"):""),n.a.createElement("span",{style:{fontSize:18,color:"red"}},z?z.format(" a HH:mm"):"")),n.a.createElement("div",{style:{marginTop:4,marginBottom:4}},n.a.createElement("span",{style:{fontSize:14,fontWeight:"bold"}},"\u65b9\u5f0f\uff1a"),n.a.createElement("span",{style:{fontSize:14}},d)),n.a.createElement("div",{style:{marginTop:4,marginBottom:4}},n.a.createElement("span",{style:{fontSize:14,fontWeight:"bold"}},"\u95e8\u5e97\uff1a"),n.a.createElement("span",{style:{fontSize:14}},R)),d===Za[1].value?n.a.createElement("div",{style:{marginTop:4,marginBottom:4}},n.a.createElement("span",{style:{fontSize:14,fontWeight:"bold"}},"\u5730\u5740\uff1a"),n.a.createElement("span",{style:{fontSize:14}},B)):n.a.createElement("div",null),n.a.createElement("div",{style:{marginTop:4,marginBottom:4}},n.a.createElement("span",{style:{fontSize:14,fontWeight:"bold"}},"\u59d3\u540d\uff1a"),n.a.createElement("span",{style:{fontSize:18,color:"red"}},"".concat(M,"\uff08").concat(_,"\uff09"))),n.a.createElement(Ha.a,{orientation:"left",style:{marginTop:0,marginBottom:0,fontSize:8}},"\u5176\u5b83"),n.a.createElement("div",{style:{marginTop:4,marginBottom:4,marginRight:8}},n.a.createElement("span",{style:{fontSize:14,fontWeight:"bold"}},"\u5907\u6ce8\uff1a"),n.a.createElement("span",{style:{fontSize:18,color:"red",wordWrap:"break-word"}},Y))))):n.a.createElement("div",null),n.a.createElement("div",{style:{textAlign:"center",background:"#D8D8D8",height:100}},n.a.createElement("div",{style:{paddingTop:12,marginTop:10}},"\u603b\u90e8\uff1a\u6f33\u5dde\u5e02\u6f33\u6d66\u53bf\u5e9c\u524d\u8857\u897f247\u53f7(\u6559\u80b2\u5c40\u5bf9\u9762)"),n.a.createElement("div",{style:{color:"blue",fontSize:14}},n.a.createElement("span",{style:{color:"black"}},"\xa9\u5f2f\u9ea6"),n.a.createElement("a",{href:"http://beian.miit.gov.cn"},n.a.createElement("span",{style:{marginLeft:8}},"\u95fdICP\u59072022007668\u53f7-1")),n.a.createElement("div",null,n.a.createElement("a",{href:"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=35062302000230"},n.a.createElement("span",null,n.a.createElement(Fa.a,{preview:!1,src:"/image/\u516c\u5b89\u5907\u6848\u56fe\u6807.png",style:{float:"left"}})),n.a.createElement("span",{style:{marginLeft:8}},"\u95fd\u516c\u7f51\u5b89\u5907 35062302000230\u53f7")))))),n.a.createElement(Ja.a,null))}}]),a}(n.a.Component),or=a(472),cr=Ya.a.Panel,lr=Ne.a.confirm,sr="/image/\u9762\u5305\u725b\u5976",dr=[{categoryId:"1656244666392267569",categoryName:"\u5f2f\u9ea6\u5c0f\u996e\u6599",description:"\u7279\u9009\u7279\u996e\uff0c\u590f\u5b63\u5fc5\u5907",thumbnails:["".concat(sr,"/\u5f2f\u9ea6\u5c0f\u996e\u6599/\u6768\u679d\u7518\u9732\u7279\u996e.jpg"),"".concat(sr,"/\u5f2f\u9ea6\u5c0f\u996e\u6599/\u624b\u6253\u91d1\u6854\u67e0\u6aac.jpg"),"".concat(sr,"/\u5f2f\u9ea6\u5c0f\u996e\u6599/\u8702\u871c\u70e7\u4ed9\u8349.jpg")],productItems:[]},{categoryId:"1593049881212199906",categoryName:"\u5f2f\u9ea6\u5e38\u6e29\u86cb\u7cd5",description:"\u9e21\u86cb\u7cd5\u70b9\u3001\u56de\u5473\u65e0\u7a77",thumbnails:["".concat(sr,"/\u5f2f\u9ea6\u5e38\u6e29\u86cb\u7cd5/\u8f7b\u4e73\u916a\u829d\u58eb\u86cb\u7cd5.jpg"),"".concat(sr,"/\u5f2f\u9ea6\u5e38\u6e29\u86cb\u7cd5/\u6d77\u82d4\u5c0f\u8d1d.jpg"),"".concat(sr,"/\u5f2f\u9ea6\u5e38\u6e29\u86cb\u7cd5/\u6ce1\u8299(4\u4e2a\u88c5).jpg")],productItems:[]},{categoryId:"1604471906489441680",categoryName:"\u5f2f\u9ea6\u5c0f\u86cb\u7cd5",description:"\u5c0f\u5c0f\u4eea\u5f0f\u3001\u5feb\u4e50\u6c38\u8fdc",thumbnails:["".concat(sr,"/\u5f2f\u9ea6\u5c0f\u86cb\u7cd5/\u8ff7\u4f60\u5c0f\u86cb\u7cd5.jpg"),"".concat(sr,"/\u5f2f\u9ea6\u5c0f\u86cb\u7cd5/\u5976\u8336\u86cb\u7cd5(5\u5bf8).jpg"),"".concat(sr,"/\u5f2f\u9ea6\u5c0f\u86cb\u7cd5/\u6c34\u679c\u86cb\u7cd5(5\u5bf8).jpg")],productItems:[]},{categoryId:"1593049816479739965",categoryName:"\u5f2f\u9ea6\u73b0\u70e4\u9762\u5305",description:"\u65b0\u9c9c\u73b0\u70e4\u3001\u7f8e\u5473\u65e0\u9650",thumbnails:["".concat(sr,"/\u5f2f\u9ea6\u73b0\u70e4\u9762\u5305/\u829d\u58eb\u9e21\u6392\u4e09\u660e\u6cbb.jpg"),"".concat(sr,"/\u5f2f\u9ea6\u73b0\u70e4\u9762\u5305/\u5de7\u514b\u529b\u9ebb\u85af\u7403.jpg"),"".concat(sr,"/\u5f2f\u9ea6\u73b0\u70e4\u9762\u5305/\u624b\u5de5\u86cb\u631e(2\u4e2a).jpg")],productItems:[]},{categoryId:"1592989355905414162",categoryName:"\u5f2f\u9ea6\u897f\u70b9\u6155\u65af",description:"\u751c\u70b9\u6155\u65af\u3001\u70e6\u607c\u62dc\u62dc",thumbnails:["".concat(sr,"/\u5f2f\u9ea6\u897f\u70b9\u6155\u65af/\u96ea\u5a9a\u5a18(\u8292\u679c+\u8349\u8393).jpg"),"".concat(sr,"/\u5f2f\u9ea6\u897f\u70b9\u6155\u65af/\u8292\u679c\u6bdb\u5dfe\u5377.jpg"),"".concat(sr,"/\u5f2f\u9ea6\u897f\u70b9\u6155\u65af/\u9ed1\u68ee\u6797\u6155\u65af.jpg")],productItems:[]},{categoryId:"1593049854760654816",categoryName:"\u5f2f\u9ea6\u5410\u53f8\u9762\u5305",description:"\u5207\u7247\u5410\u53f8\u3001\u7247\u7247\u7559\u9999",thumbnails:["".concat(sr,"/\u5f2f\u9ea6\u5410\u53f8\u9762\u5305/\u62b9\u8336\u7ea2\u8c46\u5207\u7247\u5410\u53f8.jpg"),"".concat(sr,"/\u5f2f\u9ea6\u5410\u53f8\u9762\u5305/\u7eaf\u5976\u62c9\u4e1d\u5c0f\u5410\u53f8.jpg"),"".concat(sr,"/\u5f2f\u9ea6\u5410\u53f8\u9762\u5305/\u7ea2\u8c46\u5c0f\u5410\u53f8.jpg")],productItems:[]},{categoryId:"1626767161867698544",categoryName:"\u5f2f\u9ea6\u9910\u5305\u9762\u5305",description:"\u5706\u5706\u9910\u5305\u3001\u751f\u6d3b\u7f8e\u6ee1",thumbnails:["".concat(sr,"/\u5f2f\u9ea6\u9910\u5305\u9762\u5305/\u7d2b\u85af\u828b\u6ce5\u9910\u5305.jpg"),"".concat(sr,"/\u5f2f\u9ea6\u9910\u5305\u9762\u5305/\u6c99\u62c9\u5305.jpg"),"".concat(sr,"/\u5f2f\u9ea6\u9910\u5305\u9762\u5305/\u7279\u9999\u5305.jpg")],productItems:[]},{categoryId:"1593059349213583584",categoryName:"\u5f2f\u9ea6\u5e72\u70b9\u997c\u5e72",description:"\u997c\u5e72\u8336\u70b9\u3001\u60ec\u610f\u5348\u540e",thumbnails:["".concat(sr,"/\u5f2f\u9ea6\u5e72\u70b9\u997c\u5e72/\u725b\u6cb9\u66f2\u5947\u997c\u5e72.jpg")],productItems:[]},{categoryId:"1652965113501744892",categoryName:"\u5f2f\u9ea6\u4e2d\u5f0f\u7cd5\u70b9",description:"\u4f20\u7edf\u7cd5\u70b9\uff0c\u7ecf\u5178\u4f20\u627f",thumbnails:["".concat(sr,"/\u5f2f\u9ea6\u4e2d\u5f0f\u7cd5\u70b9/\u7eff\u8c46\u997c.jpg"),"".concat(sr,"/\u5f2f\u9ea6\u4e2d\u5f0f\u7cd5\u70b9/\u725b\u820cQ\u997c\uff08\u9999\u828b\u5473\uff09.jpg")],productItems:[]},{categoryId:"1615972878471894425",categoryName:"\u957f\u5bcc\u5e38\u6e29\u725b\u5976",description:"\u7cbe\u54c1\u725b\u5976\u3001\u5f3a\u58ee\u8eab\u4f53",thumbnails:["".concat(sr,"/\u957f\u5bcc\u5e38\u6e29\u725b\u5976/\u957f\u5bcc24\u7cbe\u54c1\u7eaf\u5976.jpg"),"".concat(sr,"/\u957f\u5bcc\u5e38\u6e29\u725b\u5976/\u957f\u5bcc\u6b66\u5937\u68ee\u6797\u7267\u573a\u7ea2\u67a3\u725b\u5976.jpg"),"".concat(sr,"/\u957f\u5bcc\u5e38\u6e29\u725b\u5976/\u957f\u5bcc\u9ad8\u9499\u725b\u5976.jpg")],productItems:[]}],mr=function(e){Object(u.a)(r,e);var t=Object(p.a)(r);function r(e){var a;return Object(d.a)(this,r),(a=t.call(this,e)).handleCollapseOnChange=function(){var e=Object(s.a)(l.a.mark((function e(t){var r,n,i,o,c,s,d,m,u,p,f,g,h,y,b,E,v,k,T,x,S,w,A,I,D,O,C,L,P,N,z;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:for(r=Object(Xt.a)(t),n=0;n<a._lastKeys.length;++n)i=a._lastKeys[n],-1!==(o=r.indexOf(i))&&r.splice(o,1);for(c=Object(Xt.a)(a._lastKeys),s=0;s<t.length;++s)d=t[s],-1!==(m=c.indexOf(d))&&c.splice(m,1);if(a._lastKeys=Object(Xt.a)(t),u=a.state,p=u.foodCategorys,f=u.foodsRecommendItems,g=Object(Xt.a)(p),1!==r.length){e.next=69;break}e.prev=10,h=r[0],b=0;case 13:if(!(b<g.length)){e.next=21;break}if((E=g[b]).categoryId!==h){e.next=18;break}return y=E,e.abrupt("break",21);case 18:++b,e.next=13;break;case 21:if(!y){e.next=64;break}if(y.opened=!0,a.setState({foodCategorys:g}),!(y.productItems.length<=0)||y.spinning){e.next=64;break}return y.spinning=!0,v=se()(),k=v.endOf("day").format("YYYY.MM.DD HH:mm:ss"),T=v.subtract(5,"days").startOf("day").format("YYYY.MM.DD HH:mm:ss"),e.next=31,K(h,["3995767","4382444"],"1",T,k,"barcode","true");case 31:if(0!==(x=e.sent).errCode){e.next=62;break}S=x.list,w=[],A=0;case 36:if(!(A<S.length)){e.next=60;break}I=Object(Et.a)({},S[A]),D=Object.keys(f),O=!1,C=0;case 41:if(!(C<D.length)){e.next=48;break}if(I.productName!==D[C]){e.next=45;break}return O=!0,e.abrupt("break",48);case 45:++C,e.next=41;break;case 48:if(!O){e.next=50;break}return e.abrupt("continue",57);case 50:I.buyNumber=0,I.disable=!1,I["\u914d\u6599"]="-",I["\u89c4\u683c"]="-",I["\u4ef7\u683c"]=0,a._breadAll[I.productName]&&(I["\u914d\u6599"]=a._breadAll[I.productName]["\u914d\u6599"]?a._breadAll[I.productName]["\u914d\u6599"]:"-",I["\u89c4\u683c"]=a._breadAll[I.productName]["\u89c4\u683c"]?a._breadAll[I.productName]["\u89c4\u683c"]:"-",I["\u4ef7\u683c"]=a._breadAll[I.productName]["\u4ef7\u683c"]?a._breadAll[I.productName]["\u4ef7\u683c"]:0),w.push(I);case 57:++A,e.next=36;break;case 60:w=w.sort((function(e,t){return t.saleNumber-e.saleNumber})),y.productItems=w;case 62:y.spinning=!1,a.setState({foodCategorys:g});case 64:e.next=69;break;case 66:e.prev=66,e.t0=e.catch(10),console.log(e.t0);case 69:if(1!==c.length){e.next=81;break}L=c[0],N=0;case 72:if(!(N<g.length)){e.next=80;break}if((z=g[N]).categoryId!==L){e.next=77;break}return P=z,e.abrupt("break",80);case 77:++N,e.next=72;break;case 80:P&&(P.opened=!1,a.setState({foodCategorys:g}));case 81:case"end":return e.stop()}}),e,null,[[10,66]])})));return function(t){return e.apply(this,arguments)}}(),a.updateWeixinConfig=Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!==window.navigator.userAgent.toLowerCase().indexOf("micromessenger")){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,$(document.URL.split("#")[0]);case 5:if(!(t=e.sent)){e.next=12;break}if(t.appId){e.next=9;break}return e.abrupt("return");case 9:window.wx.config({debug:!1,appId:t.appId,timestamp:t.timestamp,nonceStr:t.nonceStr,signature:t.signature,jsApiList:["updateAppMessageShareData","updateTimelineShareData"]}),window.wx.ready((function(){var e="\u5f2f\u9ea6\u9762\u5305\u725b\u5976\u996e\u6599\u7535\u5b50\u83dc\u5355\uff0c\u4e0d\u5b9a\u671f\u66f4\u65b0\uff0c\u70b9\u51fb\u9884\u5b9a",t="http://gratefulwheat.ruyue.xyz/image/\u9762\u5305\u725b\u5976/\u5f2f\u9ea6\u73b0\u70e4\u9762\u5305/\u829d\u58eb\u9e21\u6392\u4e09\u660e\u6cbb.jpg";window.wx.updateAppMessageShareData({title:e,desc:"\u73b0\u70e4\u9762\u5305\uff0c\u897f\u70b9\u6155\u65af\uff0c\u5e38\u6e29\u86cb\u7cd5\uff0c\u5410\u53f8\u9910\u5305\uff0c\u5c0f\u86cb\u7cd5\uff0c\u5c0f\u996e\u6599\uff0c\u725b\u5976\u7b49\u7f8e\u98df~",link:document.URL,imgUrl:t,success:function(){},fail:function(e){}}),window.wx.updateTimelineShareData({title:e,link:document.URL,imgUrl:t,success:function(){},fail:function(){}})})),window.wx.error((function(e){console.log("window.wx error res = "+JSON.stringify(e))}));case 12:case"end":return e.stop()}}),e)}))),a.handleIncreaseItemToCart=function(e,t){if(e.buyNumber=e.buyNumber+1,a.forceUpdate(),e.buyNumber>=1){for(var r,n=a.state.orderList,i=Object(Xt.a)(n),o=0;o<i.length;++o)if(i[o].barcode===e.barcode){r=i[o];break}if(!r){var c=sr;c+="/",c+=t,c+="/",c+=e.productName,c+=".jpg",e.imageUrl=c,i.push(e)}a.setState({orderList:i})}setTimeout((function(){for(var e=a.state.orderList,t=0,r=0,n=0;n<e.length;++n){var i=e[n],o=i["\u4ef7\u683c"]*i.buyNumber;t+=o=a.fixTo2(o),r+=i.buyNumber}t=a.fixTo2(t),a.setState({orderListTotalPrice:t,orderListTotalCount:r})}),0)},a.handleDecreaseItemFromCart=function(e){if(e.buyNumber=e.buyNumber-1,a.forceUpdate(),e.buyNumber<=0){for(var t,r=a.state.orderList,n=Object(Xt.a)(r),i=0;i<n.length;++i)if(n[i].barcode===e.barcode){t=n[i];break}t&&n.splice(n.indexOf(t),1),a.setState({orderList:n})}setTimeout((function(){for(var e=a.state.orderList,t=0,r=0,n=0;n<e.length;++n){var i=e[n],o=i["\u4ef7\u683c"]*i.buyNumber;t+=o=a.fixTo2(o),r+=i.buyNumber}t=a.fixTo2(t),a.setState({orderListTotalPrice:t,orderListTotalCount:r})}),0)},a.fixTo2=function(e){for(var t=1,a=2;a>0;t*=10,a--);for(;a<0;t/=10,a++);return Math.round(e*t)/t},a.copyText=function(e){var t=a.createElement(e);t.select(),t.setSelectionRange(0,t.value.length),document.execCommand("copy"),t.remove()},a.createElement=function(e){var t="rtl"===document.documentElement.getAttribute("dir"),a=document.createElement("textarea");a.style.fontSize="12pt",a.style.border="0",a.style.padding="0",a.style.margin="0",a.style.position="absolute",a.style[t?"right":"left"]="-9999px";var r=window.pageYOffset||document.documentElement.scrollTop;return a.style.top="".concat(r,"px"),a.setAttribute("readonly",""),a.value=e,document.body.appendChild(a),a},a.state={foodsRecommendTitle:"\u6700\u65b0\u5546\u54c1",foodsRecommendItems:{},foodsRecommendLoading:!0,foodCategorys:dr,orderList:[],orderListShow:!1,orderListTotalPrice:0,orderListTotalCount:0,goOrderViewShow:!1,orderText:"",remarkText:"",debug:0},a._lastKeys=[],a._breadAll=[],a}return Object(m.a)(r,[{key:"componentDidMount",value:function(){var e=Object(s.a)(l.a.mark((function e(){var t,a,r,n,i,o,c,s,d,m,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.query,a=t&&t.get("debug"),!(this._breadAll.length<=0)){e.next=6;break}return e.next=5,X();case 5:this._breadAll=e.sent;case 6:return e.next=8,Z();case 8:for(r=e.sent,n=r.recommendTitle,i=r.recommendItems,o={},c=0;c<i.length;++c)for(s=i[c],d=Object.keys(this._breadAll),m=0;m<d.length;++m)u=d[m],s===u&&(o[u]=this._breadAll[u],o[u].buyNumber=0,o[u].disable=!1);this.setState({foodsRecommendTitle:n,foodsRecommendItems:o,foodsRecommendLoading:!1,debug:a}),this.updateWeixinConfig();case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,r=t.foodsRecommendTitle,i=t.foodsRecommendItems,o=t.foodsRecommendLoading,c=t.foodCategorys,l=t.orderList,s=t.orderListShow,d=t.orderListTotalPrice,m=t.orderListTotalCount,u=t.goOrderViewShow,p=t.orderText,f=t.remarkText,g=t.debug,y=!1,b="\u53bb\u9884\u5b9a";if(d<20){y=!0;var T=20-d;b="\u5dee\xa5"+(T=this.fixTo2(T))+"\u8d77\u9001"}return n.a.createElement("div",null,n.a.createElement("div",{style:{textAlign:"center",color:"#00A2A5",fontSize:16,fontWeight:"normal",paddingTop:7,paddingBottom:5}},n.a.createElement(Da.a,{springConfig:{stiffness:70,damping:31},adjustingSpeed:500},n.a.createElement("span",null,n.a.createElement("span",null,"\u8054\u7cfb\u5f2f\u9ea6\u603b\u5e97"),n.a.createElement("span",{style:{textDecoration:"underline"}},n.a.createElement("a",{href:"tel:13290768588"},"13290768588")),n.a.createElement("span",null," (\u5fae\u4fe1\u540c\u53f7)")))),n.a.createElement("div",{style:{textAlign:"center",marginTop:0,fontSize:20,backgroundColor:"#00A2A5",color:"white",borderRadius:30,paddingTop:8,paddingBottom:8}},g?"".concat(r,"\uff08").concat(Object.keys(i).length,"\uff09"):"".concat(r)),n.a.createElement(k.a,{spinning:o,size:"large"},n.a.createElement(v.b,{style:{marginLeft:6,marginRight:6,marginTop:6},grid:{gutter:2,column:2},dataSource:Object.keys(i),renderItem:function(t){var a=i[t],r=sr;r+="/",r+=a["\u5206\u7c7b"],r+="/",r+=t,r+=".jpg";var o=a.buyNumber<=0;return n.a.createElement(v.b.Item,null,n.a.createElement("div",null,n.a.createElement(Fa.a,{preview:!0,src:r,fallback:"".concat(sr,"/\u6682\u65f6\u7f3a\u8d27.jpg"),onError:function(t){a.disable=!0,e.forceUpdate()}}),n.a.createElement("div",{style:{paddingTop:4,paddingLeft:4,paddingRight:4,backgroundColor:"transparent"}},n.a.createElement("div",{style:{fontSize:16,fontWeight:"bold",color:"black"}},t),n.a.createElement("div",{style:{fontSize:12,color:"black"}},"\u914d\u6599\uff1a".concat(a["\u914d\u6599"])),n.a.createElement("div",{style:{fontSize:8,color:"gray"}},"\u89c4\u683c\uff1a".concat(a["\u89c4\u683c"])),n.a.createElement("div",{style:{fontSize:15,fontWeight:"bold",color:"black"}},n.a.createElement("span",null,"\xa5"),n.a.createElement("span",null,a["\u4ef7\u683c"]),n.a.createElement("span",null,"/"),n.a.createElement("span",null,a.unit),n.a.createElement("span",{style:{float:"right",backgroundColor:"transparent"}},o?n.a.createElement("span",null):n.a.createElement("span",null,n.a.createElement(E.a,{size:"small",shape:"circle",icon:n.a.createElement(or.a,null),onClick:function(){e.handleDecreaseItemFromCart(a)}})),"\xa0 \xa0",o?n.a.createElement("span",null):n.a.createElement("span",null,a.buyNumber),"\xa0 \xa0",n.a.createElement("span",null,n.a.createElement(E.a,{disabled:a.disable,style:{color:"#00A2A5"},size:"middle",shape:"circle",icon:n.a.createElement(za.a,null),onClick:function(){e.handleIncreaseItemToCart(a,a["\u5206\u7c7b"])}}))))),g?n.a.createElement("div",{style:{color:"red",fontSize:8}},n.a.createElement("span",null,"\u4e09\u5929\u5185\u9500\u552e\u91cf\uff1a"),n.a.createElement("span",null,a.saleNumber)):n.a.createElement("div",null),g?n.a.createElement("div",{style:{color:"red",fontSize:8}},n.a.createElement("span",null,a.barcode)):n.a.createElement("div",null)))}})),n.a.createElement("div",{style:{textAlign:"center",color:"#00A2A5",fontSize:18,paddingTop:10,paddingBottom:20}},"\u66f4\u591a\u5546\u54c1\u8bf7\u70b9\u51fb\u4e0b\u65b9\u5206\u7c7b\u67e5\u770b"),n.a.createElement(Ya.a,{bordered:!0,expandIcon:function(e){var t=e.isActive;return n.a.createElement(_a.a,{style:{fontSize:24,color:"whitesmoke"},rotate:t?90:0})},expandIconPosition:"end",onChange:this.handleCollapseOnChange},c.map((function(t){return n.a.createElement(cr,{header:n.a.createElement("div",{style:{color:"white",fontSize:20}},n.a.createElement("div",{style:{marginLeft:12}},n.a.createElement("div",null,g?"".concat(t.categoryName,"\uff08").concat(t.productItems.length,"\uff09"):"".concat(t.categoryName)),n.a.createElement("div",{style:{fontSize:12,color:"whitesmoke"}},"".concat(t.description))),n.a.createElement("div",{style:{marginLeft:4,marginTop:8}},t.thumbnails.map((function(e){var a=t.thumbnails.indexOf(e),r=t.thumbnails.length-1;return n.a.createElement("span",{key:a},n.a.createElement(Fa.a,{style:{marginLeft:6,width:50,height:50,borderRadius:25},preview:!1,src:e}),a===r?n.a.createElement("span",{style:{marginLeft:6}},"......"):n.a.createElement("span",null))})))),style:{backgroundColor:"#00A2A5",borderRadius:40},key:t.categoryId,extra:n.a.createElement("span",{style:{fontSize:16,color:"whitesmoke"}},t.opened?"\u70b9\u51fb\u5173\u95ed":"\u70b9\u51fb\u67e5\u770b\u66f4\u591a")},n.a.createElement(k.a,{spinning:t.spinning},n.a.createElement(v.b,{style:{marginLeft:-8,marginRight:-8,marginTop:-8},grid:{gutter:2,column:2},dataSource:t.productItems,renderItem:function(a){var r=sr;r+="/",r+=t.categoryName,r+="/",r+=a.productName,r+=".jpg";var i=a.buyNumber<=0;return n.a.createElement(v.b.Item,null,n.a.createElement("div",null,n.a.createElement(Fa.a,{preview:!0,src:r,fallback:"".concat(sr,"/\u6682\u65f6\u7f3a\u8d27.jpg"),onError:function(t){a.disable=!0,e.forceUpdate()}}),n.a.createElement("div",{style:{paddingTop:4,paddingLeft:4,paddingRight:4,backgroundColor:"transparent"}},n.a.createElement("div",{style:{fontSize:16,fontWeight:"bold",color:"black"}},a.productName),n.a.createElement("div",{style:{fontSize:12,color:"black"}},"\u914d\u6599\uff1a".concat(a["\u914d\u6599"])),n.a.createElement("div",{style:{fontSize:8,color:"gray"}},"\u89c4\u683c\uff1a".concat(a["\u89c4\u683c"])),n.a.createElement("div",{style:{fontSize:15,fontWeight:"bold",color:"black"}},n.a.createElement("span",null,"\xa5"),n.a.createElement("span",null,a["\u4ef7\u683c"]),n.a.createElement("span",null,"/"),n.a.createElement("span",null,a.unit),n.a.createElement("span",{style:{float:"right",backgroundColor:"transparent"}},i?n.a.createElement("span",null):n.a.createElement("span",null,n.a.createElement(E.a,{size:"small",shape:"circle",icon:n.a.createElement(or.a,null),onClick:function(){e.handleDecreaseItemFromCart(a)}})),"\xa0 \xa0",i?n.a.createElement("span",null):n.a.createElement("span",null,a.buyNumber),"\xa0 \xa0",n.a.createElement("span",null,n.a.createElement(E.a,{disabled:a.disable,danger:!0,size:"middle",shape:"circle",icon:n.a.createElement(za.a,null),onClick:function(){e.handleIncreaseItemToCart(a,t.categoryName)}}))))),g?n.a.createElement("div",{style:{color:"red",fontSize:8}},n.a.createElement("span",null,"\u4e09\u5929\u5185\u9500\u552e\u91cf\uff1a"),n.a.createElement("span",null,a.saleNumber)):n.a.createElement("div",null),g?n.a.createElement("div",{style:{color:"red",fontSize:8}},n.a.createElement("span",null,a.barcode)):n.a.createElement("div",null)))}})))}))),n.a.createElement("div",{style:{textAlign:"center",background:"#D8D8D8",height:100}},n.a.createElement("div",{style:{paddingTop:12,marginTop:10}},"\u603b\u90e8\uff1a\u6f33\u5dde\u5e02\u6f33\u6d66\u53bf\u5e9c\u524d\u8857\u897f247\u53f7(\u6559\u80b2\u5c40\u5bf9\u9762)"),n.a.createElement("div",{style:{color:"blue",fontSize:14}},n.a.createElement("span",{style:{color:"black"}},"\xa9\u5f2f\u9ea6"),n.a.createElement("a",{href:"http://beian.miit.gov.cn"},n.a.createElement("span",{style:{marginLeft:8}},"\u95fdICP\u59072022007668\u53f7-1")),n.a.createElement("div",null,n.a.createElement("a",{href:"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=35062302000230"},n.a.createElement("span",null,n.a.createElement(Fa.a,{preview:!1,src:"/image/\u516c\u5b89\u5907\u6848\u56fe\u6807.png",style:{float:"left"}})),n.a.createElement("span",{style:{marginLeft:8}},"\u95fd\u516c\u7f51\u5b89\u5907 35062302000230\u53f7"))))),n.a.createElement("div",{style:{height:60}}),n.a.createElement("div",{style:{height:60,position:"fixed",backgroundColor:"white",width:"100%",bottom:0}},n.a.createElement("div",{style:{float:"left",marginTop:4,marginLeft:8,width:50,height:50},onClick:function(){e.setState({orderListShow:!e.state.orderListShow})}},n.a.createElement(Fa.a,{style:{width:50,height:50},preview:!1,src:a(438)})),n.a.createElement("div",{style:{float:"left",width:20,height:16,backgroundColor:"red",color:"white",fontSize:8,textAlign:"center",borderRadius:6}},m),n.a.createElement("div",{style:{float:"left",marginLeft:20,marginTop:15,fontSize:20,fontWeight:"bold"}},n.a.createElement("span",{style:{fontSize:4}},"\xa5 "),n.a.createElement("span",{style:{fontSize:24}},d)),n.a.createElement("div",{style:{float:"right",marginRight:10,marginTop:10}},n.a.createElement(E.a,{disabled:y,type:"primary",shape:"round",style:{width:120,height:40},onClick:function(){for(var t="",a=0;a<l.length;++a){var r=l[a];t+=r.productName,t+="  ",t+="X",t+="  ",t+=r.buyNumber,t+="\n"}t+="\n",t+="\u5171 ",t+=m,t+=" \u4e2a | ",t+="\u8ba1 ",t+=d,t+=" \u5143",t+="\n",e.setState({goOrderViewShow:!0,orderText:t,remarkText:""})}},b))),s?n.a.createElement("div",{style:{height:"100%",width:"100%",position:"fixed",backgroundColor:"rgba(0, 0, 0, 0.5)",bottom:60}},n.a.createElement("div",{style:{maxHeight:"65%",overflow:"scroll",width:"100%",position:"absolute",backgroundColor:"white",bottom:0}},n.a.createElement("div",{style:{marginLeft:8,marginTop:6}},n.a.createElement("span",{style:{fontSize:8,color:"black"}},"\u5df2\u9009\u5546\u54c1"),n.a.createElement(E.a,{size:"small",style:{float:"right",right:4},onClick:function(){e.setState({orderListShow:!1})}},"\u6536\u8d77")),n.a.createElement(v.b,{itemLayout:"vertical",dataSource:l,renderItem:function(t){var a=t["\u4ef7\u683c"]*t.buyNumber;return a=e.fixTo2(a),n.a.createElement("div",null,n.a.createElement("div",{style:{margin:10,height:70,backgroundColor:"white"}},n.a.createElement("div",{style:{float:"left",width:70,height:70}},n.a.createElement(Fa.a,{style:{width:70,height:70},preview:!1,src:t.imageUrl})),n.a.createElement("div",{style:{float:"left",marginLeft:10,marginTop:4}},n.a.createElement("div",{style:{fontSize:16,fontWeight:"bold"}},t.productName),n.a.createElement("div",{style:{fontSize:8}},t.specification),n.a.createElement("div",{style:{marginTop:4,fontSize:15,fontWeight:"bold"}},n.a.createElement("span",null,"\xa5 "),n.a.createElement("span",null,a))),n.a.createElement("span",{style:{float:"right",marginTop:25,backgroundColor:"transparent"}},n.a.createElement("span",null,n.a.createElement(E.a,{size:"small",shape:"circle",icon:n.a.createElement(or.a,null),onClick:function(){e.handleDecreaseItemFromCart(t)}})),"\xa0 \xa0",n.a.createElement("span",{style:{fontSize:15,fontWeight:"bold"}},t.buyNumber),"\xa0 \xa0",n.a.createElement("span",null,n.a.createElement(E.a,{danger:!0,size:"middle",shape:"circle",icon:n.a.createElement(za.a,null),onClick:function(){e.handleIncreaseItemToCart(t)}})))))}}))):n.a.createElement("div",null),u?n.a.createElement("div",{style:{height:"100%",width:"100%",position:"fixed",backgroundColor:"rgba(0, 0, 0, 0.92)",top:0}},n.a.createElement("div",{style:{width:"100%",marginTop:20}},n.a.createElement("div",{style:{fontWeight:"bold",color:"white",marginLeft:"5%",marginRight:"5%"}},"1\uff1a\u8ba2\u5355\u4fe1\u606f"),n.a.createElement("textarea",{placeholder:"\u8f93\u5165\u9700\u8981\u7684\u5546\u54c1\u548c\u6570\u91cf",onChange:function(t){e.setState({orderText:t.target.value})},value:p,rows:8,style:{fontSize:16,fontWeight:"bold",width:"90%",marginTop:10,marginLeft:"5%",marginRight:"5%",paddingLeft:16,paddingTop:12,paddingRight:16,paddingBottom:12}})),n.a.createElement("div",{style:{width:"100%",marginTop:2}},n.a.createElement("div",{style:{fontWeight:"bold",color:"white",marginLeft:"5%",marginRight:"5%"}},"2\uff1a\u5907\u6ce8"),n.a.createElement("textarea",{placeholder:"\u8f93\u5165\u5907\u6ce8\uff08\u73ed\u7ea7\uff1b\u59d3\u540d\uff1b\u4f1a\u5458\u7535\u8bdd\u7b49\u7b49\uff09",onChange:function(t){e.setState({remarkText:t.target.value})},value:f,rows:1,style:{fontSize:14,fontWeight:"bold",width:"90%",marginTop:10,marginLeft:"5%",marginRight:"5%",paddingLeft:12,paddingTop:8,paddingRight:12,paddingBottom:8}})),n.a.createElement("div",{style:{color:"white",marginLeft:"5%",marginRight:"5%",marginTop:12}},"\u70b9\u51fb\u300a\u53d6\u6d88\u300b\uff0c\u53d6\u6d88\u9884\u5b9a\u3002"),n.a.createElement("div",{style:{color:"white",marginLeft:"5%",marginRight:"5%"}},"\u70b9\u51fb\u300a\u590d\u5236\u8ba2\u5355\u4fe1\u606f\u548c\u5907\u6ce8\u300b\uff0c\u5c06\u590d\u5236\u201c\u8ba2\u5355\u4fe1\u606f\u548c\u5907\u6ce8\u201d\u5230\u526a\u5207\u677f\u3002"),n.a.createElement("div",{style:{marginLeft:"5%",width:"100%",marginTop:20}},n.a.createElement("span",null,n.a.createElement(E.a,{danger:!0,onClick:function(){e.setState({goOrderViewShow:!1})}},"\u53d6\u6d88")),"\xa0\xa0\xa0\xa0",n.a.createElement("span",null,n.a.createElement(E.a,{type:"primary",size:"large",onClick:function(){if(p.trim().length<=0)h.b.error("\u8ba2\u5355\u4fe1\u606f\u4e3a\u7a7a\uff0c\u8bf7\u8f93\u5165\uff01");else{var t="-----------\n"+p+"-----------\n";f.length>0&&(t+=f+"\n-----------\n"),e.copyText(t);var a=p.split("\n");lr({title:n.a.createElement("div",{style:{textAlign:"center"}},n.a.createElement("div",null,"-----------"),a.length>0?a.map((function(e){return n.a.createElement("div",{key:e},e)})):n.a.createElement("div",null),n.a.createElement("div",null,"-----------"),f.length>0?n.a.createElement("div",null,n.a.createElement("div",null,f),n.a.createElement("div",null,"-----------")):n.a.createElement("div",null)),content:n.a.createElement("div",{style:{textAlign:"center"}},"\u201c\u8ba2\u5355\u4fe1\u606f\u548c\u5907\u6ce8\u201d\u5df2\u7ecf\u590d\u5236\u5230\u526a\u5207\u677f\uff0c\u70b9\u51fb\u300a\u53bb\u767b\u8bb0\u9884\u5b9a\u300b\u5c06\u5173\u95ed\u9875\u9762\uff0c\u8bf7\u5c06\u201c\u8ba2\u5355\u4fe1\u606f\u548c\u5907\u6ce8\u201d\u6587\u672c\u7c98\u8d34\u53d1\u9001\u7ed9#\u5f2f\u9ea6\u603b\u5e971\u53f7\u62162\u53f7#\u8fdb\u884c\u767b\u8bb0\u9884\u5b9a"),okText:"\u53bb\u767b\u8bb0\u9884\u5b9a",onOk:function(){window.wx.closeWindow()},onCancel:function(){}})}}},"\u590d\u5236\u8ba2\u5355\u4fe1\u606f\u548c\u5907\u6ce8")))):n.a.createElement("div",null))}}]),r}(n.a.Component),ur=[{categoryId:"1656244666392267569",categoryName:"\u5f2f\u9ea6\u5c0f\u996e\u6599",productItems:[]},{categoryId:"1593049881212199906",categoryName:"\u5f2f\u9ea6\u5e38\u6e29\u86cb\u7cd5",productItems:[]},{categoryId:"1604471906489441680",categoryName:"\u5f2f\u9ea6\u5c0f\u86cb\u7cd5",productItems:[]},{categoryId:"1593049816479739965",categoryName:"\u5f2f\u9ea6\u73b0\u70e4\u9762\u5305",productItems:[]},{categoryId:"1592989355905414162",categoryName:"\u5f2f\u9ea6\u897f\u70b9\u6155\u65af",productItems:[]},{categoryId:"1593049854760654816",categoryName:"\u5f2f\u9ea6\u5410\u53f8\u9762\u5305",productItems:[]},{categoryId:"1626767161867698544",categoryName:"\u5f2f\u9ea6\u9910\u5305\u9762\u5305",productItems:[]},{categoryId:"1593059349213583584",categoryName:"\u5f2f\u9ea6\u5e72\u70b9\u997c\u5e72",productItems:[]},{categoryId:"1652965113501744892",categoryName:"\u5f2f\u9ea6\u4e2d\u5f0f\u7cd5\u70b9",productItems:[]},{categoryId:"1615972878471894425",categoryName:"\u957f\u5bcc\u5e38\u6e29\u725b\u5976",productItems:[]}],pr=function(e){Object(u.a)(r,e);var t=Object(p.a)(r);function r(e){var a;return Object(d.a)(this,r),(a=t.call(this,e)).componentDidMount=Object(s.a)(l.a.mark((function e(){var t,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.props.query,r=t&&t.get("debug"),a.setState({debug:r}),a.refresh();case 4:case"end":return e.stop()}}),e)}))),a.refresh=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({productSpinning:!0,productSpinTipText:"\u83b7\u53d6\u5546\u54c1\u4fe1\u606f..."},Object(s.a)(l.a.mark((function e(){var t,r,n,i,o,c,s,d,m,u,p,f,g,h,y,b,E;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],r=0;case 2:if(!(r<ur.length)){e.next=16;break}return i=(n=ur[r]).categoryId,o=n.categoryName,c=se()(),s=c.endOf("day").format("YYYY.MM.DD HH:mm:ss"),d=c.subtract(5,"days").startOf("day").format("YYYY.MM.DD HH:mm:ss"),e.next=11,K(i,["3995767","4382444"],"1",d,s,"barcode","true");case 11:if(0===(m=e.sent).errCode&&m.list.length>0)for(u=m.list,p=0;p<u.length;++p)f=Object(Et.a)({},u[p]),p%4===0?((g={key:t.length+1,categoryName:o,productItems:[]}).productItems.push(f),t.push(g)):t[t.length-1].productItems.push(f);case 13:++r,e.next=2;break;case 16:for(h=[],y=0;y<t.length;++y)b=t[y],y%7===0?((E={key:h.length+1,productPages:[]}).productPages.push(b),h.push(E)):h[h.length-1].productPages.push(b);a.setState({allData:h,productSpinning:!1,productSpinTipText:""});case 19:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)}))),a.getLodopAfterInit=function(){var e=Object(Tt.getLodop)();if(e){e.PRINT_INIT("react\u4f7f\u7528\u6253\u5370\u63d2\u4ef6CLodop");e.SET_PRINTER_INDEX(Xe(e)),e.SET_PRINT_PAGESIZE(2,0,0,"A4"),e.SET_PREVIEW_WINDOW(0,0,0,800,600,""),e.SET_SHOW_MODE("LANDSCAPE_DEFROTATED",1),e.SET_PRINT_MODE("AUTO_CLOSE_PREWINDOW",1),e.ADD_PRINT_HTM(0,0,"100%","100%","<style>\n                </style> "+document.getElementById("printDiv").innerHTML)}return e},a.productPrintPreprew=function(){var e=a.getLodopAfterInit();e&&e.PREVIEW()},a.state={productSpinTipText:"",productSpinning:!1,allData:[],debug:0},a}return Object(m.a)(r,[{key:"render",value:function(){var e=this,t=this.state,r=t.allData,i=t.productSpinTipText,o=t.productSpinning,c=t.debug;return n.a.createElement("div",null,n.a.createElement(k.a,{tip:i,spinning:o,size:"large"},n.a.createElement("div",null,n.a.createElement(E.a,{style:{backgroundColor:"transparent",margin:10},onClick:function(){return e.productPrintPreprew()}},"\u5fae\u4fe1\u83dc\u5355\u6253\u5370"),n.a.createElement("div",{id:"printDiv"},r.map((function(e){var t=e.productPages,i=r.length,o=r.indexOf(e)+1;return n.a.createElement("div",{key:e.key,style:{backgroundColor:"transparent",width:1374,height:964}},t.map((function(e){var t=e.productItems;return n.a.createElement("div",{key:e.key,style:{float:"left",marginTop:0}},n.a.createElement("div",{style:{textAlign:"center",backgroundColor:"green",color:"white",marginLeft:0,marginRight:0,paddingTop:5,paddingBottom:5}},e.categoryName),n.a.createElement("div",{style:{height:10}}),n.a.createElement("div",{style:{float:"left",marginLeft:0,width:10,height:850,backgroundColor:"transparent"}}),n.a.createElement("div",{style:{float:"left",width:160,height:850}},t.map((function(t){var a="/image/\u9762\u5305\u725b\u5976";return a+="/",a+=e.categoryName,a+="/",a+=t.productName,a+=".jpg",n.a.createElement("div",{key:t.key},n.a.createElement("div",{style:{width:160,height:160}},n.a.createElement(Fa.a,{style:{width:160,height:160},preview:!1,fallback:"".concat("/image/\u9762\u5305\u725b\u5976","/\u6682\u65f6\u7f3a\u8d27.jpg"),src:a,onError:function(e){}})),n.a.createElement("div",{style:{fontSize:14,color:"black"}},t.productName),n.a.createElement("div",{style:{fontSize:12,color:"gray"}},t.specification),n.a.createElement("div",{style:{fontSize:14,color:"black"}},n.a.createElement("span",null,"\xa5"),n.a.createElement("span",null,t.price),n.a.createElement("span",null,"/"),n.a.createElement("span",null,t.unit)),n.a.createElement("div",{style:{height:5}}),c?n.a.createElement("div",{style:{color:"red",fontSize:8}},n.a.createElement("span",null,"\u4e09\u5929\u5185\u9500\u552e\u91cf\uff1a"),n.a.createElement("span",null,t.saleNumber)):n.a.createElement("div",null),c?n.a.createElement("div",{style:{color:"red",fontSize:8}},n.a.createElement("span",null,t.barcode)):n.a.createElement("div",null))}))),n.a.createElement("div",{style:{float:"left",marginLeft:0,width:10,height:850,backgroundColor:"transparent"}}))})),n.a.createElement("div",{style:{float:"left",marginLeft:5,marginTop:0,fontSize:15}},n.a.createElement("div",{style:{textAlign:"center",backgroundColor:"red",color:"white",marginLeft:0,marginRight:0,paddingTop:5,paddingBottom:5}},"\u603b\u5e972\u53f7\u5fae\u4fe1"),n.a.createElement(Fa.a,{style:{width:105,height:105,marginTop:10},preview:!1,src:a(439)}),n.a.createElement("div",{style:{textAlign:"center",fontSize:6}},'\u6dfb\u52a0\u65f6\u5907\u6ce8"\u7acb\u4eba"'),n.a.createElement("div",{style:{textAlign:"center",backgroundColor:"red",color:"white",marginTop:10,marginLeft:0,marginRight:0,paddingTop:5,paddingBottom:5}},"\u603b\u5e972\u53f7\u7535\u8bdd"),n.a.createElement("div",{style:{textAlign:"center"}},"18599568588"),n.a.createElement("div",{style:{textAlign:"center"}},"\uff08\u5fae\u4fe1\u540c\u53f7\uff09"),n.a.createElement("div",{style:{textAlign:"center",backgroundColor:"red",color:"white",marginTop:10,marginLeft:0,marginRight:0,paddingTop:5,paddingBottom:5}},"\u603b\u5e97\u5730\u5740"),n.a.createElement("div",{style:{textAlign:"center"}},"\u6f33\u6d66\u53bf\u7ee5\u5b89\u9547"),n.a.createElement("div",{style:{textAlign:"center"}},"\u5e9c\u524d\u8857\u897f247\u53f7"),n.a.createElement("div",{style:{textAlign:"center"}},"\uff08\u6559\u80b2\u5c40\u5bf9\u9762\uff09"),n.a.createElement("div",{style:{textAlign:"center",marginTop:40}},n.a.createElement(Fa.a,{style:{width:100,height:100},preview:!1,src:a(440)})),n.a.createElement("div",{style:{textAlign:"center",marginTop:40}},"\u9875\u7801"),n.a.createElement("div",{style:{textAlign:"center"}},n.a.createElement("span",null,o),n.a.createElement("span",null,"/"),n.a.createElement("span",null,i))))}))))))}}]),r}(n.a.Component),fr=[{name:"001 - \u5f2f\u9ea6(\u6559\u80b2\u5c40\u5e97)",userId:"3995767"},{name:"004 - \u5f2f\u9ea6(\u6c64\u6cc9\u5e97)",userId:"4061092"},{name:"005 - \u5f2f\u9ea6(\u76d8\u9640\u5e97)",userId:"4339546"},{name:"007 - \u5f2f\u9ea6(\u8054\u8425\u5e97)",userId:"4382444"}],gr=[{name:"\u73b0\u70e4\u9762\u5305",categoryId:"1593049816479739965"},{name:"\u897f\u70b9\u6155\u65af",categoryId:"1592989355905414162"},{name:"\u5e38\u6e29\u86cb\u7cd5",categoryId:"1593049881212199906"},{name:"\u5410\u53f8\u9762\u5305",categoryId:"1593049854760654816"},{name:"\u9910\u5305\u9762\u5305",categoryId:"1626767161867698544"}],hr=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).componentDidMount=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.fetchStockList();case 2:r.updateWeixinConfig();case 3:case"end":return e.stop()}}),e)}))),r.fetchStockList=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{r.setState({stockListData:[],stockLoading:!0},Object(s.a)(l.a.mark((function e(){var t,a,n,i,o,c,s,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.state,a=t.currentShop4StockList,n=t.currentCategory4StockList,i=se()(),o=i.endOf("day").format("YYYY.MM.DD HH:mm:ss"),c=i.subtract(3,"days").startOf("day").format("YYYY.MM.DD HH:mm:ss"),e.next=6,K(n.categoryId,a.userId,"1",c,o,"stock","true");case 6:0===(s=e.sent).errCode&&(d=s.list,r.setState({stockListData:d,stockLoading:!1}));case 8:case"end":return e.stop()}}),e)}))))}catch(t){r.setState({stockLoading:!1})}case 1:case"end":return e.stop()}}),e)}))),r.updateWeixinConfig=Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!==window.navigator.userAgent.toLowerCase().indexOf("micromessenger")){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,$(document.URL.split("#")[0]);case 5:if(!(t=e.sent)){e.next=12;break}if(t.appId){e.next=9;break}return e.abrupt("return");case 9:window.wx.config({debug:!1,appId:t.appId,timestamp:t.timestamp,nonceStr:t.nonceStr,signature:t.signature,jsApiList:["updateAppMessageShareData","updateTimelineShareData"]}),window.wx.ready((function(){var e="http://gratefulwheat.ruyue.xyz/image/\u9762\u5305\u725b\u5976/\u5e93\u5b58.jpg";window.wx.updateAppMessageShareData({title:"\u5f2f\u9ea6\u9762\u5305\u725b\u5976\u5e93\u5b58",desc:"\u7528\u4e8e\u8fde\u9501\u95e8\u5e97\u5e93\u5b58\u67e5\u770b\u3001\u76d8\u70b9\u3001\u8c03\u5ea6",link:document.URL,imgUrl:e,success:function(){},fail:function(e){}}),window.wx.updateTimelineShareData({title:"\u5f2f\u9ea6\u9762\u5305\u725b\u5976\u5e93\u5b58",link:document.URL,imgUrl:e,success:function(){},fail:function(){}})})),window.wx.error((function(e){console.log("window.wx error res = "+JSON.stringify(e))}));case 12:case"end":return e.stop()}}),e)}))),r._a=1,r.state={stockLoading:!1,currentShop4StockList:fr[0],currentCategory4StockList:gr[0],stockListData:[]},r}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.stockLoading,r=t.currentShop4StockList,i=t.currentCategory4StockList,o=t.stockListData,c=[{title:"\u5e8f",dataIndex:"key",key:"key",width:20,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u6761\u7801",dataIndex:"barcode",key:"barcode",width:80,render:function(e){return n.a.createElement("span",{style:{fontSize:10}},e)}},{title:"\u56fe\u7247",dataIndex:"productName",key:"image",width:60,render:function(e){var t="/image/\u9762\u5305\u725b\u5976/".concat(i.name,"/").concat(e,".jpg");return n.a.createElement(Fa.a,{style:{width:40,height:40},preview:!0,src:t})}},{title:"\u540d\u79f0",dataIndex:"productName",key:"productName",width:120,render:function(e){return n.a.createElement("span",{style:{fontSize:12}},e)}},{title:"\u5e93\u5b58",dataIndex:"stock",key:"stock",width:60,render:function(e){var t="black";return"0"!==e&&"-"!==e.substring(0,1)||(t="red"),n.a.createElement("span",{style:{fontSize:16,color:t}},e)}},{title:"\u5907\u6ce8",dataIndex:"remark",key:"remark",width:"*",render:function(e){return n.a.createElement("span",{style:{fontSize:12}},e)}}];return n.a.createElement("div",{style:{marginLeft:20,marginTop:5,marginRight:20}},n.a.createElement("div",{style:{fontSize:15,marginBottom:5}},"\u5e93\u5b58\u7ba1\u7406"),n.a.createElement("div",null,n.a.createElement("span",null,n.a.createElement(y.a,{overlay:function(){return n.a.createElement(b.a,{onClick:function(){var t=Object(s.a)(l.a.mark((function t(a){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=a.key,e.setState({currentShop4StockList:fr[r]},Object(s.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchStockList();case 2:case"end":return t.stop()}}),t)}))));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},fr.map((function(e){var t="black";return e.name===r.name&&(t="red"),n.a.createElement(b.a.Item,{key:e.index,style:{color:t}},e.name)})))},arrow:!0,trigger:["click"],disabled:a},n.a.createElement(E.a,{size:"small",style:{width:160},onClick:function(e){return e.preventDefault()}},r.name,n.a.createElement(oe.a,null)))),n.a.createElement("span",{style:{marginLeft:10}},n.a.createElement(y.a,{overlay:function(){return n.a.createElement(b.a,{onClick:function(){var t=Object(s.a)(l.a.mark((function t(a){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=a.key,e.setState({currentCategory4StockList:gr[r]},Object(s.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchStockList();case 2:case"end":return t.stop()}}),t)}))));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},gr.map((function(e){var t="black";return e.name===i.name&&(t="red"),n.a.createElement(b.a.Item,{key:e.index,style:{color:t}},e.name)})))},arrow:!0,trigger:["click"],disabled:a},n.a.createElement(E.a,{size:"small",style:{width:100},onClick:function(e){return e.preventDefault()}},i.name,n.a.createElement(oe.a,null))))),n.a.createElement(Ge.a,{style:{marginTop:10},size:"small",loading:a,dataSource:o,columns:c,pagination:!1,bordered:!0,footer:function(){return n.a.createElement("div",{style:{textAlign:"center",height:15,fontSize:12}},"\u603b\u5171".concat(o.length,"\u9879"))}}))}}]),a}(n.a.Component),yr=f.a.Search,br=["\u78a7\u6842\u56ed\u5fa1\u6c5f\u5e9c","\u6f33\u6d66\u78a7\u6842\u56ed","\u5e38\u5fb7\u5546\u8d38\u57ce","\u5927\u4ead\u82b1\u56ed","\u4e1c\u5e73\u5c0f\u533a","\u5e9c\u524d\u5510\u8857&\u4e07\u65b0\u5e7f\u573a","\u5bcc\u4e3d\u5c71\u5e84","\u6e2f\u57ce\u56fd\u9645\u8c6a\u5ead","\u82b1\u5f00\u5bcc\u8d35","\u82b1\u5f00\u5bcc\u8d351","\u534e\u5e9c\u4e8c\u671f","\u534e\u5e9c\u4e09\u671f","\u534e\u5e9c\u4e94\u671f","\u534e\u5e9c\u4e00\u671f","\u5409\u7965\u798f\u90b8","\u5047\u65e5\u65b0\u5929\u56fd\u9645","\u6c5f\u6ee8\u82b1\u56ed\u4e8c\u671f","\u6c5f\u6ee8\u82b1\u56ed\u4e00\u671f","\u91d1\u5229\u82b1\u56ed&\u91d1\u6d66\u82b1\u56ed","\u91d1\u7eff\u6b27\u6d32\u57ce","\u805a\u6e90\u4e1c\u5cb8","\u5170\u6eaa\u5fa1\u5885","\u9f99\u57ce\u5c0a\u5ead","\u9f99\u95e8\u82b1\u56ed","\u7f8e\u4f26\u6e05\u534e\u56ed","\u6b27\u6d32\u9633\u5149\u5c0f\u533a","\u94b1\u9686\u9996\u5e9c","\u6da6\u666f\u91d1\u5ea7","\u76db\u5510\u82b1\u56ed","\u77f3\u658b\u82b1\u56ed","\u4e66\u9999\u95e8\u7b2c&\u4e1c\u82d1\u82b1\u56ed","\u6c64\u6cc9\u4e16\u7eaa","\u897f\u6e56\u82b1\u56ed&\u897f\u6e56\u91d1\u5178&\u9526\u7ee3\u897f\u6e56","\u65b0\u90fd\u57ce\u5e02\u5e7f\u573a&\u65b0\u90fd\u4e2d\u592e\u534e\u5ead","\u5b66\u5e9c\u4e00\u53f7","\u9633\u5149\u9f99\u6cc9","\u6021\u666f\u56ed","\u5370\u77f3\u82b1\u56ed","\u5370\u77f3\u82b1\u56edB\u533a","\u76c8\u4e30\u82b1\u56ed\u4e00\u671f&\u76c8\u4e30\u82b1\u56ed\u4e8c\u671f","\u5fa1\u666f\u5c71\u5e84","\u6f33\u6d66\u5bbe\u9986","\u9633\u5149\u57ce\u6c64\u6cc9\u4e16\u7eaa3\u671f","\u91d1\u51ef\u5609\u82b1\u56ed","\u5bcc\u6e90\u65b0\u57ce","\u897f\u6e56\u82d1","\u76ca\u6c11\u5bb6\u56ed","\u60e0\u6c11\u5bb6\u56ed","\u7acb\u6b23\u4e1c\u65b9\u65b0\u57ce","\u590f\u5546\u6c34\u5cb8\u540d\u90fd"],Er=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).componentDidMount=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.loadMapByKeyword(),r.updateWeixinConfig();case 2:case"end":return e.stop()}}),e)}))),r.loadMapByKeyword=function(){var e=r.state.keyword,t=[];if(e&&""!==e)for(var a=0;a<br.length;++a){var n=br[a];-1!==n.indexOf(e)&&t.push(n)}r.setState({buildMapNamesFilter:t})},r.updateWeixinConfig=Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!==window.navigator.userAgent.toLowerCase().indexOf("micromessenger")){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,$(document.URL.split("#")[0]);case 5:if(!(t=e.sent)){e.next=12;break}if(t.appId){e.next=9;break}return e.abrupt("return");case 9:window.wx.config({debug:!1,appId:t.appId,timestamp:t.timestamp,nonceStr:t.nonceStr,signature:t.signature,jsApiList:["updateAppMessageShareData","updateTimelineShareData"]}),window.wx.ready((function(){var e="http://gratefulwheat.ruyue.xyz/image/\u6f33\u6d66\u5c0f\u533a\u697c\u680b\u56fe/\u6f33\u6d66\u897f\u6e56.jpg";window.wx.updateAppMessageShareData({title:"\u6f33\u6d66\u5c0f\u533a\u697c\u680b\u56fe",desc:"\u67e5\u770b\u6f33\u6d66\u5404\u4e2a\u5c0f\u533a\u7684\u697c\u680b\u53f7",link:document.URL,imgUrl:e,success:function(){},fail:function(e){}}),window.wx.updateTimelineShareData({title:"\u6f33\u6d66\u5c0f\u533a\u697c\u680b\u56fe",link:document.URL,imgUrl:e,success:function(){},fail:function(){}})})),window.wx.error((function(e){console.log("window.wx error res = "+JSON.stringify(e))}));case 12:case"end":return e.stop()}}),e)}))),r.handleAll=function(){for(var e=[],t=0;t<br.length;++t){var a=br[t];e.push(a)}r.setState({buildMapNamesFilter:e})},r.state={keyword:"",buildMapNamesFilter:[]},r}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.keyword,r=t.buildMapNamesFilter;return n.a.createElement("div",{style:{marginLeft:20,marginTop:5,marginRight:20}},n.a.createElement("div",{style:{textAlign:"center",color:"#B9B973",fontSize:14,fontWeight:"bold",paddingTop:7,paddingBottom:5}},n.a.createElement("span",null,"\u9884\u5b9a\u86cb\u7cd5\u8bf7\u5148\u6dfb\u52a0\u6559\u80b2\u5c40\u603b\u5e972\u53f7"),n.a.createElement("span",{style:{textDecoration:"underline"}},n.a.createElement("a",{href:"tel:18599568588"},"18599568588")),n.a.createElement("span",null," (\u5fae\u4fe1\u540c\u53f7)")),n.a.createElement("span",null,n.a.createElement(yr,{style:{width:180,marginTop:4,marginLeft:6,marginBottom:4},size:"middle",placeholder:"\u5c0f\u533a\u540d",onSearch:Object(s.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.loadMapByKeyword();case 1:case"end":return t.stop()}}),t)}))),value:a,onChange:function(t){var a=t.target.value;e.setState({keyword:a},(function(){e.loadMapByKeyword()}))}})),n.a.createElement("span",null,n.a.createElement(E.a,{type:"primary",style:{marginLeft:6,marginTop:4},onClick:this.handleAll},"\u5168\u90e8\u5c0f\u533a")),n.a.createElement("div",null,r.map((function(e){var t="/image/\u6f33\u6d66\u5c0f\u533a\u697c\u680b\u56fe/"+e+".jpg";return n.a.createElement("div",{key:e},n.a.createElement("div",null,n.a.createElement("span",{style:{color:"red"}},"\u300a",e,"\u300b")),n.a.createElement("img",{alt:"\u8bf7\u6dfb\u52a0\u56fe\u7247",style:{width:"100%"},src:t}),n.a.createElement("div",{style:{height:20}}))}))),n.a.createElement("div",{style:{height:30}},"---\u6ca1\u6709\u66f4\u591a\u4e86\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458\u6dfb\u52a0---"),n.a.createElement("div",{style:{textAlign:"center",background:"#D8D8D8",height:100}},n.a.createElement("div",{style:{paddingTop:12,marginTop:10}},"\u603b\u90e8\uff1a\u6f33\u5dde\u5e02\u6f33\u6d66\u53bf\u5e9c\u524d\u8857\u897f247\u53f7(\u6559\u80b2\u5c40\u5bf9\u9762)"),n.a.createElement("div",{style:{color:"blue",fontSize:14}},n.a.createElement("span",{style:{color:"black"}},"\xa9\u5f2f\u9ea6"),n.a.createElement("a",{href:"http://beian.miit.gov.cn"},n.a.createElement("span",{style:{marginLeft:8}},"\u95fdICP\u59072022007668\u53f7-1")),n.a.createElement("div",null,n.a.createElement("a",{href:"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=35062302000230"},n.a.createElement("span",null,n.a.createElement(Fa.a,{preview:!1,src:"/image/\u516c\u5b89\u5907\u6848\u56fe\u6807.png",style:{float:"left"}})),n.a.createElement("span",{style:{marginLeft:8}},"\u95fd\u516c\u7f51\u5b89\u5907 35062302000230\u53f7"))))))}}]),a}(n.a.Component),vr=a(273),kr=a.n(vr),Tr=(a(441),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).map={},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;kr.a.load({key:"621905dca524a5af648104ca2858f78f",version:"2.0",plugins:["AMap.ToolBar","AMap.Driving","AMap.Geolocation"],AMapUI:{version:"1.1",plugins:["overlay/SimpleMarker"]},Loca:{version:"2.0"}}).then((function(t){e.map=new t.Map("mapcontainer",{viewMode:"3D",zoom:10}),t.plugin("AMap.Geolocation",(function(){new t.Geolocation({enableHighAccuracy:!0,timeout:1e4,offset:[10,20],zoomToAccuracy:!0,position:"RB"}).getCurrentPosition((function(e,t){}))}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return n.a.createElement("div",{id:"mapcontainer",className:"map",style:{height:"800px"}})}}]),a}(r.Component)),xr=[{label:"\u81ea\u5df1\u63d0\u8d27",value:"\u81ea\u5df1\u63d0\u8d27"},{label:"\u5546\u5bb6\u914d\u9001",value:"\u5546\u5bb6\u914d\u9001"}],Sr=[{label:"\u87ba\u7eb9\u8721\u70db",value:"\u87ba\u7eb9\u8721\u70db"},{label:"\u6570\u5b57\u8721\u70db",value:"\u6570\u5b57\u8721\u70db"},{label:"\u7231\u5fc3\u8721\u70db",value:"\u7231\u5fc3\u8721\u70db"},{label:"\u66f2\u7ebf\u8721\u70db",value:"\u66f2\u7ebf\u8721\u70db"},{label:"\u8377\u82b1\u25cf\u97f3\u4e50\u8721\u70db",value:"\u8377\u82b1\u25cf\u97f3\u4e50\u8721\u70db"}],wr=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).componentDidMount=Object(s.a)(l.a.mark((function e(){var t,a,n,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.props.query,!(a=t&&t.get("_id"))){e.next=7;break}return e.next=5,re(a);case 5:(n=e.sent)&&0===n.errCode&&(i=n.order,r.setState({cakeName:i.cakeName,cakeImage:"/image/\u751f\u65e5\u86cb\u7cd5/\u86cb\u7cd53.0/".concat(i.cakeName,"-\u65b9\u56fe.jpg"),creamType:i.creamType,cakeSize:i.cakeSize,cakeSizeExtra:i.cakeSizeExtra,cakePrice:i.cakePrice,cakeFillings:i.cakeFillings,candleType:i.candleType,ignitorType:i.ignitorType,number4candle:i.number4candle,cakePlateNumber:i.cakePlateNumber,pickUpDay:i.pickUpDay,pickUpTime:i.pickUpTime,pickUpType:i.pickUpType,responseShop:i.responseShop,deliverAddress:i.deliverAddress,pickUpName:i.pickUpName,phoneNumber:i.phoneNumber,remarks:i.remarks}));case 7:r.updateWeixinConfig();case 8:case"end":return e.stop()}}),e)}))),r.updateWeixinConfig=Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!==window.navigator.userAgent.toLowerCase().indexOf("micromessenger")){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,$(document.URL.split("#")[0]);case 5:if(!(t=e.sent)){e.next=12;break}if(t.appId){e.next=9;break}return e.abrupt("return");case 9:window.wx.config({debug:!1,appId:t.appId,timestamp:t.timestamp,nonceStr:t.nonceStr,signature:t.signature,jsApiList:["updateAppMessageShareData","updateTimelineShareData","openLocation"]}),window.wx.ready((function(){var e="http://gratefulwheat.ruyue.xyz/image/\u751f\u65e5\u86cb\u7cd5/\u86cb\u7cd53.0/\u53ee\u5f53\u738b\u5b50-\u65b9\u56fe.jpg";window.wx.updateAppMessageShareData({title:"\u86cb\u7cd5\u8ba2\u8d2d\u5355",desc:"\u67e5\u770b\u5f2f\u9ea6\u86cb\u7cd5\u8ba2\u8d2d\u5355\u4fe1\u606f",link:document.URL,imgUrl:e,success:function(){},fail:function(e){}}),window.wx.updateTimelineShareData({title:"\u86cb\u7cd5\u8ba2\u8d2d\u5355",link:document.URL,imgUrl:e,success:function(){},fail:function(){}})})),window.wx.error((function(e){console.log("window.wx error res = "+JSON.stringify(e))}));case 12:case"end":return e.stop()}}),e)}))),r.state={cakeName:"",cakeImage:"",creamType:"",cakeSize:"",cakeSizeExtra:"",cakePrice:"",pickUpDay:"",pickUpTime:"",pickUpType:"",responseShop:"",deliverCity:"\u6f33\u5dde",deliverCounty:"\u6f33\u6d66",deliverAddress:"",pickUpName:"",phoneNumber:"",remarks:""},r}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state,t=e.cakeName,a=e.cakeImage,r=e.creamType,i=e.cakeSize,o=e.cakeSizeExtra,c=e.cakePrice,d=e.cakeFillings,m=e.candleType,u=e.ignitorType,p=e.number4candle,f=e.cakePlateNumber,g=e.pickUpDay,h=e.pickUpTime,y=e.pickUpType,b=e.responseShop,E=e.deliverCity,v=e.deliverCounty,k=e.deliverAddress,T=e.pickUpName,x=e.phoneNumber,S=e.remarks,w="tel:"+x;return n.a.createElement("div",null,n.a.createElement("div",{style:{fontSize:12,textAlign:"center",paddingTop:6,paddingBottom:0}},"\u86cb\u7cd5\u8ba2\u8d2d\u5355"),n.a.createElement("div",{style:{fontSize:18,textAlign:"center",paddingTop:4,paddingBottom:4,fontWeight:"bold"}},t),n.a.createElement("div",{style:{width:"100%",textAlign:"center"}},n.a.createElement(Fa.a,{style:{width:180},preview:!1,src:a})),n.a.createElement("div",{style:{marginLeft:24,marginRight:24}},n.a.createElement(Ha.a,{style:{marginTop:0,marginBottom:0,fontSize:8}},"\u5236\u4f5c"),n.a.createElement("div",{style:{marginTop:4,marginBottom:4}},n.a.createElement("span",{style:{fontSize:14}},"\u5976\u6cb9\uff1a"),n.a.createElement("span",{style:{fontSize:14,fontWeight:"bold"}},r)),n.a.createElement("div",{style:{marginTop:4,marginBottom:4}},n.a.createElement("span",{style:{fontSize:14}},"\u5c3a\u5bf8\uff1a"),n.a.createElement("span",{style:{fontSize:14,fontWeight:"bold"}},i),"\u7ec4\u5408"===i?n.a.createElement("span",{style:{fontSize:14,fontWeight:"bold"}},o):n.a.createElement("span",null)),n.a.createElement("div",{style:{marginTop:4,marginBottom:4}},n.a.createElement("span",{style:{fontSize:14}},"\u4ef7\u683c\uff1a"),n.a.createElement("span",{style:{fontSize:14,fontWeight:"bold"}},c),n.a.createElement("span",{style:{fontSize:14,fontWeight:"bold"}},"\u5143")),n.a.createElement("div",{style:{marginTop:4,marginBottom:4}},n.a.createElement("span",{style:{fontSize:14}},"\u5939\u5fc3\uff1a"),n.a.createElement("span",{style:{fontSize:14,fontWeight:"bold"}},d)),n.a.createElement("div",{style:{marginTop:4,marginBottom:4}},n.a.createElement("span",{style:{fontSize:14}},"\u8721\u70db\uff1a"),n.a.createElement("span",{style:{fontSize:14,fontWeight:"bold"}},m),m===Sr[1].value?n.a.createElement("span",{style:{fontSize:14,fontWeight:"bold"}},"".concat(p)):n.a.createElement("span",null),"\u9700\u8981\u706b\u67f4"===u?n.a.createElement("span",{style:{fontSize:14,fontWeight:"bold"}},"+\u706b\u67f4\u76d2"):n.a.createElement("span",null)),n.a.createElement("div",{style:{marginTop:4,marginBottom:4}},n.a.createElement("span",{style:{fontSize:14}},"\u5e3d\u5b50\uff1a"),n.a.createElement("span",{style:{fontSize:14,fontWeight:"bold"}},"\u91d1\u5361\u7687\u51a0\u5e3d")),n.a.createElement("div",{style:{marginTop:4,marginBottom:4}},n.a.createElement("span",{style:{fontSize:14}},"\u9910\u5177\uff1a"),n.a.createElement("span",{style:{fontSize:14,fontWeight:"bold"}},f),n.a.createElement("span",{style:{fontSize:14,fontWeight:"bold"}},"\u5957")),n.a.createElement(Ha.a,{style:{marginTop:0,marginBottom:0,fontSize:8}},"\u53d6\u8d27"),n.a.createElement("div",null,n.a.createElement("span",{style:{fontSize:14}},"\u65f6\u95f4\uff1a"),n.a.createElement("span",{style:{fontSize:14,fontWeight:"bold"}},g),n.a.createElement("span",{style:{fontSize:14,fontWeight:"bold"}}," ",h)),n.a.createElement("div",{style:{marginTop:4,marginBottom:4}},n.a.createElement("span",{style:{fontSize:14}},"\u65b9\u5f0f\uff1a"),n.a.createElement("span",{style:{fontSize:14,fontWeight:"bold"}},y)),n.a.createElement("div",{style:{marginTop:4,marginBottom:4}},n.a.createElement("span",{style:{fontSize:14}},"\u95e8\u5e97\uff1a"),n.a.createElement("span",{style:{fontSize:14,fontWeight:"bold"}},b)),y===xr[1].value?n.a.createElement("div",{style:{marginTop:4,marginBottom:4}},n.a.createElement("span",{style:{fontSize:14}},"\u5730\u5740\uff1a"),n.a.createElement("span",{style:{textDecoration:"underline",fontSize:20,fontWeight:"bold",color:"green"},onClick:Object(s.a)(l.a.mark((function e(){var t,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te(v+k,E);case 2:0===(t=e.sent).errCode&&(a=t.location,2===(r=a.split(",")).length&&window.wx.openLocation({longitude:r[0],latitude:r[1],name:k,address:v+k,scale:15,infoUrl:"https://www.baidu.com/"}));case 4:case"end":return e.stop()}}),e)})))},v+k)):n.a.createElement("span",null),n.a.createElement("div",{style:{marginTop:4,marginBottom:4}},n.a.createElement("span",{style:{fontSize:14}},"\u59d3\u540d\uff1a"),n.a.createElement("span",{style:{fontSize:14,fontWeight:"bold"}},T)),n.a.createElement("div",{style:{marginTop:4,marginBottom:4}},n.a.createElement("span",{style:{fontSize:14}},"\u624b\u673a\uff1a"),n.a.createElement("span",{style:{textDecoration:"underline",fontSize:20,fontWeight:"bold"}},n.a.createElement("a",{href:w},x))),n.a.createElement(Ha.a,{style:{marginTop:0,marginBottom:0,fontSize:8}},"\u5176\u5b83"),n.a.createElement("div",{style:{marginTop:4,marginBottom:4}},n.a.createElement("span",{style:{fontSize:14}},"\u5907\u6ce8\uff1a"),n.a.createElement("span",{style:{fontSize:14,fontWeight:"bold",wordWrap:"break-word"}},S)),n.a.createElement("div",{style:{marginTop:4,marginBottom:4}},n.a.createElement("span",{style:{textDecoration:"underline",fontSize:20,fontWeight:"bold"}},n.a.createElement("a",{href:"http://gratefulwheat.ruyue.xyz/buildingMap"},"\u6f33\u6d66\u5c0f\u533a\u697c\u680b\u56fe")))),n.a.createElement("div",{style:{textAlign:"center",background:"#D8D8D8",height:100}},n.a.createElement("div",{style:{paddingTop:12,marginTop:10}},"\u603b\u90e8\uff1a\u6f33\u5dde\u5e02\u6f33\u6d66\u53bf\u5e9c\u524d\u8857\u897f247\u53f7(\u6559\u80b2\u5c40\u5bf9\u9762)"),n.a.createElement("div",{style:{color:"blue",fontSize:14}},n.a.createElement("span",{style:{color:"black"}},"\xa9\u5f2f\u9ea6"),n.a.createElement("a",{href:"http://beian.miit.gov.cn"},n.a.createElement("span",{style:{marginLeft:8}},"\u95fdICP\u59072022007668\u53f7-1")),n.a.createElement("div",null,n.a.createElement("a",{href:"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=35062302000230"},n.a.createElement("span",null,n.a.createElement(Fa.a,{preview:!1,src:"/image/\u516c\u5b89\u5907\u6848\u56fe\u6807.png",style:{float:"left"}})),n.a.createElement("span",{style:{marginLeft:8}},"\u95fd\u516c\u7f51\u5b89\u5907 35062302000230\u53f7"))))))}}]),a}(n.a.Component),Ar=a(51),Ir=a(275),Dr=(a(442),a(18)),Or=a(280);function Cr(){var e=new URLSearchParams(Object(Ar.e)().search);return n.a.createElement("div",null,n.a.createElement(Ar.a,{exact:!0,path:"/",children:n.a.createElement(ir,{query:e})}),n.a.createElement(Ar.a,{path:"/productsale",children:n.a.createElement(fe,{query:e})}),n.a.createElement(Ar.a,{path:"/discardsale",children:n.a.createElement(Ee,{query:e})}),n.a.createElement(Ar.a,{path:"/productsaleanddiscard",children:n.a.createElement(Ae,{query:e})}),n.a.createElement(Ar.a,{path:"/couponsummary",children:n.a.createElement(Ce,{query:e})}),n.a.createElement(Ar.a,{path:"/diyreserve",children:n.a.createElement(Ve,{query:e})}),n.a.createElement(Ar.a,{path:"/productionPlanPrinter",children:n.a.createElement(wt,{query:e})}),n.a.createElement(Ar.a,{path:"/productionPlanPrinter1",children:n.a.createElement(It,{query:e})}),n.a.createElement(Ar.a,{path:"/orderManagement",children:n.a.createElement(dt,{query:e})}),n.a.createElement(Ar.a,{path:"/orderManagement1",children:n.a.createElement(bt,{query:e})}),n.a.createElement(Ar.a,{path:"/productDistributePrinter",children:n.a.createElement(Qt,{query:e})}),n.a.createElement(Ar.a,{path:"/productDistributePrinter1",children:n.a.createElement(Zt,{query:e})}),n.a.createElement(Ar.a,{path:"/productDistributeInputer",children:n.a.createElement(ba,{query:e})}),n.a.createElement(Ar.a,{path:"/productLabelPrinter",children:n.a.createElement(va,{query:e})}),n.a.createElement(Ar.a,{path:"/productManagement",children:n.a.createElement(ka,{query:e})}),n.a.createElement(Ar.a,{path:"/birthdayCakeSale",children:n.a.createElement(ir,{query:e})}),n.a.createElement(Ar.a,{path:"/productMenu",children:n.a.createElement(mr,{query:e})}),n.a.createElement(Ar.a,{path:"/productMenu4Printer",children:n.a.createElement(pr,{query:e})}),n.a.createElement(Ar.a,{path:"/productStockManagement",children:n.a.createElement(hr,{query:e})}),n.a.createElement(Ar.a,{path:"/buildingMap",children:n.a.createElement(Er,{query:e})}),n.a.createElement(Ar.a,{path:"/mapContainer",children:n.a.createElement(Tr,{query:e})}),n.a.createElement(Ar.a,{path:"/birthdayCakeOrder",children:n.a.createElement(wr,{query:e})}))}function Lr(){return n.a.createElement(Dr.a,{locale:Or.a},n.a.createElement(Ir.a,null,n.a.createElement(Cr,null)))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(Lr,null),","),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},70:function(e,t){var a,r,n;function i(){try{var e=navigator.userAgent;if(e.match(/Windows\sPhone/i))return!0;if(e.match(/iPhone|iPod|iPad/i))return!0;if(e.match(/Android/i))return!0;if(e.match(/Edge\D?\d+/i))return!0;var t=e.match(/Trident\D?\d+/i),a=e.match(/MSIE\D?\d+/i),r=e.match(/OPR\D?\d+/i),n=e.match(/Firefox\D?\d+/i),i=e.match(/x64/i);if(!t&&!a&&i)return!0;if(n){if((n=n[0].match(/\d+/))[0]>=41||i)return!0}else if(r){if((r=r[0].match(/\d+/))[0]>=32)return!0}else if(!t&&!a){var o=e.match(/Chrome\D?\d+/i);if(o&&(o=o[0].match(/\d+/))[0]>=41)return!0}return!1}catch(c){return!0}}i()&&function(){if("loading"!==n&&"complete"!==n){n="loading";var e=document.head||document.getElementsByTagName("head")[0]||document.documentElement,t=document.createElement("script"),a=document.createElement("script");t.src="http://localhost:8000/CLodopfuncs.js?priority=1",a.src="http://localhost:18000/CLodopfuncs.js",t.onload=a.onload=function(){n="complete"},t.onerror=a.onerror=function(e){n="complete"},e.insertBefore(t,e.firstChild),e.insertBefore(a,e.firstChild),r=!!(t.src+a.src).match(/\/\/localho|\/\/127.0.0./i)}}(),e.exports={getLodop:function(e,t){var o;try{var c=navigator.userAgent,l=!!c.match(/MSIE/i)||!!c.match(/Trident/i);if(i()){try{o=window.getCLodop()}catch(d){}if(!o&&"complete"!==n)return void("loading"===n?alert("\u7f51\u9875\u8fd8\u6ca1\u4e0b\u8f7d\u5b8c\u6bd5\uff0c\u8bf7\u7a0d\u7b49\u4e00\u4e0b\u518d\u64cd\u4f5c."):alert("\u6ca1\u6709\u52a0\u8f7dCLodop\u7684\u4e3bjs\uff0c\u8bf7\u5148\u8c03\u7528loadCLodop\u8fc7\u7a0b."));if(!o)return void(document.body.innerHTML="<br><font color='#FF00FF'>Web\u6253\u5370\u670d\u52a1CLodop\u672a\u5b89\u88c5\u542f\u52a8\uff0c\u70b9\u51fb\u8fd9\u91cc<a href=download/CLodop_Setup_for_Win32NT.exe target='_self'>\u4e0b\u8f7d\u6267\u884c\u5b89\u88c5</a>"+(r?"<br>\uff08\u82e5\u6b64\u524d\u5df2\u5b89\u88c5\u8fc7\uff0c\u53ef<a href='CLodop.protocol:setup' target='_self'>\u70b9\u8fd9\u91cc\u76f4\u63a5\u518d\u6b21\u542f\u52a8</a>\uff09":"")+"\uff0c\u6210\u529f\u540e\u8bf7\u5237\u65b0\u672c\u9875\u9762\u3002</font>"+document.body.innerHTML);window.CLODOP.CVERSION<"4.1.2.7"&&(document.body.innerHTML="<br><font color='#FF00FF'>Web\u6253\u5370\u670d\u52a1CLodop\u9700\u5347\u7ea7!\u70b9\u51fb\u8fd9\u91cc<a href=download/CLodop_Setup_for_Win32NT.exe target='_self'>\u6267\u884c\u5347\u7ea7</a>,\u5347\u7ea7\u540e\u8bf7\u5237\u65b0\u9875\u9762\u3002</font>"+document.body.innerHTML),t&&t.parentNode&&t.parentNode.removeChild(t),e&&e.parentNode&&e.parentNode.removeChild(e)}else{var s=l&&!!c.match(/x64/i);if(e||t?o=l?e:t:a?o=a:((o=document.createElement("object")).setAttribute("width",0),o.setAttribute("height",0),o.setAttribute("style","position:absolute;left:0px;top:-100px;width:0px;height:0px;"),l?o.setAttribute("classid","clsid:2105C259-1E0C-4534-8141-A753534CB4CA"):o.setAttribute("type","application/x-print-lodop"),document.documentElement.appendChild(o),a=o),!o||!o.VERSION)return c.indexOf("Chrome")>=0&&(document.body.innerHTML="<br><br><font color='#FF00FF'>(\u5982\u679c\u6b64\u524d\u6b63\u5e38\uff0c\u4ec5\u56e0\u6d4f\u89c8\u5668\u5347\u7ea7\u6216\u91cd\u5b89\u88c5\u800c\u51fa\u95ee\u9898\uff0c\u9700\u91cd\u65b0\u6267\u884c\u4ee5\u4e0a\u5b89\u88c5\uff09</font>"+document.body.innerHTML),c.indexOf("Firefox")>=0&&(document.body.innerHTML="<br><br><font color='#FF00FF'>\uff08\u6ce8\u610f\uff1a\u5982\u66fe\u5b89\u88c5\u8fc7Lodop\u65e7\u7248\u9644\u4ef6npActiveXPLugin,\u8bf7\u5728\u3010\u5de5\u5177\u3011->\u3010\u9644\u52a0\u7ec4\u4ef6\u3011->\u3010\u6269\u5c55\u3011\u4e2d\u5148\u5378\u5b83\uff09</font>"+document.body.innerHTML),document.body.innerHTML=(s?"<br><font color='#FF00FF'>\u6253\u5370\u63a7\u4ef6\u672a\u5b89\u88c5!\u70b9\u51fb\u8fd9\u91cc<a href=download/install_lodop64.exe target='_self'>\u6267\u884c\u5b89\u88c5</a>,\u5b89\u88c5\u540e\u8bf7\u5237\u65b0\u9875\u9762\u6216\u91cd\u65b0\u8fdb\u5165\u3002</font>":"<br><font color='#FF00FF'>\u6253\u5370\u63a7\u4ef6\u672a\u5b89\u88c5!\u70b9\u51fb\u8fd9\u91cc<a href=download/install_lodop32.exe target='_self'>\u6267\u884c\u5b89\u88c5</a>,\u5b89\u88c5\u540e\u8bf7\u5237\u65b0\u9875\u9762\u6216\u91cd\u65b0\u8fdb\u5165\u3002</font>")+document.body.innerHTML,o}return o.VERSION<"6.2.2.6"&&(i()||(document.body.innerHTML=(s?"<br><font color='#FF00FF'>\u6253\u5370\u63a7\u4ef6\u9700\u8981\u5347\u7ea7!\u70b9\u51fb\u8fd9\u91cc<a href=download/install_lodop64.exe target='_self'>\u6267\u884c\u5347\u7ea7</a>,\u5347\u7ea7\u540e\u8bf7\u91cd\u65b0\u8fdb\u5165\u3002</font>":"<br><font color='#FF00FF'>\u6253\u5370\u63a7\u4ef6\u9700\u8981\u5347\u7ea7!\u70b9\u51fb\u8fd9\u91cc<a href=download/install_lodop32.exe target='_self'>\u6267\u884c\u5347\u7ea7</a>,\u5347\u7ea7\u540e\u8bf7\u91cd\u65b0\u8fdb\u5165\u3002</font>")+document.body.innerHTML)),o.SET_LICENSES("","DDC88D02EC4E4C7258D120DD76309A3C","",""),o}catch(d){alert("getLodop\u51fa\u9519:"+d)}}}},92:function(e,t,a){e.exports=a.p+"static/media/di.0258c2a5.wav"}},[[291,1,2]]]);
//# sourceMappingURL=main.74e85619.chunk.js.map