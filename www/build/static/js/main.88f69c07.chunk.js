(this.webpackJsonpwww=this.webpackJsonpwww||[]).push([[0],{116:function(e,t,a){e.exports=a(180)},121:function(e,t,a){},178:function(e,t,a){},180:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(14),c=a.n(i),o=(a(121),a(17)),s=a.n(o),l=a(32),u=a(56),h=a(57),d=a(68),p=a(67),f=a(183),g=a(182),m=a(106);console.log("process.env.NODE_ENV = production");var v="http://gratefulwheat.ruyue.xyz/apis",y=function(){var e=Object(l.a)(s.a.mark((function e(t,a,n,r){var i,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=v+"/product/saleList",i+="?pageIndex=",i+=n,i+="&pageSize=",i+=r,i+="&userId=",i+=t,i+="&date=",i+=a,e.next=11,fetch(i);case 11:return c=e.sent,e.next=14,c.json();case 14:return o=e.sent,e.abrupt("return",o);case 16:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),b=function(){var e=Object(l.a)(s.a.mark((function e(t,a){var n,r,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=v+"/product/discardList",n+="?userId=",n+=t,n+="&date=",n+=a,console.log(n),e.next=8,fetch(n);case 8:return r=e.sent,e.next=11,r.json();case 11:return i=e.sent,e.abrupt("return",i);case 13:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),E=a(88),x=a.n(E),w=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleInfiniteOnLoad=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.fetchNextPage();case 2:case"end":return e.stop()}}),e)}))),n.state={listData:[],loading:!1,hasMore:!0,pageIndex:1},n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchNextPage();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchNextPage",value:function(){var e=Object(l.a)(s.a.mark((function e(){var t,a,n,r,i,c,o,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,a=t.hasMore,n=t.pageIndex,r=t.listData,a){e.next=4;break}return f.b.warning("Infinite List loaded all"),e.abrupt("return");case 4:return this.setState({loading:!0}),e.prev=5,i=[],e.next=9,y(this.props.query.get("id"),this.props.query.get("date"),n,20);case 9:(c=e.sent)&&0===c.errCode&&(i=c.list),o=i.length/20>=1,l=n,o&&l++,r=r.concat(i),this.setState({listData:r,hasMore:o,loading:!1,pageIndex:l}),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(5),this.setState({loading:!1});case 21:case"end":return e.stop()}}),e,this,[[5,18]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{height:window.innerHeight,overflow:"auto"}},r.a.createElement(x.a,{initialLoad:!1,pageStart:0,loadMore:this.handleInfiniteOnLoad,hasMore:!this.state.loading&&this.state.hasMore,useWindow:!1},r.a.createElement(g.b,{dataSource:this.state.listData,locale:{emptyText:"\u6682\u65f6\u6ca1\u6709\u6570\u636e"},header:r.a.createElement("div",{style:{textAlign:"center",fontSize:24,fontWeight:"bold"}},"\u70ed\u5356\u5546\u54c1",r.a.createElement("span",{style:{textAlign:"center",fontSize:13,fontWeight:"lighter"}},"\u95e8\u5e97\uff1a".concat(this.props.query.get("name"),"\uff0c\u5546\u54c1\u5b9e\u6536\uff1a\xa5 ").concat(this.props.query.get("number")))),footer:r.a.createElement("div",{style:{height:100,textAlign:"center",fontSize:14,fontWeight:"lighter"}},"\u5f2f\u9ea6--\u5fc3\u91cc\u6ee1\u6ee1\u90fd\u662f\u4f60"),renderItem:function(t){var a=e.state.listData.indexOf(t),n="gray";0===a?n="orange":1===a?n="green":2===a&&(n="red");var i="-"!==t.specification?" | "+t.specification:"",c=""!==t.category?" | "+t.category:"";return r.a.createElement(g.b.Item,null,r.a.createElement("div",{style:{width:30,height:30,backgroundColor:n,color:"white",fontSize:14,fontWeight:"bold",textAlign:"center",marginRight:15,marginLeft:15,borderRadius:10}},r.a.createElement("div",{style:{marginTop:3}},a+1)),r.a.createElement(g.b.Item.Meta,{title:r.a.createElement("div",null,r.a.createElement("span",{style:{fontSize:16}},t.name),r.a.createElement("span",{style:{fontSize:12}},i),r.a.createElement("span",{style:{fontSize:10}},c)),description:"\u9500\u552e\u6570\u91cf\uff1a".concat(t.saleNumber," \u73b0\u6709\u5e93\u5b58\uff1a").concat(t.currentNumber)}),r.a.createElement("span",{style:{marginRight:25,color:"coral",fontSize:18}},"\uffe5".concat(t.realIncome)))}},this.state.loading&&this.state.hasMore&&r.a.createElement("div",null,r.a.createElement(m.a,{style:{position:"absolute",bottom:15,width:"100%",textAlign:"center"}})))))}}]),a}(r.a.Component),S=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={listData:[],loading:!1},n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchListData();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchListData",value:function(){var e=Object(l.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.listData,this.setState({loading:!0}),e.prev=2,a=[],e.next=6,b(this.props.query.get("id"),this.props.query.get("date"));case 6:(n=e.sent)&&0===n.errCode&&(a=n.list),t=t.concat(a),this.setState({listData:t,loading:!1}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),this.setState({loading:!1});case 15:case"end":return e.stop()}}),e,this,[[2,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(g.b,{dataSource:this.state.listData,loading:this.state.loading,locale:{emptyText:"\u6682\u65f6\u6ca1\u6709\u6570\u636e"},header:r.a.createElement("div",{style:{textAlign:"center",fontSize:24,fontWeight:"bold"}},"\u62a5\u635f\u5546\u54c1",r.a.createElement("span",{style:{textAlign:"center",fontSize:13,fontWeight:"lighter"}},"\u95e8\u5e97\uff1a".concat(this.props.query.get("name"),"\uff0c\u62a5\u635f\u91d1\u989d\uff1a\xa5 ").concat(this.props.query.get("number")))),footer:r.a.createElement("div",{style:{height:100,textAlign:"center",fontSize:14,fontWeight:"lighter"}},"\u5f2f\u9ea6--\u5fc3\u91cc\u6ee1\u6ee1\u90fd\u662f\u4f60"),renderItem:function(t){var a=e.state.listData.indexOf(t),n="gray";0===a?n="orange":1===a?n="green":2===a&&(n="red");var i="-"!==t.specification?" | "+t.specification:"",c=""!==t.category?" | "+t.category:"";return r.a.createElement(g.b.Item,null,r.a.createElement("div",{style:{width:30,height:30,backgroundColor:n,color:"white",fontSize:14,fontWeight:"bold",textAlign:"center",marginRight:15,marginLeft:15,borderRadius:10}},r.a.createElement("div",{style:{marginTop:3}},a+1)),r.a.createElement(g.b.Item.Meta,{title:r.a.createElement("div",null,r.a.createElement("span",{style:{fontSize:16}},t.name),r.a.createElement("span",{style:{fontSize:12}},i),r.a.createElement("span",{style:{fontSize:10}},c)),description:"\u62a5\u635f\u6570\u91cf\uff1a".concat(t.discardNumber)}),r.a.createElement("span",{style:{marginRight:25,color:"coral",fontSize:18}},"\uffe5".concat(t.diacardMoney)))}}))}}]),a}(r.a.Component),k=a(8),O=a(109);a(178);function j(){var e=new URLSearchParams(Object(k.e)().search);return r.a.createElement("div",null,r.a.createElement(k.a,{exact:!0,path:"/",children:r.a.createElement(w,null)}),r.a.createElement(k.a,{path:"/productsale",children:r.a.createElement(w,{query:e})}),r.a.createElement(k.a,{path:"/discardsale",children:r.a.createElement(S,{query:e})}))}function z(){return r.a.createElement(O.a,null,r.a.createElement(j,null))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[116,1,2]]]);
//# sourceMappingURL=main.88f69c07.chunk.js.map