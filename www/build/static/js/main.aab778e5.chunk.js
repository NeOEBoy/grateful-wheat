(this.webpackJsonpwww=this.webpackJsonpwww||[]).push([[0],{116:function(e,t,n){e.exports=n(180)},121:function(e,t,n){},178:function(e,t,n){},180:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(14),c=n.n(i),o=(n(121),n(17)),s=n.n(o),l=n(32),u=n(56),h=n(57),d=n(68),p=n(67),f=n(183),m=n(182),g=n(106);console.log("process.env.NODE_ENV = production");var v="http://gratefulwheat.ruyue.xyz/apis",y=function(){var e=Object(l.a)(s.a.mark((function e(t,n,a,r){var i,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=v+"/product/saleList",i+="?pageIndex=",i+=a,i+="&pageSize=",i+=r,i+="&userId=",i+=t,i+="&date=",i+=n,e.next=11,fetch(i);case 11:return c=e.sent,e.next=14,c.json();case 14:return o=e.sent,e.abrupt("return",o);case 16:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),b=function(){var e=Object(l.a)(s.a.mark((function e(t,n){var a,r,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=v+"/product/discardList",a+="?userId=",a+=t,a+="&date=",a+=n,console.log(a),e.next=8,fetch(a);case 8:return r=e.sent,e.next=11,r.json();case 11:return i=e.sent,e.abrupt("return",i);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),E=n(88),x=n.n(E),w=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).handleInfiniteOnLoad=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetchNextPage();case 2:case"end":return e.stop()}}),e)}))),a.state={listData:[],loading:!1,hasMore:!0,pageIndex:1},a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchNextPage();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchNextPage",value:function(){var e=Object(l.a)(s.a.mark((function e(){var t,n,a,r,i,c,o,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,n=t.hasMore,a=t.pageIndex,r=t.listData,n){e.next=4;break}return f.b.warning("Infinite List loaded all"),e.abrupt("return");case 4:return this.setState({loading:!0}),e.prev=5,i=[],e.next=9,y(this.props.query.get("id"),this.props.query.get("date"),a,20);case 9:(c=e.sent)&&0===c.errCode&&(i=c.list),o=i.length/20>=1,l=a,o&&l++,r=r.concat(i),this.setState({listData:r,hasMore:o,loading:!1,pageIndex:l}),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(5),this.setState({loading:!1});case 21:case"end":return e.stop()}}),e,this,[[5,18]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{height:window.innerHeight,overflow:"auto"}},r.a.createElement(x.a,{initialLoad:!1,pageStart:0,loadMore:this.handleInfiniteOnLoad,hasMore:!this.state.loading&&this.state.hasMore,useWindow:!1},r.a.createElement(m.b,{dataSource:this.state.listData,locale:{emptyText:"\u6682\u65f6\u6ca1\u6709\u6570\u636e"},header:r.a.createElement("div",{style:{textAlign:"center",fontSize:24,fontWeight:"bold"}},"\u70ed\u5356\u5546\u54c1",r.a.createElement("span",{style:{textAlign:"center",fontSize:13,fontWeight:"lighter"}},"\u95e8\u5e97\uff1a".concat(this.props.query.get("name"),"\uff0c\u5546\u54c1\u5b9e\u6536\uff1a\xa5 ").concat(this.props.query.get("number")))),footer:r.a.createElement("div",{style:{height:100,textAlign:"center",fontSize:14,fontWeight:"lighter"}},"\u5f2f\u9ea6--\u5fc3\u91cc\u6ee1\u6ee1\u90fd\u662f\u4f60"),renderItem:function(t){var n=e.state.listData.indexOf(t),a="gray";return 0===n?a="orange":1===n?a="green":2===n&&(a="red"),r.a.createElement(m.b.Item,null,r.a.createElement("div",{style:{width:30,height:30,backgroundColor:a,color:"white",fontSize:14,fontWeight:"bold",textAlign:"center",marginRight:15,marginLeft:15,borderRadius:10}},r.a.createElement("div",{style:{marginTop:3}},n+1)),r.a.createElement(m.b.Item.Meta,{title:r.a.createElement("div",null,r.a.createElement("span",{style:{fontSize:16}},t.name),"-"!==t.specification&&r.a.createElement("span",{style:{fontSize:12}},t.specification)),description:"\u9500\u91cf\uff1a".concat(t.saleNumber," \u5e93\u5b58\uff1a").concat(t.currentNumber)}),r.a.createElement("span",{style:{marginRight:25,color:"coral",fontSize:18}},"\uffe5".concat(t.realIncome)))}},this.state.loading&&this.state.hasMore&&r.a.createElement("div",null,r.a.createElement(g.a,{style:{position:"absolute",bottom:15,width:"100%",textAlign:"center"}})))))}}]),n}(r.a.Component),S=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={listData:[],loading:!1},a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchListData();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchListData",value:function(){var e=Object(l.a)(s.a.mark((function e(){var t,n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.listData,this.setState({loading:!0}),e.prev=2,n=[],e.next=6,b(this.props.query.get("id"),this.props.query.get("date"));case 6:(a=e.sent)&&0===a.errCode&&(n=a.list),t=t.concat(n),this.setState({listData:t,loading:!1}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),this.setState({loading:!1});case 15:case"end":return e.stop()}}),e,this,[[2,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(m.b,{dataSource:this.state.listData,locale:{emptyText:"\u6682\u65f6\u6ca1\u6709\u6570\u636e"},header:r.a.createElement("div",{style:{textAlign:"center",fontSize:24,fontWeight:"bold"}},"\u62a5\u635f\u5546\u54c1",r.a.createElement("span",{style:{textAlign:"center",fontSize:13,fontWeight:"lighter"}},"\u95e8\u5e97\uff1a".concat(this.props.query.get("name"),"\uff0c\u62a5\u635f\u91d1\u989d\uff1a\xa5 ").concat(this.props.query.get("number")))),footer:r.a.createElement("div",{style:{height:100,textAlign:"center",fontSize:14,fontWeight:"lighter"}},"\u5f2f\u9ea6--\u5fc3\u91cc\u6ee1\u6ee1\u90fd\u662f\u4f60"),renderItem:function(t){var n=e.state.listData.indexOf(t),a="gray";return 0===n?a="orange":1===n?a="green":2===n&&(a="red"),r.a.createElement(m.b.Item,null,r.a.createElement("div",{style:{width:30,height:30,backgroundColor:a,color:"white",fontSize:14,fontWeight:"bold",textAlign:"center",marginRight:15,marginLeft:15,borderRadius:10}},r.a.createElement("div",{style:{marginTop:3}},n+1)),r.a.createElement(m.b.Item.Meta,{title:r.a.createElement("div",null,r.a.createElement("span",{style:{fontSize:16}},t.name),"-"!==t.specification&&r.a.createElement("span",{style:{fontSize:12}},t.specification)),description:"\u62a5\u635f\u6570\u91cf\uff1a".concat(t.discardNumber)}),r.a.createElement("span",{style:{marginRight:25,color:"coral",fontSize:18}},"\uffe5".concat(t.diacardMoney)))}}))}}]),n}(r.a.Component),k=n(8),O=n(109);n(178);function j(){var e=new URLSearchParams(Object(k.e)().search);return r.a.createElement("div",null,r.a.createElement(k.a,{exact:!0,path:"/",children:r.a.createElement(w,null)}),r.a.createElement(k.a,{path:"/productsale",children:r.a.createElement(w,{query:e})}),r.a.createElement(k.a,{path:"/discardsale",children:r.a.createElement(S,{query:e})}))}function I(){return r.a.createElement(O.a,null,r.a.createElement(j,null))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[116,1,2]]]);
//# sourceMappingURL=main.aab778e5.chunk.js.map