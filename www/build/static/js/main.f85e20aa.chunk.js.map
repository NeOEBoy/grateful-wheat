{"version":3,"sources":["view/cakeMenu.js","api/api.js","image/shoppingCart.png","image/教育局总店2号微信.jpg","api/util.js","image/logo.png","image/弯麦logo方-黑白.png","view/orderManagement1.js","view/productionPlanPrinter1.js","view/productDistributePrinter1.js","api/cache.js","view/productDistributeInputer.js","view/productLabelPrinter.js","view/productManagement.js","view/cakeOrder.js","view/productMenu.js","view/productMenu1.js","view/productMenu4Printer.js","view/productMenu4Printer1.js","view/productStockManagement.js","view/buildingMap.js","view/building.js","view/birthdayCakeOrder.js","view/testVideo.js","routerApp.js","serviceWorker.js","index.js","view/Lodop6.226_Clodop4.127/LodopFuncs.js","api/di.wav"],"names":["Panel","Collapse","CheckboxGroup","Checkbox","Group","TextArea","Input","orderInfoInit","init","name","description","making","cream","undefined","size","sizeExtra","price","fillings","candle","candleExtra","kindling","hat","plates","delivery","pickUpDay","pickUpDayPopupOpen","pickUpTime","pickUpTimePopupOpen","pickUpType","shop","height","address","pickUpName","phoneNumber","pickUpTypes","other","remarks","cakeMenu","props","componentDidMount","a","setState","allCakeInfosLoading","allCakeInfos","cakeInfosObj","_cakeSizes","sizes","_cakeCreams","creams","_cakeFillings","_cakeCandles","candles","_cakeKindlings","kindlings","_cakeHats","hats","_cakePickUpTypes","_cakeShops","shops","_cakeShopsDescription","shopsDescription","_cakeHeights","heights","_cakeHeightsDescription","heightsDescription","_private","private","_weixin","weixin","makeRenderItemFunc4Product","initLocal","cakeRecommend","recommend","cakeCategorys","categorys","cakeProducts","products","updateWeixinConfig","window","navigator","userAgent","toLowerCase","indexOf","wechatSign","document","URL","split","res","appId","wx","config","debug","timestamp","nonceStr","signature","jsApiList","that","ready","wXConfig","title","desc","imgUrl","updateAppMessageShareData","link","success","fail","updateTimelineShareData","error","console","log","JSON","stringify","_lastKeys","_theDiv4CaptureWidth","theDiv4CaptureHeight","_theDiv4CaptureStyle","width","background","_theLeftDivInTheDiv4CaptureStyle","float","marginLeft","borderRadius","border","_theRightDivInTheDiv4CaptureStyle","orderImageWidth","innerWidth","orderImageHeight","_orderImageDivStyle","marginTop","innerHeight","_orderImageStyle","_orderImageInStyle","_columnNumber","interWidth","handleSearchInputOnChange","e","newSearchName","target","value","searchName","state","products4Search","i","length","product","push","cake4Search","handleCollapseOnChange","keys","keysOpened","ii","key","pos","splice","keysClosed","jj","categoryIdOpened","categoryIdClosed","category","id","toString","opened","forceUpdate","handleOrderNowClick","orderInfoModalVisiable","cakeOrderInfo","history","pushState","onpopstate","handleOrderCakeInfoModalBack","setTimeout","fillingNumber","makeCakeConfig","documentElement","style","overflow","handleOrderCakeInfoModalOk","message","warning","evalWith","test","orderImageCapturing","orderingTime","moment","format","image4QRCode","handleOrderImageModalBack","createResult","_id","createCakeOrder","images","map","item","errCode","cakeOrderUrl","getWWWHost","qrOpts","errorCorrectionLevel","type","quality","margin","color","dark","light","QRCode","toDataURL","qrCode","html2Canvas","_theDiv4Capture","canvas","imageSrc","orderImageSrc","orderImageModalVisiable","handleOrderCakeInfoModalCancel","back","handleOrderImageModalCancel","_programBack","handleCreamChange","parse","updateSizeOptions","handleSizeChange","updatePrice","updatePlate","handleSizeExtraChange","handleSizeSelectDropdownVisibleChange","open","handleHeightChange","updateFillingNumber","handleCakeFillingChange","handleCandleChange","updateCandleOptions","handleKindlingChange","handleHatChange","handleCandleExtraChange","handlePickUpDayChange","data","handlePickUpDayOnFocus","handlePickUpDayOnBlur","handlePickUpTimeChange","handlePickUpTimeOnFocus","handlePickUpTimeOnBlur","handlePickUpTimeOnOk","_datePicker4PickUpTime","blur","handlePickUpTypeChange","handleShopChange","handleAddressChange","handlePickUpNameChange","handlePhoneNumberChange","handleRemarksChange","updateCreamOptions","updateHeightOptions","updateFillingOptions","updateKindlingOptions","updateHatOptions","updatePickUpTypesOptions","updateShopOptions","heightObj","fillingRequired","specifications","specification","creamId","sizeId","money","extraMoneys","extraMoney","_creamOptions","cakeCream","j","label","_sizeOptions","cakeSize","_heightOptions","_fillingOptions","filling","marginBottom","preview","src","image","textAlign","_candleOptions","disabled","placeholder","prefix","onChange","_kindlingOptions","_hatOptions","_pickUpTypesOptions","_shopOptions","_renderItemFunc4Product","index","theMinimumSize","theMinimumPrice","firstSpec","Item","onClick","position","thumbnail","alt","left","bottom","zIndex","paddingLeft","paddingRight","paddingTop","paddingBottom","fontSize","fontWeight","number","unit","obj","eval","imageBeforeCrop","imageCropperModalVisiable","localImgDataLoading","this","opacity","overflowY","overflowX","spinning","tip","onInitialized","cropper","_imageCropper","aspectRatio","guides","autoCropArea","top","rotate","danger","dataUrlAfterCroped","getCroppedCanvas","customizedProduct","effect","dotPosition","right","objectFit","controls","source","mask","creamExist","display","marginRight","options","optionType","onDropdownVisibleChange","ref","dp","_datePicker4PickUpDay","showToday","inputReadOnly","onFocus","onBlur","dateRender","current","date","className","renderExtraFooter","add","picker","locale","dpLocale","showTime","use12Hours","showNow","panelRender","originPicker","onOk","rows","backgroundColor","borderBottom","orientation","dashed","join","wordWrap","textDecoration","href","padding","allowClear","grid","gutter","column","dataSource","renderItem","chooseImage","count","sizeType","sourceType","localIds","getLocalImgData","localId","localData","startsWith","loading","bordered","expandIcon","isActive","expandIconPosition","header","React","Component","getApiHost","domain","getProductOrderList","userId","templateId","timeType","beginDateTime","endDateTime","productOrderUrl","fetch","productOrderResponse","json","productOrderJson","getProductOrderItems","orderId","productOrderItemUrl","productOrderItemsResponse","productOrderItemsJson","findTemplate","templateUid","findTemplateUrl","findTemplateResponse","findTemplateResponseJson","loadProductsByKeyword","keyword","loadProductsByKeywordUrl","loadProductsByKeywordResponse","loadProductsByKeywordResponseJson","createStockFlowOut","toUserId","items","createStockFlowOutUrl","createStockFlowOutBody","method","body","headers","createStockFlowOutResponse","createStockFlowOutResponseJson","loadProductsSale","categoryId","userIds","isSellWell","orderColumn","asc","loadProductsSaleUrl","loadProductsSaleResponse","loadProductsSaleResponseJson","loadFoodsRecommend","loadFoodsRecommendUrl","Math","floor","random","mode","loadFoodsRecommendResponse","loadFoodsRecommendResponseJson","loadBreadAll","loadBreadAllUrl","loadBreadAllResponse","loadBreadAllResponseJson","url","wechatSignUrl","wechatSignResponse","wechatSignResponseJson","geocode","city","geocodeUrl","geocodeResponse","geocodeResponseJson","createCakeOrderUrl","creatParamObj","createCakeOrderResponse","createCakeOrderResponseJson","findCakeOrder","findCakeOrderUrl","findCakeOrderResponse","findCakeOrderResponseJson","allCakeInfosResponse","cakeInfos","weixinInfosResponse","weixinInfos","creamInfosResponse","creamInfos","sizeInfosResponse","sizeInfos","heightInfosResponse","heightInfos","fillingsResponse","fillingInfos","candlesResponse","candleInfos","kindlingResponse","kindlingInfos","hatResponse","hatInfos","pickUpTypeResponse","pickUpTypeInfos","shopResponse","shopInfos","privateResponse","privateInfos","k","idAndName","productsUrl","productsResponse","forEach","randomIndexs","countOfCategoryImages","parseInt","allBreadInfos","allBreadInfosUrl","allBreadInfosResponse","allBreadInfosResponseJson","breadInfos","onSale","productNames","productNew","sortId","buyNumber","sort","b","allBuildingInfos","allBuildingInfosUrl","allBuildingInfosResponse","allBuildingInfosResponseJson","buildingInfos","buildings","module","exports","getAllShop","getAllShopExceptAll","getAllOrderShopName","getOrderTemplates","getOrderTypes","getAllCategorysExceptAll","getOrderTimeType","getProductSortIdArray","getOrderCashiers","getCategory4ProductPlanPrint","getCategory4ProductDistributePrint","getA4PrinterIndex","LODOP","a4PrinterIndex","iPrinterCount","GET_PRINTER_COUNT","GET_PRINTER_NAME","getPageName4A4Printer","getNeedlePrinterIndex","needlePrinterIndex","getPageName4NeedlePrinter","getLabelPrinterIndex","labelPrinterIndex","RangePicker","DatePicker","KAllShops","KOrderTemplates","KOrderTypes","KOrderCashiers","KOrderTimeType","KOrderDetailColumns4Table","dataIndex","render","text","OrderManagement","fetchOrderList","alreadyOrderListData","alreadyOrderLoading","selectedRowKeys4OrderList","currentShop4OrderList","currentTemplate4OrderList","currentOrderType4OrderList","currentOrderCashier","currentOrderTimeType","beginDateTime4OrderList","endDateTime4OrderList","orderList","selectedRowKeys","beginDateTimeStr","endDateTimeStr","productOrder","list","orderCashier","orderType","item1","item2","orderShopIndex","order","err","fetchOrderDetail","currentOrderId","orderDetailData","orderDetailLoading","orderItems","amount","reduce","pre","cur","parseFloat","orderDetailDataAmount","toFixed","onOrderItemSelectChange","handleProductLabelPrint","location","replace","makeParamByState","handleProductionPrint","handleDistributionPrint","getDayTip4BeginAndEnd","begin","end","dayTip","todayBegin","startOf","todayEnd","endOf","yesterdayBegin","subtract","yesterdayEnd","tomorrowBegin","tomorrowEnd","diff","handleSetFilter4Production","handleSetFilter4Distribution","handleSetCurrentShopFilter","info","handleSetCurrentOrderTypeFilter","handleSetCurrentOrderCashierFilter","handleSetCurrentTemplateFilter","handleSetCurrentOrderTimeTypeFilter","handleTimePickerOpenChange","timePickerOpen4OrderList","handleTimePickerOnOk","refreshBeginAndEndDateTime","orderDetailModalVisible","currentOrderShopName","currentOrderTime","query","paramValueStr","get","initFilterByParam","param","unescape","paramValueObj","template","alreadyOrderListDataAfterFilter","orderItem","escape","alreadyOrderRowSelection","disableProductionPrint","disableDistributionButtonPrint","KOrderColumns4Table","record","orderShop","orderTime","centered","keyboard","maskClosable","visible","okText","cancelButtonProps","hidden","onCancel","columns","pagination","scroll","y","scrollToFirstRowOnChange","footer","overlay","arrow","trigger","preventDefault","DownOutlined","cashier","onOpenChange","defaultValue","hideDisabledOptions","showHour","showMinute","showSecond","rowSelection","KCategory4ProductPlanPrint","ProductionPlanPrinter","paramObj","refresh","productSpinning","productSpinTipText","productItems","productOrderResult","existIndex","barcode","orderNumber","categoryItems","existJ","categoryName","newCategory","category4ProductPlan","categoryGroupItems","newCategoryGroupItems","pDepartment","pCategory","categoryGroupItem","categoryItem","newCategoryItem","allProductionDataToBePrint","getLodopAfterInit","getLodop","PRINT_INIT","SET_PRINTER_INDEX","SET_PRINT_PAGESIZE","SET_PREVIEW_WINDOW","SET_PRINT_COPIES","SET_SHOW_MODE","SET_PRINT_MODE","ADD_PRINT_HTM","getElementById","innerHTML","productPrintPreprew","PREVIEW","productPrintDirect","PRINT","productPrintDirectAndBack","handleBack","paramStr","orderManagementUrl","borderStyle","columnData","cellSpacing","borderCollapse","colSpan","productItem","oneWeight","spec","specs","s","num","orderName","orderProductName","KCategory4ProductDistributePrint","KLabelPrintState","KAmOrPmTypeOptions","ProductDistributePrinter","category4ProductDistribute","allDistributionDataToBePrint","productLabelPrintStart","productLabelPrintTemplateList","departmentItems","printStatus","printProgress","productLabelPrintProductionDate","productLabelPrintExpirationDate","productLabelPrintProductionTitle","productLabelPrintModalVisible","selectedRowKeys4LabelPrintTemplateList","selectedRows4LabelPrintTemplateList","productLabelPrintState","amOrPmType","productLabelPrintProductionTemplate4Preview","ingredients","productLabelPrintProductionDateAndTime","qualityDay","expirationDate","JsBarcode","displayValue","startOrContinueLabelPrint","templateIndex","itemIndex","orderNumberIndex","titleArr","titleLabelPrintDirect","itemsToPrint","transferPrice","qualityDayInt","z","Promise","resolve","_templateIndex","_itemIndex","_orderNumberIndex","Number","productLabelPrintDirect","getLodopAfterInit4Label","getTitleHtml","orderShopStr","orderTypeStr","orderCashierStr","ADD_PRINT_TEXT","SET_PRINT_STYLEA","ADD_PRINT_BARCODE","onTemplateItemSelectChange","selectedRows","handleProductLabelPrintProductionDateChange","updateProductLabelPrintProductionTemplateDayAndTime","handleAmOrPmTypeChange","productLabelPrintTemplateProductModalVisible","productLabelPrintTemplateProductList","labelPrintModalOkText","labelPrintModalOkButtonDisable","KTemplateColumns4Table","KTemplateRowSelection","getCheckboxProps","barcodeMiddle","barcodeSimple","okButtonProps","cancelText","margeLeft","KTemplateData","findTemplateWithCache","templateList","findResult","Search","KProductSortIdArray","KOutsideCategorys","EditableContext4Transfer","createContext","EditableRow4Transfer","Form","useForm","form","component","Provider","EditableCell4Transfer","editable","children","handleEditableCellNextFocus","handleEditableCellCurrentFocus","handleEditableCellCurrentEnter","restProps","childNode","inputRef","useRef","useContext","select","handleOnChange","validateFields","values","newData","handleOnPressEnter","Audio","diAudioSrc","play","handleOnFocus","initialValue","rules","required","pattern","autoComplete","onPressEnter","EditableContext4AddProduct","EditableRow4AddProduct","EditableCell4AddProduct","handleEditableCellOnChangeAddOrRemove","setFocus","lastStr","substring","addOrRemove","ProductDistributeInputer","currentShop","_template","_orderType","_orderCashier","_timeType","_beginDateTime","_endDateTime","_orderList","allData","existInAllData","templateName","theExistDataItems","toBeDealItems","toBeDealItem","posInTheExistDataItems","newNumber","newItemObject","expectTime","templateAndBarcode","sortInfo","allDataAfterTemplate","allDataItem","allDataItemItems","allDataItemAfterTemplate","findResultList","totalItemsAfterFixTemplate","transferNumber","transferData","allDataAfterTemplateItem","allDataAfterTemplateItemItems","allDataAfterTemplateItemItemsItem","allProductionDataToBeTransfer","getColumnSearchProps","filterDropdownVisible","filterDropdownVisible4Transfer","filterDropdown","setSelectedKeys","confirm","selectedKeys","clearFilters","node","_searchInput","focus","_searchText4Transfer","isInter","handleAddProduct","_lastSearchText4Transfer","transferItems4NextFocus","transferItems4NextFocusTemp","element","editing","filterIcon","filtered","SearchOutlined","onFilter","simple","includes","onFilterDropdownVisibleChange","highlightStyle","searchWords","autoEscape","textToHighlight","onAddProductionSelectChange","addProductionSelectedRowKeys","onAddProductSelect","selected","_searchInput4AddProduct","allProductionDataRealToBeTransferTemp","allProductionDataRealToBeTransfer","newItem4Transfer","productName","memberPrice","wholePrice","partnerPrice","makePartnerPriceByCategory","partnerPriceTotal","remark","allProductionDataAfterAdd","allProductionDataAfterRemove","handleAddProductOnSearch","searchProductDataToBeAdd","searchOrJump","_lastSearchText4AddProduct","searchingProductData","loadProductResult","selectKeys","handleAddProductionModalonOk","isAddProductionModalVisible","handleProductTransferConfirm","productTransferConfirmText","quantity","buyPrice","result","modalInfo","Modal","update","destroy","lastFocusIndex","newFocusIndex","doAddToTransfer","newRecord","allProductionDataRealToBeTransferAdding","allProductionDataRealToBeTransferAddingText","productInfo","startToRunAddToTransfers","firstRecord","_readyToBeAddTransfers","_readyToBeAddRuning","shift","handleDeleteProduct4Preview","handleEditableCell4AddProductNextFocus","searchProductDataToBeAddTemp","handleEditableCell4AddProductCurrentFocus","handleEditableCellAddProductOnChangeAddOrRemove","oriPrice","productTransferPrintShow","makeTotalPrice","totalPrice","makePartnerPrice","totalPartnerPrice","makePartnerPriceTotal","totalPartnerPriceTotal","_searchText4AddProduct4onChange","_lastSearchText4AddProduct4onChange","disableTransferPreviewOrPrint","KTransferColumns4Table","editingIndex","components4Transfer","row","cell","transferColumns4TableEditable","col","onCell","components4AddProduct","addProductColumns4TableEditable","addProductRowSelection","hideSelectAll","onSelect","currentTimeStr","KProductTransferPreviewColumns4Table","orderN","transferN","onConfirm","components","rowClassName","closable","enterButton","onSearch","maskStyle","serialNum","transferNumberBGcolor","KMarkTypeOptions","ProductLabelPrinter","handleOnSearch","trim","productList","searching","handleMarkTypeChange","markType","buttonStyle","_searchRef","autoFocus","xs","sm","md","lg","xl","xxl","headStyle","min","max","_printCount","loopCount","ProductManagement","_a","CakeOrder","imageUrl","locationResult","locationStr","locationArray","openLocation","longitude","latitude","scale","infoUrl","KImageRoot","KCategorys","thumbnails","ProductMenu","foodCategorys","foodsRecommendItems","foodCategorysNew","birthdayCakeCategory","birthdayCakeCategoryToAdd","nowMoment","loadResult","newList","foodsRecommendKeys","Object","ignore","disable","_breadAll","saleNumber","birthdayCakeCategoryClose","handleIncreaseItemToCart","existItem","newOrderList","totalCount","tp","fixTo2","orderListTotalPrice","orderListTotalCount","handleDecreaseItemFromCart","round","copyText","createElement","setSelectionRange","execCommand","remove","isRTL","getAttribute","yPosition","pageYOffset","scrollTop","setAttribute","appendChild","foodsRecommendTitle","foodsRecommendLoading","orderListShow","goOrderViewShow","orderText","remarkText","foodsRecommend","recommendTitle","recommendItems","foodsRecommendItemsNew","recommendItem","name4allItem","disableOrderButton","orderButtonText","differ","springConfig","stiffness","damping","adjustingSpeed","disableButton","fallback","onError","shape","icon","MinusOutlined","PlusOutlined","RightSquareFilled","lastIndex","extra","require","newOrderText","maxHeight","itemLayout","t","allText","orderTextArray","content","closeWindow","breadCategorys","ingredient","breadRecommend","breadProducts","breadInfosObj","ProductMenu4Printer","theData","resultList","newItem","newPage","theDataAfterPage","productPages","productPage","totalPage","currentPage","KAllShopsExceptAll","KAllCategorysExceptAll","ProductStockManagement","fetchStockList","stockListData","stockLoading","currentShop4StockList","currentCategory4StockList","KStockColumns4Table","fg","KBuildMapNames","BuildingMap","loadMapByKeyword","buildMapNamesFilter","buildMap","handleAll","Building","_buildings","showBuildingByKeyword","buildingAfterFilter","building","KPickUpTypeOptions","KCandleTypeOptions","BirthdayCakeOrder","cakeName","cakeImage","creamType","cakeSizeExtra","cakePrice","cakeFillings","candleType","ignitorType","number4candle","cakePlateNumber","responseShop","deliverAddress","deliverCity","deliverCounty","tel","TestVideo","autoPlay","loop","Inside4QueryParams","URLSearchParams","useLocation","search","exact","path","RouterApp","zhCN","Boolean","hostname","match","ReactDOM","StrictMode","serviceWorker","then","registration","unregister","catch","CreatedOKLodopObject","CLodopIsLocal","CLodopJsState","needCLodop","ua","verTrident","verIE","verOPR","verFF","x64","verChrome","head","getElementsByTagName","JS1","JS2","onload","onerror","evt","insertBefore","firstChild","loadCLodop","oOBJECT","oEMBED","isIE","getCLodop","alert","CLODOP","CVERSION","parentNode","removeChild","is64IE","VERSION","SET_LICENSES"],"mappings":"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","file":"static/js/main.f85e20aa.chunk.js","sourcesContent":["/*\r\n* 弯麦●蛋糕 图册链接\r\n* http://gratefulwheat.ruyue.xyz/cakeMenu\r\n*/\r\nimport React from 'react';\r\nimport moment from 'moment';\r\nimport html2Canvas from 'html2canvas';\r\nimport dpLocale from 'antd/es/date-picker/locale/zh_CN';\r\nimport QueueAnim from 'rc-queue-anim';\r\nimport Cropper from 'react-cropper'\r\nimport 'cropperjs/dist/cropper.css'\r\nimport QRCode from 'qrcode'\r\n\r\nimport {\r\n    RightSquareFilled,\r\n    UserOutlined,\r\n    HomeOutlined,\r\n    PhoneOutlined,\r\n    EditOutlined,\r\n    RotateLeftOutlined,\r\n    RotateRightOutlined,\r\n    PayCircleOutlined,\r\n    InfoCircleOutlined\r\n} from '@ant-design/icons';\r\nimport {\r\n    Collapse, Image, Spin,\r\n    DatePicker, Radio, List, Carousel,\r\n    Select, Input, Checkbox, Divider,\r\n    message, Timeline, Button, Space\r\n} from 'antd';\r\nimport {\r\n    wechatSign,\r\n    // templateSendToSomePeople,\r\n    createCakeOrder,\r\n    allCakeInfos\r\n} from '../api/api';\r\nimport { getWWWHost } from '../api/util';\r\n\r\nconst { Panel } = Collapse;\r\nconst CheckboxGroup = Checkbox.Group;\r\nconst { TextArea } = Input;\r\n\r\nconst orderInfoInit = () => {\r\n    let init = {};\r\n    init.product = { name: '', description: '' };\r\n    init.making = {};\r\n    init.making.cream = undefined;\r\n    init.making.size = undefined;\r\n    init.making.sizeExtra = undefined;\r\n    init.making.price = '--';\r\n    init.making.fillings = [];\r\n    init.making.candle = undefined;\r\n    init.making.candleExtra = undefined;\r\n    init.making.kindling = undefined;\r\n    init.making.hat = undefined;\r\n    init.making.plates = undefined;\r\n    init.delivery = {};\r\n    init.delivery.pickUpDay = undefined;\r\n    init.delivery.pickUpDayPopupOpen = false;\r\n    init.delivery.pickUpTime = undefined;\r\n    init.delivery.pickUpTimePopupOpen = false;\r\n    init.delivery.pickUpType = undefined;\r\n    init.delivery.shop = undefined;\r\n    init.making.height = undefined;\r\n    init.delivery.address = undefined;\r\n    init.delivery.pickUpName = undefined;\r\n    init.delivery.phoneNumber = undefined;\r\n    init.delivery.pickUpTypes = undefined;\r\n    init.other = {};\r\n    init.other.remarks = \"\";\r\n\r\n    return init;\r\n};\r\n\r\nclass cakeMenu extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        // 初始化state\r\n        this.state = {\r\n            // 主页\r\n            cakeRecommend: { name: '', products: [] },\r\n            allCakeInfosLoading: false,\r\n            cakeCategorys: [],\r\n            cakeProducts: [],\r\n            /// 搜索\r\n            searchName: '',\r\n            cake4Search: [],\r\n            /// 预定蛋糕信息\r\n            orderInfoModalVisiable: false,\r\n            cakeOrderInfo: orderInfoInit(),\r\n\r\n            /// 生成预定单图片\r\n            orderingTime: '',\r\n            orderImageModalVisiable: false,\r\n            orderImageSrc: undefined,\r\n            orderImageCapturing: false,\r\n            imageBeforeCrop: '',\r\n            imageCropperModalVisiable: false,\r\n            localImgDataLoading: false,\r\n            image4QRCode: ''\r\n        };\r\n    }\r\n\r\n    componentDidMount = async () => {\r\n        this.setState({ allCakeInfosLoading: true });\r\n        const cakeInfosObj = await allCakeInfos();\r\n        this.setState({ allCakeInfosLoading: false });\r\n        // console.log('cakeInfosObj = ' + JSON.stringify(cakeInfosObj));\r\n        this._cakeSizes = cakeInfosObj.sizes;\r\n        this._cakeCreams = cakeInfosObj.creams;\r\n        this._cakeFillings = cakeInfosObj.fillings;\r\n        this._cakeCandles = cakeInfosObj.candles;\r\n        this._cakeKindlings = cakeInfosObj.kindlings;\r\n        this._cakeHats = cakeInfosObj.hats;\r\n        this._cakePickUpTypes = cakeInfosObj.pickUpTypes;\r\n        this._cakeShops = cakeInfosObj.shops;\r\n        this._cakeShopsDescription = cakeInfosObj.shopsDescription;\r\n        this._cakeHeights = cakeInfosObj.heights;\r\n        this._cakeHeightsDescription = cakeInfosObj.heightsDescription;\r\n        this._private = cakeInfosObj.private;\r\n        this._weixin = cakeInfosObj.weixin;\r\n\r\n        this.makeRenderItemFunc4Product();\r\n        this.initLocal();\r\n\r\n        this.setState({\r\n            cakeRecommend: cakeInfosObj.recommend,\r\n            cakeCategorys: cakeInfosObj.categorys,\r\n            cakeProducts: cakeInfosObj.products,\r\n        });\r\n\r\n        this.updateWeixinConfig();\r\n    }\r\n\r\n    /// 配置微信分享图标和文案\r\n    updateWeixinConfig = async () => {\r\n        /// 微信环境判断\r\n        let is_weixin = window.navigator.userAgent.toLowerCase().indexOf(\"micromessenger\") !== -1;\r\n        if (!is_weixin) return;\r\n\r\n        /**\r\n          * 微信配置\r\n          */\r\n        let res = await wechatSign(document.URL.split('#')[0]);\r\n        if (res) {\r\n            /// 如果没有传递过来appid，则微信接口出错，前端不处理后续流程\r\n            if (!res.appId) return;\r\n\r\n            /**\r\n             * 微信JSSDK注入配置信息\r\n             */\r\n            window.wx.config({\r\n                debug: false, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。\r\n                appId: res.appId, // 必填，公众号的唯一标识\r\n                timestamp: res.timestamp, // 必填，生成签名的时间戳\r\n                nonceStr: res.nonceStr, // 必填，生成签名的随机串\r\n                signature: res.signature,// 必填，签名\r\n                jsApiList: [\r\n                    'updateAppMessageShareData',\r\n                    'updateTimelineShareData',\r\n                    'chooseImage',\r\n                    'getLocalImgData'\r\n                ] // 必填，需要使用的JS接口列表\r\n            });\r\n\r\n            let that = this;\r\n            window.wx.ready(async function () {\r\n                /**\r\n                 * config信息验证后会执行ready方法，所有接口调用都必须在config接口获得结果之后，\r\n                 * config是一个客户端的异步操作，所以如果需要在页面加载时就调用相关接口，\r\n                 * 则须把相关接口放在ready函数中调用来确保正确执行。\r\n                 * 对于用户触发时才调用的接口，则可以直接调用，不需要放在ready函数中。\r\n                 * */\r\n                // console.log('window.wx ready');\r\n\r\n                let wXConfig = that._weixin;\r\n                let title = wXConfig.title;\r\n                let desc = wXConfig.desc;\r\n                let imgUrl = wXConfig.imgUrl;\r\n\r\n                // 自定义“分享给朋友”及“分享到QQ”按钮的分享内容\r\n                window.wx.updateAppMessageShareData({\r\n                    title: title, // 分享标题\r\n                    desc: desc, // 分享描述\r\n                    link: document.URL, // 分享链接，该链接域名或路径必须与当前页面对应的公众号JS安全域名一致\r\n                    imgUrl: imgUrl, // 分享图标\r\n                    success: function () {\r\n                        // 设置成功\r\n                        // console.log('window.wx.updateAppMessageShareData success');\r\n                    },\r\n                    fail: function (res) {\r\n                        // 设置失败\r\n                        // console.log('window.wx.updateAppMessageShareData fail res=' + JSON.stringify(res));\r\n                    }\r\n                });\r\n\r\n                // 自定义“分享到朋友圈”及“分享到QQ空间”按钮的分享内容\r\n                window.wx.updateTimelineShareData({\r\n                    title: title, // 分享标题\r\n                    link: document.URL, // 分享链接，该链接域名或路径必须与当前页面对应的公众号JS安全域名一致\r\n                    imgUrl: imgUrl, // 分享图标\r\n                    success: function () {\r\n                        // 设置成功\r\n                        // console.log('window.wx.updateTimelineShareData success');\r\n                    },\r\n                    fail: function (res) {\r\n                        // 设置失败\r\n                        // console.log('window.wx.updateTimelineShareData fail res = ' + JSON.stringify(res));\r\n                    }\r\n                });\r\n            });\r\n\r\n            window.wx.error(function (res) {\r\n                /**\r\n                 * config信息验证失败会执行error函数，如签名过期导致验证失败，具体错误信息可以打开config的debug模式查看，\r\n                 * 也可以在返回的res参数中查看，对于SPA可以在这里更新签名。\r\n                 */\r\n                console.log('window.wx error res = ' + JSON.stringify(res));\r\n            });\r\n        }\r\n    }\r\n\r\n    initLocal = () => {\r\n        // 初始化local\r\n        this._lastKeys = [];\r\n\r\n        // 订单模板\r\n        this._theDiv4CaptureWidth = 760;\r\n        let theDiv4CaptureHeight = this._theDiv4CaptureWidth * 148 / 210;\r\n        this._theDiv4CaptureStyle = {\r\n            width: this._theDiv4CaptureWidth,\r\n            height: theDiv4CaptureHeight,\r\n            background: 'white'\r\n        };\r\n        this._theLeftDivInTheDiv4CaptureStyle = {\r\n            width: theDiv4CaptureHeight - 180,\r\n            height: theDiv4CaptureHeight - 180 + 40,\r\n            float: 'left', marginLeft: 8,\r\n            borderRadius: 8, border: '2px dotted #008B8B'\r\n        };\r\n        this._theRightDivInTheDiv4CaptureStyle = {\r\n            float: 'right',\r\n            width: this._theDiv4CaptureWidth - theDiv4CaptureHeight + 160\r\n        };\r\n\r\n        // 订单图片\r\n        let orderImageWidth = window.innerWidth;\r\n        if (orderImageWidth > 680) orderImageWidth = 680;\r\n        let orderImageHeight = orderImageWidth * 148 / 210;\r\n        let titleAndFooterHeight = 190;\r\n        this._orderImageDivStyle = {\r\n            width: orderImageWidth,\r\n            height: orderImageHeight + titleAndFooterHeight,\r\n            marginTop: (window.innerHeight - (orderImageHeight + titleAndFooterHeight)) / 2,\r\n            marginLeft: (window.innerWidth - orderImageWidth) / 2\r\n        };\r\n\r\n        this._orderImageStyle = {\r\n            width: orderImageWidth,\r\n            height: orderImageHeight,\r\n            border: '2px dashed #008B8B'\r\n        };\r\n\r\n        this._orderImageInStyle = {\r\n            width: orderImageWidth - 4,\r\n            height: orderImageHeight - 4\r\n        };\r\n\r\n        // 首页列数\r\n        this._columnNumber = 2;\r\n        const interWidth = window.innerWidth;\r\n        // console.log('interWidth = ' + interWidth);\r\n        if (interWidth > 900) {\r\n            this._columnNumber = 4;\r\n        } else if (interWidth > 600) {\r\n            this._columnNumber = 3;\r\n        }\r\n    }\r\n\r\n    // 搜索\r\n    handleSearchInputOnChange = (e) => {\r\n        let newSearchName = e.target.value;\r\n        this.setState({ searchName: newSearchName });\r\n        if (!e.target.value || e.target.value === '') return;\r\n\r\n        const { cakeProducts } = this.state;\r\n        let products4Search = [];\r\n        for (let i = 0; i < cakeProducts.length; ++i) {\r\n            let product = cakeProducts[i];\r\n            if (product?.name.indexOf(newSearchName) !== -1 ||\r\n                product?.description.indexOf(newSearchName) !== -1) {\r\n                products4Search.push(product);\r\n            }\r\n        }\r\n\r\n        this.setState({ cake4Search: products4Search });\r\n    }\r\n\r\n    /// 蛋糕分类 展开|收起 \r\n    handleCollapseOnChange = async (keys) => {\r\n        if (!keys) return;\r\n        // console.log(keys);\r\n        let keysOpened = [...keys];\r\n        for (let ii = 0; ii < this._lastKeys.length; ++ii) {\r\n            let key = this._lastKeys[ii];\r\n            let pos = keysOpened.indexOf(key);\r\n            if (pos !== -1) {\r\n                keysOpened.splice(pos, 1);\r\n            }\r\n        }\r\n\r\n        let keysClosed = [...this._lastKeys];\r\n        for (let jj = 0; jj < keys.length; ++jj) {\r\n            let key = keys[jj];\r\n            let pos = keysClosed.indexOf(key);\r\n            if (pos !== -1) {\r\n                keysClosed.splice(pos, 1);\r\n            }\r\n        }\r\n        this._lastKeys = [...keys];\r\n\r\n        const { cakeCategorys } = this.state;\r\n\r\n        // console.log(keysOpened);\r\n        let categoryIdOpened = keysOpened.length === 1 ? keysOpened[0] : \"\";\r\n        let categoryIdClosed = keysClosed.length === 1 ? keysClosed[0] : \"\";\r\n\r\n        for (let i = 0; i < cakeCategorys.length; ++i) {\r\n            let category = cakeCategorys[i];\r\n            // categoryId是字符串类型，category.id是数字类型\r\n            if (category.id.toString() === categoryIdOpened.toString()) {\r\n                category.opened = true;\r\n                this.forceUpdate();\r\n                break;\r\n            }\r\n            if (category.id.toString() === categoryIdClosed.toString()) {\r\n                category.opened = false;\r\n                this.forceUpdate();\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    // 立即预定按钮\r\n    handleOrderNowClick = (product) => {\r\n        this.setState({\r\n            orderInfoModalVisiable: true,\r\n            cakeOrderInfo: orderInfoInit()\r\n        }, () => {\r\n            /// 压入当前页面，拦截后退按键事件\r\n            window.history.pushState(null, '', document.URL);\r\n            window.onpopstate = () => {\r\n                this.handleOrderCakeInfoModalBack();\r\n            }\r\n            setTimeout(() => {\r\n                const { cakeOrderInfo } = this.state;\r\n                cakeOrderInfo.product = product;\r\n                product.fillingNumber = 0;\r\n                this.makeCakeConfig(cakeOrderInfo);\r\n                this.setState({\r\n                    cakeOrderInfo: cakeOrderInfo\r\n                });\r\n            }, 0);\r\n        })\r\n\r\n        document.documentElement.style.overflow = 'hidden';\r\n    }\r\n\r\n    handleOrderCakeInfoModalOk = () => {\r\n        const { cakeOrderInfo } = this.state;\r\n\r\n        // 测试数据\r\n        // {\r\n        //     cakeOrderInfo.product.name = \"变形金刚\"\r\n        //     cakeOrderInfo.product.description = \"汽车人，集合，出发，目的是地球\"\r\n        //     cakeOrderInfo.product.images = [\"/生日蛋糕/变形金刚-方图.jpg\"]\r\n        //     cakeOrderInfo.making.cream = {\r\n        //         \"id\": 2,\r\n        //         \"name\": \"动物奶油\",\r\n        //         \"description\": \"动物奶油\"\r\n        //     };\r\n        //     cakeOrderInfo.making.size = {\r\n        //         \"id\": 3,\r\n        //         \"name\": \"8寸\",\r\n        //         \"unit\": \"寸\",\r\n        //         \"number\": 8,\r\n        //         \"description\": \"直径20厘米 | 6-9人\",\r\n        //         \"plates\": 15\r\n        //     }\r\n        //     cakeOrderInfo.making.sizeExtra = undefined\r\n        //     cakeOrderInfo.making.price = 188\r\n        //     cakeOrderInfo.product.fillingNumber = 2\r\n        //     cakeOrderInfo.making.fillings = [\r\n        //         {\r\n        //             \"id\": 1,\r\n        //             \"name\": \"布蕾布丁\",\r\n        //             \"description\": \"布蕾布丁\",\r\n        //             \"image\": \"生日蛋糕/夹心/布蕾布丁.jpg\"\r\n        //         },\r\n        //         {\r\n        //             \"id\": 2,\r\n        //             \"name\": \"新鲜芒果\",\r\n        //             \"description\": \"新鲜芒果\",\r\n        //             \"image\": \"生日蛋糕/夹心/新鲜芒果.jpg\"\r\n        //         },\r\n        //     ]\r\n        //     cakeOrderInfo.making.candle = {\r\n        //         \"id\": 1,\r\n        //         \"name\": \"爱心蜡烛\",\r\n        //         \"description\": \"爱心蜡烛\",\r\n        //         \"image\": \"生日蛋糕/蜡烛/爱心蜡烛.jpg\"\r\n        //     }\r\n        //     cakeOrderInfo.making.candleExtra = undefined\r\n        //     cakeOrderInfo.making.kindling = {\r\n        //         \"id\": 2,\r\n        //         \"name\": \"火柴盒\",\r\n        //         \"description\": \"火柴盒\",\r\n        //         \"image\": \"生日蛋糕/蜡烛/火柴盒.jpg\"\r\n        //     }\r\n        //     cakeOrderInfo.making.hat = {\r\n        //         \"id\": 4,\r\n        //         \"name\": \"金卡磨砂圆锥帽\",\r\n        //         \"description\": \"金卡磨砂圆锥帽\",\r\n        //         \"image\": \"生日蛋糕/帽子/金卡磨砂圆锥帽.jpg\"\r\n        //     }\r\n        //     cakeOrderInfo.making.plates = 15\r\n        //     cakeOrderInfo.delivery.pickUpDay = moment().add(1, 'day')\r\n        //     cakeOrderInfo.delivery.pickUpTime = moment().add(1, 'day')\r\n        //     cakeOrderInfo.delivery.pickUpType = {\r\n        //         \"id\": 2,\r\n        //         \"name\": \"商家配送\",\r\n        //         \"description\": \"商家配送\"\r\n        //     }\r\n        //     cakeOrderInfo.delivery.shop = {\r\n        //         \"id\": 2,\r\n        //         \"name\": \"汤泉世纪店\",\r\n        //         \"description\": \"汤泉世纪店\"\r\n        //     }\r\n        // cakeOrderInfo.making.height = {\r\n        //     \"id\": 1,\r\n        //     \"name\": \"通用款\",\r\n        //     \"description\": \"通用款式，使用3层蛋糕胚，双层夹心\",\r\n        //     \"extraMoneys\": [\r\n        //         {\r\n        //             \"sizeId\": 1,\r\n        //             \"money\": 0\r\n        //         },\r\n        //         {\r\n        //             \"sizeId\": 2,\r\n        //             \"money\": 0\r\n        //         },\r\n        //         {\r\n        //             \"sizeId\": 3,\r\n        //             \"money\": 0\r\n        //         },\r\n        //         {\r\n        //             \"sizeId\": 4,\r\n        //             \"money\": 0\r\n        //         },\r\n        //         {\r\n        //             \"sizeId\": 5,\r\n        //             \"money\": 0\r\n        //         },\r\n        //         {\r\n        //             \"sizeId\": 6,\r\n        //             \"money\": 0\r\n        //         }\r\n        //     ]\r\n        // }\r\n        //     cakeOrderInfo.delivery.address = '钱隆首府2期9栋1301'\r\n        //     cakeOrderInfo.delivery.pickUpName = '王荣慧'\r\n        //     cakeOrderInfo.delivery.phoneNumber = '18698036807'\r\n        //     cakeOrderInfo.other.remarks = '多一顶帽子'\r\n        // }\r\n        // log\r\n        // {\r\n        //     console.log('名字：' + cakeOrderInfo.product?.name);\r\n        //     console.log('描述：' + cakeOrderInfo.product?.description);\r\n        //     console.log('图片：' + cakeOrderInfo.product?.images[0]);\r\n        //     console.log('奶油：' + cakeOrderInfo.making.cream?.name);\r\n        //     console.log('尺寸：' + cakeOrderInfo.making.size?.name);\r\n        //     console.log('高度：' + this.evalWith(cakeOrderInfo.making.height)?.name);        \r\n        //     console.log('组合：' + cakeOrderInfo.making?.sizeExtra);\r\n        //     console.log('价格：' + cakeOrderInfo.making?.price);\r\n        //     console.log('夹心数量：' + cakeOrderInfo.product?.fillingNumber);\r\n        //     console.log('夹心：' + cakeOrderInfo.making.fillings.map(item => this.evalWith(item).name));\r\n        //     console.log('蜡烛：' + this.evalWith(cakeOrderInfo.making.candle)?.name);\r\n        //     console.log('蜡烛Extra：' + cakeOrderInfo.making?.candleExtra);\r\n        //     console.log('火柴：' + this.evalWith(cakeOrderInfo.making.kindling)?.name);\r\n        //     console.log('帽子：' + this.evalWith(cakeOrderInfo.making.hat)?.name);\r\n        //     console.log('餐盘：' + cakeOrderInfo.making.plates);\r\n        //     console.log('日期：' + cakeOrderInfo.delivery.pickUpDay?.format('YYYY-MM-DD ddd'));\r\n        //     console.log('时间：' + cakeOrderInfo.delivery.pickUpTime?.format('a HH:mm'));\r\n        //     console.log('方式：' + this.evalWith(cakeOrderInfo.delivery.pickUpType)?.name);\r\n        //     console.log('门店：' + this.evalWith(cakeOrderInfo.delivery.shop)?.name);        \r\n        //     console.log('地址：' + cakeOrderInfo.delivery.address);\r\n        //     console.log('姓名：' + cakeOrderInfo.delivery.pickUpName);\r\n        //     console.log('手机：' + cakeOrderInfo.delivery.phoneNumber);\r\n        //     console.log('备注：' + cakeOrderInfo.other.remarks);\r\n        // }\r\n        // valid check\r\n        if (cakeOrderInfo.making.cream === undefined) {\r\n            message.warning('请选择奶油类型！');\r\n            return;\r\n        }\r\n        if (cakeOrderInfo.making.size === undefined) {\r\n            message.warning('请选择尺寸大小！');\r\n            return;\r\n        }\r\n        if (cakeOrderInfo.making.height === undefined) {\r\n            message.warning('请选择高度款式！');\r\n            return;\r\n        }\r\n        if (cakeOrderInfo.making.size.id === -500 &&\r\n            (cakeOrderInfo.making.sizeExtra === undefined ||\r\n                cakeOrderInfo.making.sizeExtra === '')) {\r\n            message.warning('请输入组合类型和组合尺寸！');\r\n            return;\r\n        }\r\n        if (cakeOrderInfo.making?.fillings?.length <= 0 &&\r\n            cakeOrderInfo.product?.fillingNumber > 0) {\r\n            message.warning('请选择夹心！');\r\n            return;\r\n        }\r\n        if (cakeOrderInfo.making.candle === undefined) {\r\n            message.warning('请选择蜡烛！');\r\n            return;\r\n        }\r\n        if (this.evalWith(cakeOrderInfo.making.candle)?.id === 3 &&\r\n            (cakeOrderInfo.making.candleExtra === undefined ||\r\n                cakeOrderInfo.making.candleExtra === '')) {\r\n            message.warning('请输入数字蜡烛的数字！');\r\n            return;\r\n        }\r\n        if (cakeOrderInfo.making.kindling === undefined) {\r\n            message.warning('请选择是否需要火柴！');\r\n            return;\r\n        }\r\n        if (cakeOrderInfo.making.hat === undefined) {\r\n            message.warning('请选择生日帽！');\r\n            return;\r\n        }\r\n        if (cakeOrderInfo.delivery.pickUpDay === undefined ||\r\n            cakeOrderInfo.delivery.pickUpDay === null) {\r\n            message.warning('请选择取货日期！');\r\n            return;\r\n        }\r\n        if (cakeOrderInfo.delivery.pickUpTime === undefined ||\r\n            cakeOrderInfo.delivery.pickUpTime === null) {\r\n            message.warning('请选择取货时间！');\r\n            return;\r\n        }\r\n        if (cakeOrderInfo.delivery.pickUpType === undefined) {\r\n            message.warning('请选择取货方式！');\r\n            return;\r\n        }\r\n        if (cakeOrderInfo.delivery.shop === undefined) {\r\n            message.warning('请选择预定门店！');\r\n            return;\r\n        }\r\n        if (this.evalWith(cakeOrderInfo.delivery.pickUpType)?.id === 2 &&\r\n            (cakeOrderInfo.delivery.address === undefined ||\r\n                cakeOrderInfo.delivery.address === null ||\r\n                cakeOrderInfo.delivery.address === '')) {\r\n            message.warning('请输入配送地址！');\r\n            return;\r\n        }\r\n        if (cakeOrderInfo.delivery.pickUpName === undefined ||\r\n            cakeOrderInfo.delivery.pickUpName === null ||\r\n            cakeOrderInfo.delivery.pickUpName === '') {\r\n            message.warning('请输入姓名！');\r\n            return;\r\n        }\r\n        if (!/^\\d{11}$/.test(cakeOrderInfo.delivery.phoneNumber)) {\r\n            message.warning('请输入正确的11位电话号码！');\r\n            return;\r\n        }\r\n\r\n        this.setState({\r\n            orderImageCapturing: true,\r\n            orderingTime: moment().format('YYYY.MM.DD ddd a HH:mm'),\r\n            image4QRCode: ''\r\n        }, () => {\r\n            /// 压入当前页面，拦截后退按键事件\r\n            window.history.pushState(null, '', document.URL);\r\n            window.onpopstate = () => {\r\n                this.handleOrderImageModalBack();\r\n            }\r\n            setTimeout(async () => {\r\n                /// 保存蛋糕订单，返回_id\r\n                let createResult = { _id: '' };\r\n                try {\r\n                    createResult = await createCakeOrder(\r\n                        cakeOrderInfo.product?.name,\r\n                        cakeOrderInfo.product?.description,\r\n                        cakeOrderInfo.product?.images,\r\n                        cakeOrderInfo.making.cream?.name,\r\n                        cakeOrderInfo.making.size?.name,\r\n                        cakeOrderInfo.making?.sizeExtra,\r\n                        cakeOrderInfo.making?.price,\r\n                        cakeOrderInfo.making.fillings.map(item => this.evalWith(item).name),\r\n                        this.evalWith(cakeOrderInfo.making.candle)?.name,\r\n                        cakeOrderInfo.making?.candleExtra,\r\n                        this.evalWith(cakeOrderInfo.making.kindling)?.name,\r\n                        this.evalWith(cakeOrderInfo.making.hat)?.name,\r\n                        cakeOrderInfo.making.plates,\r\n                        cakeOrderInfo.delivery.pickUpDay?.format('YYYY-MM-DD ddd'),\r\n                        cakeOrderInfo.delivery.pickUpTime?.format('a HH:mm'),\r\n                        this.evalWith(cakeOrderInfo.delivery.pickUpType)?.name,\r\n                        this.evalWith(cakeOrderInfo.delivery.shop)?.name,\r\n                        this.evalWith(cakeOrderInfo.making.height)?.name,\r\n                        cakeOrderInfo.delivery.address,\r\n                        cakeOrderInfo.delivery.pickUpName,\r\n                        cakeOrderInfo.delivery.phoneNumber,\r\n                        cakeOrderInfo.other.remarks);\r\n                    // console.log(createResult);\r\n                    if (!this.state.orderImageCapturing) return;\r\n                    if (createResult.errCode !== 0) {\r\n                        message.error('生成订购单不成功，请检查网络');\r\n                        this.setState({ orderImageCapturing: false });\r\n                        return;\r\n                    }\r\n                } catch {\r\n                    message.error('生成订购单不成功，请检查网络');\r\n                    this.setState({ orderImageCapturing: false });\r\n                    return;\r\n                }\r\n\r\n                let cakeOrderUrl = getWWWHost() + `/cakeOrder?_id=${createResult._id}`;\r\n                let qrOpts = {\r\n                    errorCorrectionLevel: 'L',\r\n                    type: 'image/jpeg',\r\n                    quality: 0.8,\r\n                    margin: 2,\r\n                    color: {\r\n                        dark: \"#000000ff\",\r\n                        light: \"#ffffffff\"\r\n                    }\r\n                }\r\n                let qrCode = await QRCode.toDataURL(cakeOrderUrl, qrOpts);\r\n                if (!this.state.orderImageCapturing) return;\r\n                this.setState({ image4QRCode: qrCode },\r\n                    async () => {\r\n                        let canvas = await html2Canvas(this._theDiv4Capture);\r\n                        if (!this.state.orderImageCapturing) return;\r\n                        let imageSrc = canvas.toDataURL('image/png');\r\n                        this.setState({\r\n                            orderImageSrc: imageSrc,\r\n                            orderImageCapturing: false,\r\n                            orderImageModalVisiable: true\r\n                        });\r\n                        document.documentElement.style.overflow = 'hidden';\r\n\r\n                        /// 模板通知指定人员有人生成订购单了，避免漏单\r\n                        // let sendResult = await templateSendToSomePeople(\r\n                        //     createResult._id,\r\n                        //     this.evalWith(cakeOrderInfo.delivery.shop)?.name,\r\n                        //     this.state.orderingTime,\r\n                        //     `《${cakeOrderInfo.product?.name}》`,\r\n                        //     `${cakeOrderInfo.delivery.pickUpName}（${cakeOrderInfo.delivery.phoneNumber}）`,\r\n                        //     cakeOrderInfo.delivery.pickUpDay?.format('YYYY-MM-DD ddd') +\r\n                        //     cakeOrderInfo.delivery.pickUpTime?.format('a HH:mm'));\r\n                        // message.info(JSON.stringify(sendResult));\r\n                    });\r\n            }, 0);\r\n        });\r\n\r\n        document.documentElement.style.overflow = 'visible';\r\n    }\r\n\r\n    handleOrderCakeInfoModalCancel = () => {\r\n        // console.log('handleOrderCakeInfoModalCancel begin');\r\n\r\n        this.setState({ orderInfoModalVisiable: false });\r\n        document.documentElement.style.overflow = 'visible';\r\n\r\n        /// 后退且不再拦截后退按键事件\r\n        window.history.back();\r\n        window.onpopstate = null;\r\n    }\r\n\r\n    handleOrderCakeInfoModalBack = () => {\r\n        // console.log('handleOrderCakeInfoModalBack begin');\r\n\r\n        this.setState({ orderInfoModalVisiable: false });\r\n        document.documentElement.style.overflow = 'visible';\r\n        /// 不再拦截后退按键事件\r\n        window.onpopstate = null;\r\n    }\r\n\r\n    handleOrderImageModalCancel = () => {\r\n        // console.log('handleOrderImageModalCancel begin');\r\n\r\n        this.setState({ orderImageModalVisiable: false });\r\n        document.documentElement.style.overflow = 'visible';\r\n        /// 后退且不再拦截后退按键事件\r\n        this._programBack = true;\r\n        window.history.back();\r\n        window.onpopstate = () => {\r\n            if (this._programBack) {\r\n                this._programBack = false;\r\n                return;\r\n            }\r\n\r\n            this.handleOrderCakeInfoModalBack();\r\n        };\r\n    }\r\n\r\n    handleOrderImageModalBack = () => {\r\n        console.log('handleOrderImageModalBack begin');\r\n\r\n        this.setState({ orderImageModalVisiable: false, orderImageCapturing: false });\r\n        document.documentElement.style.overflow = 'visible';\r\n        /// 不再拦截后退按键事件\r\n        window.onpopstate = () => {\r\n            this.handleOrderCakeInfoModalBack();\r\n        };\r\n    }\r\n\r\n    handleCreamChange = e => {\r\n        const { cakeOrderInfo } = this.state;\r\n        cakeOrderInfo.making.cream = JSON.parse(e.target.value);\r\n        cakeOrderInfo.making.size = undefined;\r\n        cakeOrderInfo.making.price = '--';\r\n        // cakeOrderInfo.making.height = JSON.stringify(this._cakeHeights[0]);\r\n        cakeOrderInfo.making.height = undefined;\r\n        this.updateSizeOptions(cakeOrderInfo);\r\n        this.setState({ cakeOrderInfo: cakeOrderInfo });\r\n    }\r\n\r\n    handleSizeChange = (value) => {\r\n        const { cakeOrderInfo } = this.state;\r\n        cakeOrderInfo.making.size = JSON.parse(value);\r\n\r\n        this.updatePrice(cakeOrderInfo);\r\n        this.updatePlate(cakeOrderInfo);\r\n\r\n        this.setState({ cakeOrderInfo: cakeOrderInfo });\r\n    }\r\n\r\n    handleSizeExtraChange = (e) => {\r\n        const { cakeOrderInfo } = this.state;\r\n        cakeOrderInfo.making.sizeExtra = e.target.value;\r\n        this.setState({ cakeOrderInfo: cakeOrderInfo });\r\n    }\r\n\r\n    handleSizeSelectDropdownVisibleChange = (open) => {\r\n        if (open) {\r\n            const { cakeOrderInfo } = this.state;\r\n            if (cakeOrderInfo.making.cream === undefined) {\r\n                message.warning('请先选择奶油类型~');\r\n            }\r\n        }\r\n    }\r\n\r\n    handleHeightChange = (value) => {\r\n        // console.log('handleHeightChange value = ' + value);\r\n        const { cakeOrderInfo } = this.state;\r\n\r\n        cakeOrderInfo.making.height = value;\r\n\r\n        this.updateFillingNumber(cakeOrderInfo);\r\n        this.updatePrice(cakeOrderInfo);\r\n        /// 复位夹心选择\r\n        cakeOrderInfo.making.fillings = [];\r\n\r\n        this.setState({ cakeOrderInfo: cakeOrderInfo });\r\n\r\n        // let heightObj = JSON.parse(value);\r\n        // message.info(heightObj.description);\r\n    }\r\n\r\n    handleCakeFillingChange = (value, fillingNumber) => {\r\n        // console.log('value = ' + value);\r\n        if (value.length > fillingNumber) {\r\n            message.warning(`只能选择 ${fillingNumber} 种夹心，请反选不需要的夹心后，重新选择！`);\r\n            return;\r\n        }\r\n\r\n        const { cakeOrderInfo } = this.state;\r\n        cakeOrderInfo.making.fillings = value;\r\n        this.setState({ cakeOrderInfo: cakeOrderInfo });\r\n    }\r\n\r\n    handleCandleChange = (e) => {\r\n        const { cakeOrderInfo } = this.state;\r\n        cakeOrderInfo.making.candle = e.target.value;\r\n        this.updateCandleOptions(cakeOrderInfo);\r\n        this.setState({ cakeOrderInfo: cakeOrderInfo });\r\n    }\r\n\r\n    handleKindlingChange = (e) => {\r\n        const { cakeOrderInfo } = this.state;\r\n        cakeOrderInfo.making.kindling = e.target.value;\r\n        this.setState({ cakeOrderInfo: cakeOrderInfo });\r\n    }\r\n\r\n    handleHatChange = (e) => {\r\n        const { cakeOrderInfo } = this.state;\r\n        cakeOrderInfo.making.hat = e.target.value;\r\n        this.setState({ cakeOrderInfo: cakeOrderInfo });\r\n    }\r\n\r\n    handleCandleExtraChange = (e) => {\r\n        const { cakeOrderInfo } = this.state;\r\n        cakeOrderInfo.making.candleExtra = e.target.value;\r\n        this.setState({ cakeOrderInfo: cakeOrderInfo });\r\n    }\r\n\r\n    handlePickUpDayChange = (data) => {\r\n        console.log(data);\r\n        const { cakeOrderInfo } = this.state;\r\n        cakeOrderInfo.delivery.pickUpDay = data;\r\n        this.setState({ cakeOrderInfo: cakeOrderInfo });\r\n    }\r\n\r\n    handlePickUpDayOnFocus = () => {\r\n        const { cakeOrderInfo } = this.state;\r\n        cakeOrderInfo.delivery.pickUpDayPopupOpen = true;\r\n        this.setState({ cakeOrderInfo: cakeOrderInfo });\r\n    }\r\n\r\n    handlePickUpDayOnBlur = () => {\r\n        const { cakeOrderInfo } = this.state;\r\n        cakeOrderInfo.delivery.pickUpDayPopupOpen = false;\r\n        this.setState({ cakeOrderInfo: cakeOrderInfo });\r\n    }\r\n\r\n    handlePickUpTimeChange = (data) => {\r\n        const { cakeOrderInfo } = this.state;\r\n        cakeOrderInfo.delivery.pickUpTime = data;\r\n        this.setState({ cakeOrderInfo: cakeOrderInfo });\r\n    }\r\n\r\n    handlePickUpTimeOnFocus = () => {\r\n        const { cakeOrderInfo } = this.state;\r\n        cakeOrderInfo.delivery.pickUpTimePopupOpen = true;\r\n        this.setState({ cakeOrderInfo: cakeOrderInfo });\r\n    }\r\n\r\n    handlePickUpTimeOnBlur = () => {\r\n        const { cakeOrderInfo } = this.state;\r\n        cakeOrderInfo.delivery.pickUpTimePopupOpen = false;\r\n        this.setState({ cakeOrderInfo: cakeOrderInfo });\r\n    }\r\n\r\n    handlePickUpTimeOnOk = () => {\r\n        const { cakeOrderInfo } = this.state;\r\n        cakeOrderInfo.delivery.pickUpTimePopupOpen = false;\r\n        this.setState({ cakeOrderInfo: cakeOrderInfo }, () => {\r\n            setTimeout(() => {\r\n                this._datePicker4PickUpTime.blur();\r\n            }, 300);\r\n        });\r\n    }\r\n\r\n    handlePickUpTypeChange = (e) => {\r\n        const { cakeOrderInfo } = this.state;\r\n        cakeOrderInfo.delivery.pickUpType = e.target.value;\r\n        this.setState({ cakeOrderInfo: cakeOrderInfo });\r\n    }\r\n\r\n    handleShopChange = (value) => {\r\n        const { cakeOrderInfo } = this.state;\r\n        cakeOrderInfo.delivery.shop = value;\r\n        this.setState({ cakeOrderInfo: cakeOrderInfo });\r\n    }\r\n\r\n    handleAddressChange = (e) => {\r\n        const { cakeOrderInfo } = this.state;\r\n        cakeOrderInfo.delivery.address = e.target.value;\r\n        this.setState({ cakeOrderInfo: cakeOrderInfo });\r\n    }\r\n\r\n    handlePickUpNameChange = (e) => {\r\n        const { cakeOrderInfo } = this.state;\r\n        cakeOrderInfo.delivery.pickUpName = e.target.value;\r\n        this.setState({ cakeOrderInfo: cakeOrderInfo });\r\n    }\r\n\r\n    handlePhoneNumberChange = (e) => {\r\n        const { cakeOrderInfo } = this.state;\r\n        cakeOrderInfo.delivery.phoneNumber = e.target.value;\r\n        this.setState({ cakeOrderInfo: cakeOrderInfo });\r\n    }\r\n\r\n    handleRemarksChange = (e) => {\r\n        const { cakeOrderInfo } = this.state;\r\n        cakeOrderInfo.other.remarks = e.target.value;\r\n        this.setState({ cakeOrderInfo: cakeOrderInfo });\r\n    }\r\n\r\n    makeCakeConfig = (cakeOrderInfo) => {\r\n        this.updateCreamOptions(cakeOrderInfo);\r\n        this.updateHeightOptions();\r\n        this.updateFillingOptions();\r\n        this.updateCandleOptions(cakeOrderInfo);\r\n        this.updateKindlingOptions();\r\n        this.updateHatOptions();\r\n        this.updatePickUpTypesOptions();\r\n        this.updateShopOptions();\r\n    }\r\n\r\n    updateFillingNumber = (cakeOrderInfo) => {\r\n        let heightObj = JSON.parse(cakeOrderInfo.making.height);\r\n        if (cakeOrderInfo.product.fillingRequired) {\r\n            cakeOrderInfo.product.fillingNumber = heightObj.fillingNumber;\r\n        }\r\n    }\r\n\r\n    updatePrice = (cakeOrderInfo) => {\r\n        // 同步下price\r\n        if (cakeOrderInfo.making.size) {\r\n            cakeOrderInfo.making.price = '--';\r\n            for (let i = 0; i < cakeOrderInfo.product?.specifications.length; ++i) {\r\n                let specification = cakeOrderInfo.product?.specifications[i];\r\n                if (specification.creamId === cakeOrderInfo.making.cream.id &&\r\n                    specification.sizeId === cakeOrderInfo.making.size.id) {\r\n                    cakeOrderInfo.making.price = specification.price;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (cakeOrderInfo.making.height && cakeOrderInfo.making.price !== '--') {\r\n                let money = 0;\r\n                let heightObj = JSON.parse(cakeOrderInfo.making.height);\r\n                for (let i = 0; i < heightObj.extraMoneys.length; ++i) {\r\n                    let extraMoney = heightObj.extraMoneys[i];\r\n                    if (extraMoney.sizeId === cakeOrderInfo.making.size.id) {\r\n                        money = extraMoney.money;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                cakeOrderInfo.making.price += money;\r\n            }\r\n        }\r\n    }\r\n\r\n    updatePlate = (cakeOrderInfo) => {\r\n        cakeOrderInfo.making.plates = '--';\r\n        for (let i = 0; i < this._cakeSizes.length; ++i) {\r\n            let size = this._cakeSizes[i];\r\n            if (size.id === cakeOrderInfo.making.size.id) {\r\n                cakeOrderInfo.making.plates = size.plates;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    updateCreamOptions = (cakeOrderInfo) => {\r\n        this._creamOptions = [];\r\n        if (this._cakeCreams) {\r\n            for (let i = 0; i < this._cakeCreams.length; ++i) {\r\n                let cakeCream = this._cakeCreams[i];\r\n                if (cakeOrderInfo.product) {\r\n                    for (let j = 0; j < cakeOrderInfo.product?.specifications?.length; ++j) {\r\n                        let specification = cakeOrderInfo.product?.specifications[j];\r\n                        if (specification.creamId === cakeCream.id) {\r\n                            this._creamOptions.push({ label: cakeCream.name, value: JSON.stringify(cakeCream) });\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        // console.log('this._creamOptions = ' + JSON.stringify(this._creamOptions));\r\n    }\r\n\r\n    updateSizeOptions = (cakeOrderInfo) => {\r\n        this._sizeOptions = [];\r\n        if (this._cakeSizes) {\r\n            for (let i = 0; i < this._cakeSizes.length; ++i) {\r\n                let cakeSize = this._cakeSizes[i];\r\n                if (cakeOrderInfo.product) {\r\n                    for (let j = 0; j < cakeOrderInfo.product?.specifications.length; ++j) {\r\n                        let specification = cakeOrderInfo.product?.specifications[j];\r\n                        if (specification.creamId === cakeOrderInfo.making.cream.id &&\r\n                            specification.sizeId === cakeSize.id) {\r\n                            this._sizeOptions.push({ label: cakeSize.name, value: JSON.stringify(cakeSize) });\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (this._sizeOptions.length > 1) {\r\n            this._sizeOptions.push({ label: '组合', value: JSON.stringify({ \"id\": -500, \"name\": '组合' }) });\r\n        }\r\n        // console.log('this._sizeOptions = ' + JSON.stringify(this._sizeOptions));\r\n    }\r\n\r\n    updateHeightOptions = () => {\r\n        this._heightOptions = [];\r\n        if (this._cakeHeights) {\r\n            for (let i = 0; i < this._cakeHeights.length; ++i) {\r\n                let height = this._cakeHeights[i];\r\n                this._heightOptions.push({\r\n                    label: height.name,\r\n                    value: JSON.stringify(height)\r\n                })\r\n            }\r\n        }\r\n        // console.log('this._heightOptions = ' + JSON.stringify(this._heightOptions));\r\n    }\r\n\r\n    updateFillingOptions = () => {\r\n        this._fillingOptions = [];\r\n        if (this._cakeFillings) {\r\n            for (let i = 0; i < this._cakeFillings.length; ++i) {\r\n                let filling = this._cakeFillings[i];\r\n                this._fillingOptions.push({\r\n                    label:\r\n                        <div style={{ marginBottom: 6 }}>\r\n                            <Image style={{ width: 54, height: 54, borderRadius: 27, border: '1px dotted #008B8B' }} preview={false} src={filling.image} />\r\n                            <div style={{ width: 54, textAlign: 'center' }}>{filling.name}</div>\r\n                        </div>,\r\n                    value: JSON.stringify(filling)\r\n                });\r\n            }\r\n        }\r\n        // console.log('this._fillingOptions = ' + JSON.stringify(this._fillingOptions));\r\n    }\r\n\r\n    updateCandleOptions = (cakeOrderInfo) => {\r\n        this._candleOptions = [];\r\n        if (this._cakeCandles) {\r\n            for (let i = 0; i < this._cakeCandles.length; ++i) {\r\n                let candle = this._cakeCandles[i];\r\n                this._candleOptions.push({\r\n                    label:\r\n                        <div style={{ marginBottom: 6 }}>\r\n                            <Image style={{ width: 64, height: 64, borderRadius: 10, border: '1px dotted #008B8B' }} preview={false} src={candle.image} />\r\n                            <div style={{ width: 64, textAlign: 'center' }}>\r\n                                {candle.name}\r\n                                {\r\n                                    candle.id === 3 ?\r\n                                        <Input style={{ width: 64, height: 30 }}\r\n                                            disabled={this.evalWith(cakeOrderInfo.making.candle)?.id !== 3}\r\n                                            placeholder='数字'\r\n                                            prefix={<EditOutlined />}\r\n                                            value={cakeOrderInfo.making.candleExtra}\r\n                                            onChange={this.handleCandleExtraChange} />\r\n                                        : <div></div>\r\n                                }\r\n                            </div>\r\n                        </div>,\r\n                    value: JSON.stringify(candle)\r\n                });\r\n            }\r\n        }\r\n        // console.log('this._candleOptions = ' + JSON.stringify(this._candleOptions));\r\n    }\r\n\r\n    updateKindlingOptions = () => {\r\n        this._kindlingOptions = [];\r\n        if (this._cakeKindlings) {\r\n            for (let i = 0; i < this._cakeKindlings.length; ++i) {\r\n                let kindling = this._cakeKindlings[i];\r\n                this._kindlingOptions.push({\r\n                    label:\r\n                        <div style={{ marginBottom: 6 }}>\r\n                            <Image style={{ width: 64, height: 64, borderRadius: 10, border: '1px dotted #008B8B' }} preview={false} src={kindling.image} />\r\n                            <div style={{ width: 64, textAlign: 'center' }}>{kindling.name}</div>\r\n                        </div>,\r\n                    value: JSON.stringify(kindling)\r\n                })\r\n            }\r\n        }\r\n        // console.log('this._kindlingOptions = ' + JSON.stringify(this._kindlingOptions));\r\n    }\r\n\r\n    updateHatOptions = () => {\r\n        this._hatOptions = [];\r\n        if (this._cakeHats) {\r\n            for (let i = 0; i < this._cakeHats.length; ++i) {\r\n                let hat = this._cakeHats[i];\r\n                this._hatOptions.push({\r\n                    label:\r\n                        <div style={{ marginBottom: 6 }}>\r\n                            <Image style={{ width: 64, height: 64, borderRadius: 10, border: '1px dotted #008B8B' }} preview={false} src={hat.image} />\r\n                            <div style={{ width: 64, textAlign: 'center' }}>{hat.name}</div>\r\n                        </div>,\r\n                    value: JSON.stringify(hat)\r\n                })\r\n            }\r\n        }\r\n        // console.log('this._hatOptions = ' + JSON.stringify(this._hatOptions));\r\n    }\r\n\r\n    updatePickUpTypesOptions = () => {\r\n        this._pickUpTypesOptions = [];\r\n        if (this._cakePickUpTypes) {\r\n            for (let i = 0; i < this._cakePickUpTypes.length; ++i) {\r\n                let pickUpType = this._cakePickUpTypes[i];\r\n                this._pickUpTypesOptions.push({\r\n                    label: pickUpType.name,\r\n                    value: JSON.stringify(pickUpType)\r\n                })\r\n            }\r\n        }\r\n        // console.log('this._pickUpTypesOptions = ' + JSON.stringify(this._pickUpTypesOptions));\r\n    }\r\n\r\n    updateShopOptions = () => {\r\n        this._shopOptions = [];\r\n        if (this._cakeShops) {\r\n            for (let i = 0; i < this._cakeShops.length; ++i) {\r\n                let shop = this._cakeShops[i];\r\n                this._shopOptions.push({\r\n                    label: shop.name,\r\n                    value: JSON.stringify(shop)\r\n                })\r\n            }\r\n        }\r\n        // console.log('this._shopOptions = ' + JSON.stringify(this._shopOptions));\r\n    }\r\n\r\n    makeRenderItemFunc4Product = () => {\r\n        this._renderItemFunc4Product = (product, index) => {\r\n            // console.log('product=' + JSON.stringify(product))\r\n            let theMinimumSize = {};\r\n            let theMinimumPrice = 0;\r\n            if (product?.specifications.length > 0) {\r\n                let firstSpec = product?.specifications[0];\r\n                theMinimumPrice = firstSpec.price;\r\n                for (let i = 0; i < this._cakeSizes.length; ++i) {\r\n                    let size = this._cakeSizes[i];\r\n                    if (size.id === firstSpec.sizeId) {\r\n                        theMinimumSize = size;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            return (\r\n                <List.Item>\r\n                    <div key={product?.name} style={{ background: '#E8EBE4', borderRadius: 8 }} onClick={() => {\r\n                        this.handleOrderNowClick(product);\r\n                    }}>\r\n                        {\r\n                            product?.images?.[0].type === 1 ?\r\n                                <div style={{ position: 'relative' }}>\r\n                                    <img style={{\r\n                                        width: '100%', border: '1px dotted #008B8B', borderRadius: 8\r\n                                    }} src={product?.images?.[0].thumbnail} alt='' />\r\n                                    <img style={{\r\n                                        width: 30, height: 30,\r\n                                        position: 'absolute',\r\n                                        left: 4, bottom: 4,\r\n                                        zIndex: 5\r\n                                    }} src=\"/生日蛋糕/播放器/红色圆形播放按钮.png\" alt='' />\r\n                                </div> :\r\n                                <Image style={{ width: '100%', border: '1px dotted #008B8B', borderRadius: 8 }}\r\n                                    preview={false} src={`${product?.images?.[0]}`} />\r\n                        }\r\n\r\n                        <div style={{ paddingLeft: 6, paddingRight: 4, paddingTop: 4, paddingBottom: 4 }}>\r\n                            <div style={{ fontSize: 16, fontWeight: 'bold' }}>\r\n                                {`${product?.name}`}\r\n                            </div>\r\n                            <div style={{ fontSize: 13 }}>\r\n                                {product?.description}\r\n                            </div>\r\n                            <div style={{ fontSize: 12 }}>\r\n                                {`分类：${product?.category?.id}-${product?.category?.name}`}\r\n                            </div>\r\n                            <div style={{ fontSize: 14 }}>\r\n                                <InfoCircleOutlined style={{ color: '#008B8B' }} />\r\n                                <span>{` ${theMinimumSize.number}${theMinimumSize.unit} `}</span>\r\n                                <span>起</span>\r\n\r\n                                <PayCircleOutlined style={{ color: '#008B8B', marginLeft: 8 }} />\r\n                                <span>{` ${theMinimumPrice}元 `}</span>\r\n                                <span>起</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </List.Item>\r\n            )\r\n        }\r\n    }\r\n\r\n    evalWith = (obj) => {\r\n        // console.log('evalWith obj = ' + obj);\r\n        // 有时候转义对象后无法获取属性，eval处理一下\r\n        // if (obj === undefined ||\r\n        //     obj === null ||\r\n        //     Object.keys(obj) !== null) return obj;\r\n        return eval(\"(\" + obj + \")\");\r\n    }\r\n    render() {\r\n        const {\r\n            searchName,\r\n            cake4Search,\r\n            cakeRecommend,\r\n            allCakeInfosLoading,\r\n            cakeCategorys,\r\n            cakeOrderInfo,\r\n            orderInfoModalVisiable,\r\n            orderingTime,\r\n            orderImageModalVisiable,\r\n            orderImageSrc,\r\n            orderImageCapturing,\r\n            imageCropperModalVisiable,\r\n            imageBeforeCrop,\r\n            localImgDataLoading,\r\n            image4QRCode\r\n        } = this.state;\r\n\r\n        return (\r\n            <div>\r\n                {\r\n                    // 私人订制，图片裁剪\r\n                    imageCropperModalVisiable ? (\r\n                        <div style={{\r\n                            opacity: 1, background: 'white', position: 'fixed',\r\n                            zIndex: '105', width: 'calc(100%)', height: 'calc(100%)',\r\n                            overflowY: 'hidden', overflowX: 'hidden', textAlign: 'center'\r\n                        }}>\r\n                            <Spin spinning={localImgDataLoading}\r\n                                size='large'\r\n                                style={{ marginTop: 160 }}\r\n                                tip='正在获取图片...' />\r\n\r\n                            <Cropper\r\n                                src={imageBeforeCrop}\r\n                                onInitialized={(cropper) => {\r\n                                    this._imageCropper = cropper;\r\n                                }}\r\n                                style={{ height: '100%', width: \"100%\", zIndex: '80' }}\r\n                                aspectRatio={1}\r\n                                guides={true}\r\n                                autoCropArea={0.85}\r\n                            />\r\n\r\n                            {\r\n                                !localImgDataLoading ? (\r\n                                    <div>\r\n                                        <div style={{\r\n                                            width: 'calc(100%)', height: 64,\r\n                                            position: 'fixed', top: 0, textAlign: 'center', zIndex: '100'\r\n                                        }}>\r\n                                            <Space size='large' style={{ marginTop: 16, marginBottom: 16 }}>\r\n                                                <RotateLeftOutlined style={{ color: 'white', fontSize: 24 }} onClick={() => {\r\n                                                    this._imageCropper.rotate(-90);\r\n                                                }} />\r\n                                                <RotateRightOutlined style={{ color: 'white', fontSize: 24 }} onClick={() => {\r\n                                                    this._imageCropper.rotate(90);\r\n                                                }} />\r\n                                            </Space>\r\n                                        </div>\r\n\r\n                                        <div style={{\r\n                                            width: 'calc(100%)', height: 64,\r\n                                            position: 'fixed', bottom: 0, textAlign: 'center', zIndex: '100'\r\n                                        }}>\r\n                                            <Space style={{ marginTop: 16, marginBottom: 16 }}>\r\n                                                <Button type='default' onClick={() => {\r\n                                                    this.setState({ imageCropperModalVisiable: false });\r\n                                                }}>取消</Button>\r\n                                                <Button type='primary' danger onClick={() => {\r\n                                                    let dataUrlAfterCroped = this._imageCropper.getCroppedCanvas().toDataURL();\r\n                                                    let customizedProduct = this._private;\r\n                                                    customizedProduct.images = [dataUrlAfterCroped];\r\n                                                    this.setState({ imageCropperModalVisiable: false }, () => {\r\n                                                        setTimeout(() => {\r\n                                                            this.handleOrderNowClick(customizedProduct);\r\n                                                        }, 0);\r\n                                                    });\r\n                                                }}>确定裁剪</Button>\r\n                                            </Space>\r\n                                        </div>\r\n                                    </div>\r\n                                ) : (<div></div>)\r\n                            }\r\n                        </div>\r\n                    ) : (<div></div>)\r\n                }\r\n\r\n                {\r\n                    // 订单信息\r\n                    orderInfoModalVisiable ? (\r\n                        <div style={{\r\n                            opacity: 0.99, background: 'white', position: 'fixed',\r\n                            zIndex: '100', width: 'calc(100%)', height: 'calc(100%)',\r\n                            overflowY: 'auto', overflowX: 'hidden'\r\n                        }}>\r\n                            <div style={{ textAlign: 'center', fontSize: 14, marginTop: 8, fontWeight: 'bold' }}>\r\n                                {`《${cakeOrderInfo.product?.name}》`}\r\n                            </div>\r\n                            <div style={{ textAlign: 'center', fontSize: 14, paddingLeft: 8, paddingRight: 8 }}>\r\n                                {cakeOrderInfo.product?.description}\r\n                            </div>\r\n                            <div style={{ textAlign: 'center', width: '100%' }}>\r\n                                <Carousel effect='scrollx' dotPosition='top'>\r\n                                    {\r\n                                        cakeOrderInfo.product?.images?.map((i) => {\r\n                                            // console.log('i = ' + i.type);\r\n                                            return (\r\n                                                <div key={cakeOrderInfo.product?.images.indexOf(i)}>\r\n                                                    {\r\n                                                        i.type === 1 ?\r\n                                                            <div style={{ position: 'relative' }}>\r\n                                                                <img style={{\r\n                                                                    width: '100%', height: '100%',\r\n                                                                    border: '1px dotted #008B8B',\r\n                                                                    borderRadius: 8\r\n                                                                }} src={i.thumbnail} alt='' />\r\n                                                                <video\r\n                                                                    style={{\r\n                                                                        width: '100%', height: '100%', position: 'absolute',\r\n                                                                        top: 0, left: 0, right: 0, bottom: 0, margin: 'auto',\r\n                                                                        zIndex: 1, objectFit: 'cover'\r\n                                                                    }}\r\n                                                                    id=\"video-player\"\r\n                                                                    controls\r\n                                                                    src={i.source}\r\n                                                                />\r\n                                                            </div> :\r\n                                                            <Image preview={{ mask: <div>点击查看大图</div> }}\r\n                                                                style={{ width: '100%', border: '1px dotted #008B8B', borderRadius: 8 }}\r\n                                                                src={i} />\r\n                                                    }\r\n                                                </div>\r\n\r\n                                            );\r\n                                        })\r\n                                    }\r\n                                </Carousel>\r\n                            </div>\r\n                            <QueueAnim type={['bottom', 'top']}>\r\n                                <div key='a' style={{ textAlign: 'center', width: '100%', marginBottom: 18 }}>\r\n                                    <Divider style={{ marginTop: 10, marginBottom: 0, fontSize: 12 }}>规格</Divider>\r\n                                    {\r\n                                        this._cakeCreams.map(cream => {\r\n                                            let creamExist = false;\r\n                                            for (let i = 0; i < cakeOrderInfo.product?.specifications?.length; ++i) {\r\n                                                let specification = cakeOrderInfo.product?.specifications[i];\r\n                                                if (specification.creamId === cream.id) {\r\n                                                    creamExist = true;\r\n                                                    break;\r\n                                                }\r\n                                            }\r\n                                            return (\r\n                                                <div key={cream.id} >\r\n                                                    {creamExist ?\r\n                                                        <div style={{ display: 'inline-block', marginLeft: 25, marginRight: 25 }}>\r\n                                                            <div style={{ fontWeight: 'bold' }}>{cream.name}</div>\r\n                                                            {\r\n                                                                this._cakeSizes.map(size => {\r\n                                                                    let price = -1;\r\n                                                                    for (let i = 0; i < cakeOrderInfo.product?.specifications.length; ++i) {\r\n                                                                        let specification = cakeOrderInfo.product?.specifications[i];\r\n                                                                        if (specification.creamId === cream.id &&\r\n                                                                            specification.sizeId === size.id) {\r\n                                                                            price = specification.price;\r\n                                                                            break;\r\n                                                                        }\r\n                                                                    }\r\n                                                                    return (\r\n                                                                        <div key={size.id}>\r\n                                                                            {\r\n                                                                                price !== -1 ?\r\n                                                                                    <div>\r\n                                                                                        <span style={{ color: '#008B8B' }}>{size.name}</span>\r\n                                                                                        <span style={{ color: 'gray', fontSize: 12 }}>{`${size.description} `}</span>\r\n                                                                                        <span style={{ color: '#008B8B' }}>{`${price}元`}</span>\r\n                                                                                        <span></span>\r\n                                                                                    </div> : <div></div>\r\n                                                                            }\r\n                                                                        </div>\r\n                                                                    )\r\n                                                                })\r\n                                                            }\r\n                                                            {\r\n                                                                this._cakeSizes.length >= 2 ? (\r\n                                                                    <div style={{ fontSize: 10, fontWeight: 'bold', color: 'gray' }}>\r\n                                                                        <div>注1：加高价格比正常高度，增加10~50元不等</div>\r\n                                                                        <div>注2：组合蛋糕，价格为对应尺寸蛋糕价格之和</div>\r\n                                                                    </div>) : (<div></div>)\r\n                                                            }\r\n                                                        </div> : <div></div>}\r\n                                                </div>\r\n                                            )\r\n                                        })\r\n                                    }\r\n                                </div>\r\n                                <div key='b'>\r\n                                    <Divider style={{ marginTop: 10, marginBottom: 0, fontSize: 12 }}>制作</Divider>\r\n                                    <div style={{ marginTop: 8, marginBottom: 8, marginLeft: 12, marginRight: 12, textAlign: 'center' }}>\r\n                                        <Input.Group style={{ marginBottom: 20 }}>\r\n                                            <span style={{ fontWeight: 'bold' }}>奶油：</span>\r\n                                            <Radio.Group\r\n                                                size='large'\r\n                                                options={this._creamOptions}\r\n                                                onChange={this.handleCreamChange}\r\n                                                value={JSON.stringify(cakeOrderInfo.making.cream)}\r\n                                                optionType='default'\r\n                                            />\r\n                                            {\r\n                                                cakeOrderInfo.making.cream === undefined ? (\r\n                                                    <div style={{ color: 'red' }}>“奶油”是必填项</div>\r\n                                                ) : (<div></div>)\r\n                                            }\r\n                                        </Input.Group>\r\n                                    </div>\r\n                                    <div style={{ marginTop: 8, marginBottom: 18, textAlign: 'center' }}>\r\n                                        <span style={{ fontWeight: 'bold' }}>尺寸：</span>\r\n                                        <Select\r\n                                            disabled={!cakeOrderInfo.making.cream}\r\n                                            style={{ width: 120, marginRight: 8 }}\r\n                                            onChange={this.handleSizeChange}\r\n                                            onDropdownVisibleChange={this.handleSizeSelectDropdownVisibleChange}\r\n                                            options={this._sizeOptions}\r\n                                            value={JSON.stringify(cakeOrderInfo.making.size)} />\r\n                                        {\r\n                                            cakeOrderInfo.making.size?.id === -500 ? (\r\n                                                <span>\r\n                                                    <Input placeholder='几寸+几寸'\r\n                                                        prefix={<EditOutlined />}\r\n                                                        style={{ width: 180 }}\r\n                                                        value={cakeOrderInfo.making.sizeExtra}\r\n                                                        onChange={this.handleSizeExtraChange} />\r\n                                                </span>) : (<div></div>)\r\n                                        }\r\n                                        {\r\n                                            cakeOrderInfo.making.size === undefined ||\r\n                                                (cakeOrderInfo.making.size.id === -500 &&\r\n                                                    (cakeOrderInfo.making.sizeExtra === undefined ||\r\n                                                        cakeOrderInfo.making.sizeExtra === '')) ? (\r\n                                                <div style={{ color: 'red' }}>“尺寸”是必填项</div>\r\n                                            ) : (<span></span>)\r\n                                        }\r\n                                    </div>\r\n                                    <div style={{ marginTop: 8, marginBottom: 18, textAlign: 'center' }}>\r\n                                        <span style={{ fontWeight: 'bold' }}>高度：</span>\r\n                                        <Select\r\n                                            disabled={!cakeOrderInfo.making.cream || !cakeOrderInfo.making.size}\r\n                                            style={{ width: 120 }}\r\n                                            onChange={this.handleHeightChange}\r\n                                            value={cakeOrderInfo.making.height}\r\n                                            options={this._heightOptions}>\r\n                                        </Select>\r\n                                        <div style={{ fontSize: 14, color: 'gray' }}>{this._cakeHeightsDescription}</div>\r\n                                        {\r\n                                            this.evalWith(cakeOrderInfo.making.height)?.id === undefined ||\r\n                                                this.evalWith(cakeOrderInfo.making.height)?.id === null ? (\r\n                                                <div style={{ color: 'red' }}>“高度”是必填项</div>\r\n                                            ) : (<div></div>)\r\n                                        }\r\n                                    </div>\r\n                                    <div style={{ marginTop: 8, marginBottom: 18, textAlign: 'center' }}>\r\n                                        <span style={{ fontWeight: 'bold' }}>价格：</span>\r\n                                        <span>{cakeOrderInfo.making.price}</span>\r\n                                        <span> 元</span>\r\n                                    </div>\r\n                                    <div style={{ marginTop: 8, marginBottom: 18, textAlign: 'center' }}>\r\n                                        <div style={{ fontWeight: 'bold' }}>\r\n                                            <span>夹心</span>\r\n                                            {\r\n                                                this.evalWith(cakeOrderInfo.making.height)?.name ? <span>\r\n                                                    {`（${this.evalWith(cakeOrderInfo.making.height)?.name}，任选 ${cakeOrderInfo.product?.fillingNumber} 种，已选 ${cakeOrderInfo.making.fillings?.length} 种）：`}\r\n                                                </span> : <span>：</span>\r\n                                            }\r\n                                        </div>\r\n                                        <CheckboxGroup\r\n                                            disabled={cakeOrderInfo.product?.fillingNumber > 0 ? false : true}\r\n                                            style={{ marginTop: 8 }}\r\n                                            options={this._fillingOptions}\r\n                                            value={cakeOrderInfo.making.fillings}\r\n                                            onChange={(value) => this.handleCakeFillingChange(value, cakeOrderInfo.product?.fillingNumber)} />\r\n                                        {\r\n                                            cakeOrderInfo.making.fillings?.length === 0 && cakeOrderInfo.product?.fillingNumber > 0 ? (\r\n                                                <div style={{ color: 'red' }}>“夹心”是必填项</div>\r\n                                            ) : (<span></span>)\r\n                                        }\r\n                                    </div>\r\n                                    <div style={{ marginTop: 8, marginBottom: 18, textAlign: 'center' }}>\r\n                                        <div style={{ fontWeight: 'bold' }}>蜡烛（任选一种，若蛋糕自带蜡烛则不额外赠送蜡烛）：</div>\r\n\r\n                                        <Radio.Group style={{ marginTop: 8 }}\r\n                                            options={this._candleOptions}\r\n                                            value={cakeOrderInfo.making.candle}\r\n                                            onChange={this.handleCandleChange}>\r\n                                        </Radio.Group>\r\n                                        {\r\n                                            cakeOrderInfo.making.candle === undefined ||\r\n                                                (this.evalWith(cakeOrderInfo.making.candle)?.id === 3 &&\r\n                                                    (cakeOrderInfo.making.candleExtra === undefined ||\r\n                                                        cakeOrderInfo.making.candleExtra === '')) ? (\r\n                                                <div style={{ color: 'red' }}>“蜡烛”是必填项</div>\r\n                                            ) : (<span></span>)\r\n                                        }\r\n                                    </div>\r\n                                    <div style={{ marginTop: 8, marginBottom: 18, textAlign: 'center' }}>\r\n                                        <div style={{ fontWeight: 'bold' }}>火柴（如需要请选择，默认没有火柴）：</div>\r\n\r\n                                        <Radio.Group style={{ marginTop: 8 }}\r\n                                            options={this._kindlingOptions}\r\n                                            value={cakeOrderInfo.making.kindling}\r\n                                            onChange={this.handleKindlingChange}>\r\n                                        </Radio.Group>\r\n                                    </div>\r\n\r\n                                    <div style={{ marginTop: 8, marginBottom: 18, textAlign: 'center' }}>\r\n                                        <div style={{ fontWeight: 'bold' }}>帽子（任选一种，默认为金卡皇冠帽）：</div>\r\n\r\n                                        <Radio.Group style={{ marginTop: 8 }}\r\n                                            options={this._hatOptions}\r\n                                            onChange={this.handleHatChange}>\r\n                                            value={cakeOrderInfo.making.hat}\r\n                                        </Radio.Group>\r\n                                    </div>\r\n\r\n                                    <div style={{ marginTop: 8, marginBottom: 18, textAlign: 'center' }}>\r\n                                        <span style={{ fontWeight: 'bold' }}>餐具：</span>\r\n                                        <span>{cakeOrderInfo.making.plates}</span>\r\n                                        <span> 套</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div key='c'>\r\n                                    <Divider style={{ marginTop: 10, marginBottom: 0, fontSize: 12 }}>取货</Divider>\r\n                                    <div style={{ marginTop: 8, marginBottom: 18, textAlign: 'center' }}>\r\n                                        <div style={{ fontWeight: 'bold' }}>时间：</div>\r\n                                        <div>\r\n                                            <DatePicker\r\n                                                ref={(dp) => this._datePicker4PickUpDay = dp}\r\n                                                style={{ width: 180 }}\r\n                                                size='large'\r\n                                                placeholder='日期'\r\n                                                format='YYYY-MM-DD dddd'\r\n                                                value={cakeOrderInfo.delivery.pickUpDay}\r\n                                                open={cakeOrderInfo.delivery.pickUpDayPopupOpen}\r\n                                                showToday={false}\r\n                                                inputReadOnly={true}\r\n                                                onChange={this.handlePickUpDayChange}\r\n                                                onFocus={this.handlePickUpDayOnFocus}\r\n                                                onBlur={this.handlePickUpDayOnBlur}\r\n                                                dateRender={(current) => {\r\n                                                    const style = {};\r\n\r\n                                                    if (current.date() === 1) {\r\n                                                        style.border = '1px solid #1890ff';\r\n                                                        style.borderRadius = '50%';\r\n                                                    }\r\n\r\n                                                    return (\r\n                                                        <div className=\"ant-picker-cell-inner\" style={style} onClick={() => {\r\n                                                            this.setState({ pickUpDayPopupOpen: false }, () => {\r\n                                                                setTimeout(() => {\r\n                                                                    this._datePicker4PickUpDay.blur();\r\n                                                                }, 300);\r\n                                                            });\r\n                                                        }}>\r\n                                                            {current.date()}\r\n                                                        </div>\r\n                                                    );\r\n                                                }}\r\n                                                renderExtraFooter={() =>\r\n                                                (<span>\r\n                                                    <Button type='primary' size='small' onClick={() => {\r\n                                                        const { cakeOrderInfo } = this.state;\r\n                                                        cakeOrderInfo.delivery.pickUpDayPopupOpen = false;\r\n                                                        cakeOrderInfo.delivery.pickUpDay = moment();\r\n                                                        this.setState({ cakeOrderInfo: cakeOrderInfo }, () => {\r\n                                                            setTimeout(() => {\r\n                                                                this._datePicker4PickUpDay.blur();\r\n                                                            }, 300);\r\n                                                        });\r\n                                                    }}>今天</Button>\r\n                                                    <span>   </span>\r\n                                                    <Button type='primary' size='small' onClick={() => {\r\n                                                        const { cakeOrderInfo } = this.state;\r\n                                                        cakeOrderInfo.delivery.pickUpDayPopupOpen = false;\r\n                                                        cakeOrderInfo.delivery.pickUpDay = moment().add(1, 'day');\r\n                                                        this.setState({ cakeOrderInfo: cakeOrderInfo }, () => {\r\n                                                            setTimeout(() => {\r\n                                                                this._datePicker4PickUpDay.blur();\r\n                                                            }, 300);\r\n                                                        });\r\n                                                    }}>明天</Button>\r\n                                                    <span>   </span>\r\n                                                    <Button type='primary' size='small' onClick={() => {\r\n                                                        const { cakeOrderInfo } = this.state;\r\n                                                        cakeOrderInfo.delivery.pickUpDayPopupOpen = false;\r\n                                                        cakeOrderInfo.delivery.pickUpDay = moment().add(2, 'day');\r\n                                                        this.setState({ cakeOrderInfo: cakeOrderInfo }, () => {\r\n                                                            setTimeout(() => {\r\n                                                                this._datePicker4PickUpDay.blur();\r\n                                                            }, 300);\r\n                                                        });\r\n                                                    }}>后天</Button>\r\n                                                </span>)\r\n                                                } />\r\n                                        </div>\r\n                                        <div style={{ marginTop: 4 }}>\r\n                                            <DatePicker\r\n                                                ref={(dp) => this._datePicker4PickUpTime = dp}\r\n                                                picker='time'\r\n                                                size='large'\r\n                                                style={{ width: 150 }}\r\n                                                placeholder='时间'\r\n                                                locale={dpLocale}\r\n                                                showTime={{\r\n                                                    use12Hours: false,\r\n                                                    showNow: false,\r\n                                                    format: 'a HH:mm'\r\n                                                }}\r\n                                                panelRender={(originPicker) => {\r\n                                                    return (\r\n                                                        <div style={{ marginLeft: 10, marginRight: 10 }}>\r\n                                                            {originPicker}\r\n                                                        </div>)\r\n                                                }}\r\n                                                format='a HH:mm'\r\n                                                value={cakeOrderInfo.delivery.pickUpTime}\r\n                                                open={cakeOrderInfo.delivery.pickUpTimePopupOpen}\r\n                                                onFocus={this.handlePickUpTimeOnFocus}\r\n                                                onBlur={this.handlePickUpTimeOnBlur}\r\n                                                onOk={this.handlePickUpTimeOnOk}\r\n                                                inputReadOnly={true}\r\n                                                onChange={this.handlePickUpTimeChange}\r\n                                                renderExtraFooter={() => (\r\n                                                    <span>\r\n                                                        <Button type='primary' size='small' onClick={() => {\r\n                                                            const { cakeOrderInfo } = this.state;\r\n                                                            cakeOrderInfo.delivery.pickUpTimePopupOpen = false;\r\n                                                            cakeOrderInfo.delivery.pickUpTime = moment('12:30', 'HH:mm')\r\n                                                            this.setState({ cakeOrderInfo: cakeOrderInfo }, () => {\r\n                                                                setTimeout(() => {\r\n                                                                    this._datePicker4PickUpTime.blur();\r\n                                                                }, 300);\r\n                                                            });\r\n                                                        }}>中午 12点30分</Button>\r\n                                                        <span>   </span>\r\n                                                        <Button type='primary' size='small' onClick={() => {\r\n                                                            const { cakeOrderInfo } = this.state;\r\n                                                            cakeOrderInfo.delivery.pickUpTimePopupOpen = false;\r\n                                                            cakeOrderInfo.delivery.pickUpTime = moment('18:30', 'HH:mm')\r\n                                                            this.setState({ cakeOrderInfo: cakeOrderInfo }, () => {\r\n                                                                setTimeout(() => {\r\n                                                                    this._datePicker4PickUpTime.blur();\r\n                                                                }, 300);\r\n                                                            });\r\n                                                        }}>晚上 18点30分</Button>\r\n                                                    </span>\r\n                                                )} />\r\n                                        </div>\r\n                                        {\r\n                                            (cakeOrderInfo.delivery.pickUpDay === undefined ||\r\n                                                cakeOrderInfo.delivery.pickUpDay === null ||\r\n                                                cakeOrderInfo.delivery.pickUpDay === '') ||\r\n                                                (cakeOrderInfo.delivery.pickUpTime === undefined ||\r\n                                                    cakeOrderInfo.delivery.pickUpTime === null ||\r\n                                                    cakeOrderInfo.delivery.pickUpTime === '') ? (\r\n                                                <div style={{ color: 'red' }}>“时间”是必填项</div>\r\n                                            ) : (<div></div>)\r\n                                        }\r\n                                    </div>\r\n                                    <div style={{ marginTop: 8, marginBottom: 18, marginLeft: 12, marginRight: 12, textAlign: 'center' }}>\r\n                                        <span style={{ fontWeight: 'bold' }}>方式：</span>\r\n                                        <Radio.Group\r\n                                            size='large'\r\n                                            options={this._pickUpTypesOptions}\r\n                                            onChange={this.handlePickUpTypeChange}\r\n                                            value={cakeOrderInfo.delivery.pickUpType}\r\n                                            optionType='default'\r\n                                        />\r\n                                        {\r\n                                            cakeOrderInfo.delivery.pickUpType === undefined ? (\r\n                                                <div style={{ color: 'red' }}>“方式”是必填项</div>\r\n                                            ) : (<div></div>)\r\n                                        }\r\n                                    </div>\r\n                                    <div style={{ marginTop: 8, marginBottom: 18, marginLeft: 12, marginRight: 12, textAlign: 'center' }}>\r\n                                        <span style={{ fontWeight: 'bold' }}>门店：</span>\r\n                                        <Select style={{ width: 160 }}\r\n                                            onChange={this.handleShopChange}\r\n                                            value={cakeOrderInfo.delivery.shop}\r\n                                            options={this._shopOptions}>\r\n                                        </Select>\r\n                                        <div style={{ fontSize: 14, color: 'gray' }}>{this._cakeShopsDescription}</div>\r\n                                        {\r\n                                            this.evalWith(cakeOrderInfo.delivery.shop)?.id === undefined ||\r\n                                                this.evalWith(cakeOrderInfo.delivery.shop)?.id === null ? (\r\n                                                <div style={{ color: 'red' }}>“门店”是必填项</div>\r\n                                            ) : (<div></div>)\r\n                                        }\r\n                                    </div>\r\n                                    {\r\n                                        this.evalWith(cakeOrderInfo.delivery.pickUpType)?.id === 2 ? (\r\n                                            <div style={{ marginTop: 8, marginBottom: 18, marginLeft: 12, marginRight: 12, textAlign: 'center' }}>\r\n                                                <Input.Group>\r\n                                                    <span style={{ fontWeight: 'bold' }}>地址：</span>\r\n                                                    <Input style={{ width: 'calc(100% - 100px)', textAlign: 'left' }}\r\n                                                        placeholder='填写地址（详细到门牌号）' prefix={<HomeOutlined />}\r\n                                                        value={cakeOrderInfo.delivery.address}\r\n                                                        onChange={this.handleAddressChange} />\r\n                                                    {\r\n                                                        cakeOrderInfo.delivery.address === undefined ||\r\n                                                            cakeOrderInfo.delivery.address === '' ? (\r\n                                                            <div style={{ color: 'red' }}>“地址”是必填项</div>\r\n                                                        ) : (<div></div>)\r\n                                                    }\r\n                                                </Input.Group>\r\n                                            </div>\r\n                                        ) : (\r\n                                            <div>\r\n                                            </div>\r\n                                        )\r\n                                    }\r\n                                    <div style={{ marginTop: 8, marginBottom: 18, marginLeft: 12, marginRight: 12, textAlign: 'center' }}>\r\n                                        <Input.Group>\r\n                                            <span style={{ fontWeight: 'bold' }}>姓名：</span>\r\n                                            <Input style={{ width: 'calc(100% - 100px)', textAlign: 'left' }}\r\n                                                placeholder='填写姓名'\r\n                                                prefix={<UserOutlined />}\r\n                                                value={cakeOrderInfo.delivery.pickUpName}\r\n                                                onChange={this.handlePickUpNameChange} />\r\n                                            {\r\n                                                cakeOrderInfo.delivery.pickUpName === '' ||\r\n                                                    cakeOrderInfo.delivery.pickUpName === undefined ? (\r\n                                                    <div style={{ color: 'red' }}>“姓名”是必填项</div>\r\n                                                ) : (<div></div>)\r\n                                            }\r\n                                        </Input.Group>\r\n                                    </div>\r\n                                    <div style={{ marginTop: 8, marginBottom: 18, marginLeft: 12, marginRight: 12, textAlign: 'center' }}>\r\n                                        <Input.Group>\r\n                                            <span style={{ fontWeight: 'bold' }}>手机：</span>\r\n                                            <Input style={{ width: 'calc(100% - 100px)', textAlign: 'left' }}\r\n                                                placeholder='填写手机号'\r\n                                                prefix={<PhoneOutlined />}\r\n                                                value={cakeOrderInfo.delivery.phoneNumber}\r\n                                                onChange={this.handlePhoneNumberChange} />\r\n                                            {\r\n                                                /^\\d{11}$/.test(cakeOrderInfo.delivery.phoneNumber) === false ? (\r\n                                                    <div style={{ color: 'red' }}>“手机号”必须是11位</div>\r\n                                                ) : (<div></div>)\r\n                                            }\r\n                                        </Input.Group>\r\n                                    </div>\r\n                                </div>\r\n                                <div key='d'>\r\n                                    <Divider style={{ marginTop: 10, marginBottom: 0, fontSize: 12 }}>其它</Divider>\r\n                                    <div style={{ marginTop: 8, marginBottom: 18, marginLeft: 24, marginRight: 24, textAlign: 'center' }}>\r\n                                        <Input.Group>\r\n                                            <span style={{ fontWeight: 'bold' }}>备注：</span>\r\n                                            <TextArea style={{ width: 'calc(100% - 0px)', textAlign: 'left' }} rows={5}\r\n                                                placeholder={`1：如果蛋糕上有文字或者数字，请务必备注是否修改；${'\\n'}2：有其它特殊要求，请务必备注说明；`} value={cakeOrderInfo.other.remarks}\r\n                                                onChange={this.handleRemarksChange} />\r\n                                        </Input.Group>\r\n                                    </div>\r\n                                    <div style={{ height: 80 }}></div>\r\n                                </div>\r\n                            </QueueAnim>\r\n\r\n                            <div style={{\r\n                                width: 'calc(100%)', height: 64, backgroundColor: '#E8EBE4',\r\n                                position: 'fixed', bottom: 0, textAlign: 'center', zIndex: '100'\r\n                            }}>\r\n                                <Space style={{ marginTop: 16, marginBottom: 16 }}>\r\n                                    <Button type='default' onClick={() => this.handleOrderCakeInfoModalCancel()}>取消</Button>\r\n                                    <Button danger type='primary' onClick={() => this.handleOrderCakeInfoModalOk()}>生成订购单</Button>\r\n                                </Space>\r\n                            </div>\r\n                        </div>) : (<div></div>)\r\n                }\r\n\r\n                {\r\n                    // 订单图片\r\n                    orderImageModalVisiable ? (\r\n                        <div style={{\r\n                            background: 'rgba(0,0,0,0.9)', position: 'fixed',\r\n                            zIndex: '100', width: 'calc(100%)', height: 'calc(100%)',\r\n                            overflowY: 'hidden', overflowX: 'hidden'\r\n                        }}>\r\n                            <div style={this._orderImageDivStyle}>\r\n                                <div key='a' style={{ height: 110 }}>\r\n                                    <Timeline style={{ paddingTop: 30, paddingLeft: 24, paddingRight: 24 }}>\r\n                                        <Timeline.Item color='white' style={{ color: 'white' }}>{`长按虚线框内的订购单图片并转发给客服`}</Timeline.Item>\r\n                                        <Timeline.Item color='white' style={{ color: 'white' }}>{`注意：不要识别二维码，也不要截屏`}</Timeline.Item>\r\n                                    </Timeline>\r\n                                </div>\r\n\r\n                                <QueueAnim type={['bottom', 'top']}>\r\n                                    <div key='a' style={this._orderImageStyle}>\r\n                                        <Image style={this._orderImageInStyle} preview={false} src={orderImageSrc} />\r\n                                    </div>\r\n                                </QueueAnim>\r\n\r\n                                <div style={{ height: 80, textAlign: 'center' }}>\r\n                                    <Space style={{ marginTop: 24 }}>\r\n                                        <Button key='back' type='primary' danger onClick={() => this.handleOrderImageModalCancel()}>X</Button>\r\n                                    </Space>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ) : (<div></div>)\r\n                }\r\n\r\n                {\r\n                    // 截图模板\r\n                    orderImageCapturing ? (\r\n                        <div style={{\r\n                            opacity: 0.99, background: 'white', position: 'fixed',\r\n                            zIndex: '200', width: 'calc(100%)', height: 'calc(100%)',\r\n                            overflowY: 'hidden', overflowX: 'hidden'\r\n                        }}>\r\n                            <Spin spinning={orderImageCapturing} size='large' tip='生成订购单中...' >\r\n                                <div ref={(current) => { this._theDiv4Capture = current; }}\r\n                                    style={this._theDiv4CaptureStyle}>\r\n                                    <div id=\"qrcode\" style={{\r\n                                        textAlign: 'right', position: 'absolute',\r\n                                        paddingRight: 18, paddingTop: 10,\r\n                                        width: this._theDiv4CaptureWidth, height: 150\r\n                                    }}>\r\n                                        <div style={{ fontSize: 12, fontWeight: 'bold' }}>电子订购单二维码</div>\r\n                                        <Image style={{ width: 135, height: 135 }}\r\n                                            preview={false}\r\n                                            src={image4QRCode}\r\n                                        />\r\n                                    </div>\r\n\r\n                                    <div style={{\r\n                                        textAlign: 'left', position: 'absolute', paddingLeft: 20,\r\n                                        width: this._theDiv4CaptureWidth, fontSize: 14, paddingTop: 10,\r\n                                    }}>{`订购时间：${orderingTime}`}</div>\r\n\r\n                                    <div style={{\r\n                                        fontSize: 22,\r\n                                        fontWeight: 'bold',\r\n                                        textAlign: 'center',\r\n                                        paddingTop: 6,\r\n                                        paddingBottom: 6\r\n                                    }}>蛋糕订购单</div>\r\n                                    <div>\r\n                                        <div style={this._theLeftDivInTheDiv4CaptureStyle}>\r\n                                            <div style={{\r\n                                                fontSize: 20,\r\n                                                textAlign: 'center',\r\n                                                paddingTop: 4,\r\n                                                paddingBottom: 4,\r\n                                                fontWeight: 'bold',\r\n                                                background: '#D8D8D8',\r\n                                                borderBottom: '1px dashed black'\r\n                                            }}>\r\n                                                <span>{`《${cakeOrderInfo.product?.name}》`}</span>\r\n                                            </div>\r\n                                            <div>\r\n                                                <div style={{ position: 'relative' }}>\r\n                                                    <Image preview={false} src={\r\n                                                        cakeOrderInfo.product?.images?.[0].type === 1 ?\r\n                                                            cakeOrderInfo.product?.images?.[0].thumbnail :\r\n                                                            cakeOrderInfo.product?.images?.[0]\r\n                                                    } />\r\n                                                </div>\r\n                                                <Image style={{ marginTop: 16 }} preview={false} src=\"/image/弯麦logo长.png\" />\r\n                                            </div>\r\n                                        </div>\r\n                                        <div style={this._theRightDivInTheDiv4CaptureStyle}>\r\n                                            <Divider orientation='left' dashed style={{ marginTop: 0, marginBottom: 0, fontSize: 8 }}>制作</Divider>\r\n                                            <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                                                <span style={{ fontSize: 14, fontWeight: 'bold' }}>奶油：</span>\r\n                                                <span style={{ fontSize: 18, color: 'green' }}>{cakeOrderInfo.making.cream.name}</span>\r\n                                            </div>\r\n                                            <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                                                <span style={{ fontSize: 14, fontWeight: 'bold' }}>尺寸：</span>\r\n                                                <span style={{ fontSize: 18, color: 'green' }}>{cakeOrderInfo.making.size.name}</span>\r\n                                                {\r\n                                                    cakeOrderInfo.making.size.id === -500 ? (\r\n                                                        <span style={{ fontSize: 18, color: 'green' }}>\r\n                                                            {` | ${cakeOrderInfo.making.sizeExtra}`}\r\n                                                        </span>) : (<span></span>)\r\n                                                }\r\n                                                <span style={{ fontSize: 18, color: 'green' }}>\r\n                                                    {` | ${this.evalWith(cakeOrderInfo.making.height)?.name}`}\r\n                                                </span>\r\n                                            </div>\r\n                                            <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                                                <span style={{ fontSize: 14, fontWeight: 'bold' }}>价格：</span>\r\n                                                <span style={{ fontSize: 14 }}>{cakeOrderInfo.making.price}</span>\r\n                                                <span style={{ fontSize: 14 }}>元</span>\r\n                                            </div>\r\n                                            <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                                                <span style={{ fontSize: 14, fontWeight: 'bold' }}>夹心：</span>\r\n                                                <span style={{ fontSize: 16, color: 'green' }}>{\r\n                                                    cakeOrderInfo.making.fillings.length > 0 ?\r\n                                                        cakeOrderInfo.making.fillings.map(item => this.evalWith(item)?.name).join('+') :\r\n                                                        '没有夹心'\r\n                                                }</span>\r\n                                            </div>\r\n                                            <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                                                <span style={{ fontSize: 14, fontWeight: 'bold' }}>蜡烛：</span>\r\n                                                <span style={{ fontSize: 16, color: 'blue' }}>{this.evalWith(cakeOrderInfo.making.candle).name}</span>\r\n                                                {\r\n                                                    this.evalWith(cakeOrderInfo.making.candle).id === 3 ? (\r\n                                                        <span style={{ fontSize: 16, color: 'blue' }}>\r\n                                                            {`(${cakeOrderInfo.making.candleExtra})`}\r\n                                                        </span>) : (<span></span>)\r\n                                                }\r\n                                                {\r\n                                                    this.evalWith(cakeOrderInfo.making.kindling)?.id === 2 ? (\r\n                                                        <span style={{ fontSize: 16, color: 'blue' }}>\r\n                                                            {`+火柴盒`}\r\n                                                        </span>\r\n                                                    ) : (<span></span>)\r\n                                                }\r\n                                            </div>\r\n                                            <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                                                <span style={{ fontSize: 14, fontWeight: 'bold' }}>帽子：</span>\r\n                                                <span style={{ fontSize: 16, color: 'blue' }}>{this.evalWith(cakeOrderInfo.making.hat).name}</span>\r\n                                            </div>\r\n                                            <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                                                <span style={{ fontSize: 14, fontWeight: 'bold' }}>餐具：</span>\r\n                                                <span style={{ fontSize: 16, color: 'blue' }}>{cakeOrderInfo.making.plates}</span>\r\n                                                <span style={{ fontSize: 16, color: 'blue' }}>套</span>\r\n                                            </div>\r\n                                            <Divider orientation='left' style={{ marginTop: 0, marginBottom: 0, fontSize: 8 }}>取货</Divider>\r\n                                            <div>\r\n                                                <span style={{ fontSize: 14, fontWeight: 'bold' }}>时间：</span>\r\n                                                <span style={{ fontSize: 18, color: 'red' }}>{cakeOrderInfo.delivery.pickUpDay?.format('YYYY-MM-DD ddd')}</span>\r\n                                                <span style={{ fontSize: 18, color: 'red' }}>{cakeOrderInfo.delivery.pickUpTime?.format(' a HH:mm')}</span>\r\n                                            </div>\r\n                                            <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                                                <span style={{ fontSize: 14, fontWeight: 'bold' }}>方式：</span>\r\n                                                <span style={{ fontSize: 14 }}>{this.evalWith(cakeOrderInfo.delivery.pickUpType)?.name}</span>\r\n                                            </div>\r\n                                            <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                                                <span style={{ fontSize: 14, fontWeight: 'bold' }}>门店：</span>\r\n                                                <span style={{ fontSize: 14 }}>{this.evalWith(cakeOrderInfo.delivery.shop)?.name}</span>\r\n                                            </div>\r\n                                            {\r\n                                                this.evalWith(cakeOrderInfo.delivery.pickUpType)?.id === 2 ? (\r\n                                                    <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                                                        <span style={{ fontSize: 14, fontWeight: 'bold' }}>地址：</span>\r\n                                                        <span style={{ fontSize: 18, color: 'red' }}>{cakeOrderInfo.delivery.address}</span>\r\n                                                    </div>\r\n                                                ) : (<div></div>)\r\n                                            }\r\n\r\n                                            <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                                                <span style={{ fontSize: 14, fontWeight: 'bold' }}>姓名：</span>\r\n                                                <span style={{ fontSize: 18, color: 'red' }}>\r\n                                                    {`${cakeOrderInfo.delivery.pickUpName}（${cakeOrderInfo.delivery.phoneNumber}）`}\r\n                                                </span>\r\n                                            </div>\r\n                                            <Divider orientation='left' style={{ marginTop: 0, marginBottom: 0, fontSize: 8 }}>其它</Divider>\r\n                                            <div style={{ marginTop: 4, marginBottom: 4, marginRight: 8 }}>\r\n                                                <span style={{ fontSize: 14, fontWeight: 'bold' }}>备注：</span>\r\n                                                <span style={{ fontSize: 18, color: 'red', wordWrap: 'break-word' }}>\r\n                                                    {cakeOrderInfo.other.remarks}\r\n                                                </span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </Spin>\r\n                        </div>) : (<div></div>)\r\n                }\r\n\r\n                <div>\r\n                    {/* 联系方式 */}\r\n                    <div style={{\r\n                        textAlign: 'center', color: '#008B8B',\r\n                        fontSize: 16, fontWeight: 'normal', paddingTop: 7, paddingBottom: 5\r\n                    }}>\r\n                        <span>联系弯麦总店2号</span>\r\n                        <span style={{ textDecoration: 'underline' }}>\r\n                            <a href=\"tel:18599568588\">18599568588</a>\r\n                        </span>\r\n                        <span> (微信同号)</span>\r\n                    </div>\r\n\r\n                    {/* 搜索框 */}\r\n                    {\r\n                        !allCakeInfosLoading ?\r\n                            (<div style={{ padding: 12 }}>\r\n                                <Input\r\n                                    disabled={allCakeInfosLoading}\r\n                                    placeholder=\"输入关键词搜索蛋糕\"\r\n                                    allowClear\r\n                                    size='middle'\r\n                                    value={searchName}\r\n                                    onChange={this.handleSearchInputOnChange}\r\n                                />\r\n                            </div>) : (<div></div>)\r\n                    }\r\n\r\n                    {/* 展示区 */}\r\n                    {\r\n                        (!searchName || searchName === '') ?\r\n                            (\r\n                                <div>\r\n                                    {/* 私人订制 */}\r\n                                    {\r\n                                        !allCakeInfosLoading ?\r\n                                            (<div style={{\r\n                                                textAlign: 'center', marginTop: 0, fontSize: 24,\r\n                                                backgroundColor: 'red', color: 'white',\r\n                                                borderRadius: 8, paddingTop: 8, paddingBottom: 8\r\n                                            }} onClick={() => {\r\n                                                let that = this;\r\n                                                window.wx.chooseImage({\r\n                                                    count: 1, // 默认9\r\n                                                    sizeType: ['original', 'compressed'], // 可以指定是原图还是压缩图，默认二者都有\r\n                                                    sourceType: ['album', 'camera'], // 可以指定来源是相册还是相机，默认二者都有\r\n                                                    success: function (res) {\r\n                                                        that.setState({\r\n                                                            imageCropperModalVisiable: true,\r\n                                                            localImgDataLoading: true,\r\n                                                            imageBeforeCrop: ''\r\n                                                        });\r\n\r\n                                                        let localIds = res.localIds; // 返回选定照片的本地 ID 列表，localId可以作为 img 标签的 src 属性显示图片\r\n                                                        window.wx.getLocalImgData({\r\n                                                            localId: localIds[0], // 图片的localID\r\n                                                            success: function (res) {\r\n                                                                // console.log('4')\r\n                                                                let localData = res.localData; // localData是图片的base64数据，可以用 img 标签显示\r\n                                                                /// 如果缺少base64头部补充上\r\n                                                                if (!(localData.startsWith('data:image/jpg;base64,'))) {\r\n                                                                    localData = 'data:image/jpg;base64,' + localData;\r\n                                                                }\r\n                                                                that.setState({ localImgDataLoading: false, imageBeforeCrop: localData });\r\n                                                            }\r\n                                                        });\r\n                                                    }\r\n                                                });\r\n                                            }}>\r\n                                                <span>私人订制蛋糕</span>\r\n                                                <span style={{ color: 'whitesmoke', fontSize: 13, marginLeft: 8 }}>点击选择蛋糕照片</span>\r\n                                            </div>) : <div></div>\r\n                                    }\r\n\r\n                                    {/* 推荐区域 */}\r\n                                    <div>\r\n                                        {\r\n                                            !allCakeInfosLoading ? (\r\n                                                <div style={{\r\n                                                    textAlign: 'center', marginTop: 10, fontSize: 18,\r\n                                                    backgroundColor: '#008B8B', color: 'white',\r\n                                                    borderRadius: 30, paddingTop: 8, paddingBottom: 8\r\n                                                }}>\r\n                                                    {`${cakeRecommend.name}`}\r\n                                                    <span style={{ fontSize: 14 }}>{`-${cakeRecommend.products.length}`}</span>\r\n                                                </div>\r\n                                            ) :\r\n                                                <div style={{ textAlign: 'center', fontSize: 15 }}>\r\n                                                    <Image style={{ width: 120, height: 120 }} preview={false}\r\n                                                        src={`/生日蛋糕/弯麦logo方-黑白.png`} />\r\n                                                    <div style={{ marginTop: 6, color: '#008B8B' }}>蛋糕图册获取中</div>\r\n                                                </div>\r\n                                        }\r\n                                        <List loading={allCakeInfosLoading}\r\n                                            style={{ marginLeft: 4, marginRight: 4, marginTop: 4 }}\r\n                                            grid={{ gutter: 4, column: this._columnNumber }}\r\n                                            dataSource={cakeRecommend.products}\r\n                                            renderItem={this._renderItemFunc4Product}\r\n                                        />\r\n                                        {\r\n                                            !allCakeInfosLoading ? (\r\n                                                <div style={{\r\n                                                    textAlign: 'center', color: '#008B8B',\r\n                                                    fontSize: 18, paddingTop: 10, paddingBottom: 20\r\n                                                }}>\r\n                                                    更多款式请点击下方分类查看\r\n                                                </div>\r\n                                            ) : <div></div>\r\n                                        }\r\n                                    </div>\r\n\r\n                                    {/* 分类区域 */}\r\n                                    <Collapse\r\n                                        bordered={true}\r\n                                        expandIcon={({ isActive }) =>\r\n                                            <RightSquareFilled\r\n                                                style={{ fontSize: 24, color: 'whitesmoke' }}\r\n                                                rotate={isActive ? 90 : 0} />\r\n                                        }\r\n                                        expandIconPosition='right'\r\n                                        onChange={this.handleCollapseOnChange}>\r\n                                        {\r\n                                            cakeCategorys.map((category) => {\r\n                                                return (<Panel\r\n                                                    header={\r\n                                                        (\r\n                                                            <div style={{ marginLeft: 0, marginRight: 4, color: 'white', fontSize: 20 }}>\r\n                                                                <div>\r\n                                                                    <div>\r\n                                                                        <span>{`${category.id}：${category.name}`}</span>\r\n                                                                        <span style={{ fontSize: 14 }}>{`-${category.products.length}`}</span>\r\n                                                                    </div>\r\n                                                                    <div style={{ fontSize: 12, color: 'whitesmoke' }}>\r\n                                                                        {`${category.description}`}\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                                <div style={{ marginLeft: 4, marginTop: 8 }}>\r\n                                                                    {\r\n                                                                        category.images.map((image) => {\r\n                                                                            let index = category.images.indexOf(image);\r\n                                                                            // console.log('index = ' + index);\r\n                                                                            return (\r\n                                                                                <span key={index}>\r\n                                                                                    <Image style={{ marginRight: 6, width: 64, height: 64, borderRadius: 6 }}\r\n                                                                                        preview={false} src={image} />\r\n                                                                                </span>\r\n                                                                            );\r\n                                                                        })\r\n                                                                    }\r\n                                                                    <div style={{ fontSize: 16, marginLeft: 4, marginTop: 4 }}>{category.opened ? '' : '查看更多......'}</div>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        )\r\n                                                    }\r\n                                                    style={{ backgroundColor: '#008B8B', borderRadius: 24 }}\r\n                                                    key={category.id}>\r\n                                                    <List style={{ marginLeft: -12, marginRight: -12, marginTop: -12 }}\r\n                                                        grid={{ gutter: 4, column: this._columnNumber }}\r\n                                                        dataSource={category.products}\r\n                                                        renderItem={this._renderItemFunc4Product} />\r\n                                                </Panel>)\r\n                                            })\r\n                                        }\r\n                                    </Collapse>\r\n                                </div>\r\n                            ) :\r\n                            (\r\n                                <List style={{ marginLeft: 4, marginRight: 4, marginTop: 4 }}\r\n                                    grid={{ gutter: 4, column: this._columnNumber }}\r\n                                    dataSource={cake4Search}\r\n                                    renderItem={this._renderItemFunc4Product} />\r\n                            )\r\n                    }\r\n\r\n                    {/* 地址，ICP备案，公安备案 */}\r\n                    <div style={{ textAlign: 'center', background: '#D8D8D8', height: 100 }}>\r\n                        <div style={{ paddingTop: 12, marginTop: 10 }}>\r\n                            地址：漳州市漳浦县府前街西247号(教育局对面)\r\n                        </div>\r\n                        <div style={{ color: 'green', fontSize: 14 }}>\r\n                            <span style={{ color: 'black' }}>©弯麦</span>\r\n\r\n                            <a href='http://beian.miit.gov.cn'>\r\n                                <span style={{ marginLeft: 8, color: '#008B8B' }}>闽ICP备2022007668号-1</span>\r\n                            </a>\r\n\r\n                            <div>\r\n                                <a style={{ color: '#008B8B' }} href=\"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=35062302000230\">\r\n                                    <span>\r\n                                        <Image preview={false} src=\"/image/公安备案图标.png\" style={{ float: 'left' }} />\r\n                                    </span>\r\n                                    <span style={{ marginLeft: 8 }}>\r\n                                        闽公网安备 35062302000230号\r\n                                    </span>\r\n                                </a>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div >\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default cakeMenu;\r\n","\r\nconsole.log('process.env.NODE_ENV = ' + process.env.NODE_ENV);\r\n\r\n/**--------------------配置信息--------------------*/\r\nconst getApiHost = () => {\r\n  // console.log('document.domain = ' + document.domain);\r\n  let host;\r\n  if (process.env.NODE_ENV === 'development') {\r\n    host = 'http://localhost:9001';\r\n    // host = 'http://192.168.205.133:9001';\r\n  } else {\r\n    let rule = /^(([-\\u4E00-\\u9FA5a-z0-9]{1,63})\\.)+([\\u4E00-\\u9FA5a-z]{2,63})\\.?$/\r\n    if (rule.test(document.domain)) {\r\n      host = 'http://gratefulwheat.ruyue.xyz/apis';\r\n    } else {\r\n      host = 'http://123.207.119.232/apis';\r\n    }\r\n  }\r\n  return host;\r\n}\r\n\r\nconst getProductSaleList = async (userId, beginDateTime, endDateTime, pageIndex, pageSize, keyword) => {\r\n  let productSaleUrl = getApiHost() + '/product/saleList';\r\n  productSaleUrl += '?pageIndex=';\r\n  productSaleUrl += pageIndex;\r\n  productSaleUrl += '&pageSize=';\r\n  productSaleUrl += pageSize;\r\n  productSaleUrl += '&userId=';\r\n  productSaleUrl += userId;\r\n  productSaleUrl += '&beginDateTime=';\r\n  productSaleUrl += beginDateTime;\r\n  productSaleUrl += '&endDateTime=';\r\n  productSaleUrl += endDateTime;\r\n  productSaleUrl += '&keyword=';\r\n  productSaleUrl += keyword;\r\n\r\n  const productSaleResponse = await fetch(productSaleUrl);\r\n  const productSaleJson = await productSaleResponse.json();\r\n  return productSaleJson;\r\n}\r\n\r\nconst getProductDiscardList = async (userId, beginDateTime, endDateTime, keyword) => {\r\n  // console.log('getProductDiscardList begin');\r\n  let productDiscardUrl = getApiHost() + '/product/discardList';\r\n  productDiscardUrl += '?userId=';\r\n  productDiscardUrl += userId;\r\n  productDiscardUrl += '&beginDateTime=';\r\n  productDiscardUrl += beginDateTime;\r\n  productDiscardUrl += '&endDateTime=';\r\n  productDiscardUrl += endDateTime;\r\n  productDiscardUrl += '&keyword=';\r\n  productDiscardUrl += keyword;\r\n\r\n  console.log(productDiscardUrl);\r\n  // userId=&categoryUids=%5B%5D&reasonName=&beginDateTime=2020.10.16+00%3A00%3A00&endDateTime=2020.10.16+23%3A59%3A59&keyword=\r\n\r\n  const productDiscardResponse = await fetch(productDiscardUrl);\r\n  const productDiscardJson = await productDiscardResponse.json();\r\n  return productDiscardJson;\r\n}\r\n\r\nconst getProductSaleAndDiscardList = async (userId, categoryId, beginDateTime, endDateTime, keyword) => {\r\n  let productSaleAndDiscardUrl = getApiHost() + '/product/saleAndDiscardList';\r\n\r\n  productSaleAndDiscardUrl += '?userId='\r\n  productSaleAndDiscardUrl += userId;\r\n  productSaleAndDiscardUrl += '&categoryId=';\r\n  productSaleAndDiscardUrl += categoryId;\r\n  productSaleAndDiscardUrl += '&beginDateTime=';\r\n  productSaleAndDiscardUrl += beginDateTime;\r\n  productSaleAndDiscardUrl += '&endDateTime=';\r\n  productSaleAndDiscardUrl += endDateTime;\r\n  productSaleAndDiscardUrl += '&keyword=';\r\n  productSaleAndDiscardUrl += keyword;\r\n\r\n  // console.log(productSaleAndDiscardUrl);\r\n  // keyword=&categorysJson=%5B%221593049816479739965%22%5D&beginDateTime=2020-10-21&endDateTime=2020-10-27&pageIndex=1&pageSize=50&orderColumn=&asc=false\r\n  const productSaleAndDiscardResponse = await fetch(productSaleAndDiscardUrl);\r\n  const productSaleAndDiscardJson = await productSaleAndDiscardResponse.json();\r\n  return productSaleAndDiscardJson;\r\n}\r\n\r\nconst getCouponSummaryList = async (userId, beginDateTime, endDateTime) => {\r\n  let couponSummaryListUrl = getApiHost() + '/coupon/couponSummaryList';\r\n\r\n  couponSummaryListUrl += '?userId='\r\n  couponSummaryListUrl += userId;\r\n  couponSummaryListUrl += '&beginDateTime=';\r\n  couponSummaryListUrl += beginDateTime;\r\n  couponSummaryListUrl += '&endDateTime=';\r\n  couponSummaryListUrl += endDateTime;\r\n\r\n  // console.log(couponSummaryListUrl);\r\n  // keyword=&categorysJson=%5B%221593049816479739965%22%5D&beginDateTime=2020-10-21&endDateTime=2020-10-27&pageIndex=1&pageSize=50&orderColumn=&asc=false\r\n  const couponSummaryListResponse = await fetch(couponSummaryListUrl);\r\n  const couponSummaryListJson = await couponSummaryListResponse.json();\r\n  return couponSummaryListJson;\r\n}\r\n\r\nconst getProductOrderList = async (userId, templateId, timeType, beginDateTime, endDateTime) => {\r\n  let productOrderUrl = getApiHost() + '/product/orderList';\r\n  productOrderUrl += '?userId=';\r\n  productOrderUrl += userId;\r\n  productOrderUrl += '&templateId=';\r\n  productOrderUrl += templateId;\r\n  productOrderUrl += '&timeType=';\r\n  productOrderUrl += timeType;\r\n  productOrderUrl += '&beginDateTime=';\r\n  productOrderUrl += beginDateTime;\r\n  productOrderUrl += '&endDateTime=';\r\n  productOrderUrl += endDateTime;\r\n\r\n  const productOrderResponse = await fetch(productOrderUrl);\r\n  const productOrderJson = await productOrderResponse.json();\r\n  return productOrderJson;\r\n}\r\n\r\nconst getProductOrderItems = async (orderId) => {\r\n  let productOrderItemUrl = getApiHost() + '/product/orderItems';\r\n  productOrderItemUrl += '?orderId=';\r\n  productOrderItemUrl += orderId;\r\n\r\n  const productOrderItemsResponse = await fetch(productOrderItemUrl);\r\n  const productOrderItemsJson = await productOrderItemsResponse.json();\r\n  return productOrderItemsJson;\r\n}\r\n\r\nconst findTemplate = async (templateUid) => {\r\n  let findTemplateUrl = getApiHost() + '/product/findTemplate';\r\n  findTemplateUrl += '?templateUid=';\r\n  findTemplateUrl += templateUid;\r\n\r\n  const findTemplateResponse = await fetch(findTemplateUrl);\r\n  const findTemplateResponseJson = await findTemplateResponse.json();\r\n  return findTemplateResponseJson;\r\n}\r\n\r\nconst loadProductsByKeyword = async (keyword) => {\r\n  let loadProductsByKeywordUrl = getApiHost() + '/product/loadProductsByKeyword';\r\n  loadProductsByKeywordUrl += '?keyword=';\r\n  loadProductsByKeywordUrl += keyword;\r\n\r\n  const loadProductsByKeywordResponse = await fetch(loadProductsByKeywordUrl);\r\n  const loadProductsByKeywordResponseJson = await loadProductsByKeywordResponse.json();\r\n  return loadProductsByKeywordResponseJson;\r\n}\r\n\r\nconst createStockFlowOut = async (toUserId, items) => {\r\n  let createStockFlowOutUrl = getApiHost() + '/product/createStockFlowOut';\r\n  let createStockFlowOutBody = {};\r\n  createStockFlowOutBody.toUserId = toUserId;\r\n  createStockFlowOutBody.items = items;\r\n\r\n  const createStockFlowOutResponse = await fetch(createStockFlowOutUrl, {\r\n    method: 'post', body: JSON.stringify(createStockFlowOutBody), headers: { 'Content-Type': 'application/json' }\r\n  });\r\n  const createStockFlowOutResponseJson = await createStockFlowOutResponse.json();\r\n  return createStockFlowOutResponseJson;\r\n}\r\n\r\nconst refuseStockFlow = async (flowId) => {\r\n  let refuseStockFlowUrl = getApiHost() + '/product/refuseStockFlow';\r\n  refuseStockFlowUrl += '?flowId='\r\n  refuseStockFlowUrl += flowId;\r\n\r\n  const refuseStockFlowResponse = await fetch(refuseStockFlowUrl);\r\n  const refuseStockFlowResponseJson = await refuseStockFlowResponse.json();\r\n  return refuseStockFlowResponseJson;\r\n}\r\n\r\nconst confirmStockFlow = async (flowId) => {\r\n  let confirmStockFlowUrl = getApiHost() + '/product/confirmStockFlow';\r\n  confirmStockFlowUrl += '?flowId='\r\n  confirmStockFlowUrl += flowId;\r\n\r\n  const confirmStockFlowResponse = await fetch(confirmStockFlowUrl);\r\n  const confirmStockFlowResponseJson = await confirmStockFlowResponse.json();\r\n  return confirmStockFlowResponseJson;\r\n}\r\n\r\nconst getProductFlowList = async (userId, flowTypeId, beginDateTime, endDateTime) => {\r\n  // console.log('userId = ' + userId);\r\n  // console.log('flowTypeId = ' + flowTypeId);\r\n  // console.log('beginDateTime = ' + beginDateTime);\r\n  // console.log('endDateTime = ' + endDateTime);\r\n\r\n  let productFlowListUrl = getApiHost() + '/product/flowList';\r\n  productFlowListUrl += '?userId=';\r\n  productFlowListUrl += userId;\r\n  productFlowListUrl += '&flowTypeId=';\r\n  productFlowListUrl += flowTypeId;\r\n  productFlowListUrl += '&beginDateTime=';\r\n  productFlowListUrl += beginDateTime;\r\n  productFlowListUrl += '&endDateTime=';\r\n  productFlowListUrl += endDateTime;\r\n\r\n  const productFlowListResponse = await fetch(productFlowListUrl);\r\n  const productFlowListResponseJson = await productFlowListResponse.json();\r\n  return productFlowListResponseJson;\r\n}\r\n\r\nconst getFlowDetail = async (flowId) => {\r\n  let productFlowDetailUrl = getApiHost() + '/product/flowDetail';\r\n  productFlowDetailUrl += '?flowId=';\r\n  productFlowDetailUrl += flowId;\r\n\r\n  const productFlowDetailResponse = await fetch(productFlowDetailUrl);\r\n  const productFlowDetailResponseJson = await productFlowDetailResponse.json();\r\n  return productFlowDetailResponseJson;\r\n}\r\n\r\nconst getDIYCouponList = async (pageIndex, pageSize, keyword) => {\r\n  let diyCouponListUrl = getApiHost() + '/coupon/diyCouponList';\r\n\r\n  diyCouponListUrl += '?pageIndex='\r\n  diyCouponListUrl += pageIndex;\r\n  diyCouponListUrl += '&pageSize='\r\n  diyCouponListUrl += pageSize;\r\n  diyCouponListUrl += '&keyword='\r\n  diyCouponListUrl += keyword;\r\n\r\n  // console.log(diyCouponListUrl);\r\n  const diyCouponListResponse = await fetch(diyCouponListUrl);\r\n  const diyCouponListResponseJson = await diyCouponListResponse.json();\r\n  return diyCouponListResponseJson;\r\n}\r\n\r\nconst getMemberListByKeyword = async (keyword) => {\r\n  let memberListUrl = getApiHost() + '/member/memberList';\r\n\r\n  memberListUrl += '?keyword='\r\n  memberListUrl += keyword;\r\n\r\n  // console.log(memberListUrl);\r\n  const memberListResponse = await fetch(memberListUrl);\r\n  const memberListResponseJson = await memberListResponse.json();\r\n  return memberListResponseJson;\r\n}\r\n\r\nconst saveRemarkToCoupon = async (couponId, remarkText) => {\r\n  let saveRemarkUrl = getApiHost() + '/coupon/saveRemark';\r\n\r\n  saveRemarkUrl += '?couponId='\r\n  saveRemarkUrl += couponId;\r\n  saveRemarkUrl += '&remark='\r\n  saveRemarkUrl += remarkText;\r\n\r\n  // console.log(saveRemarkUrl);\r\n  const saveRemarkResponse = await fetch(saveRemarkUrl);\r\n  const saveRemarkResponseJson = await saveRemarkResponse.json();\r\n  return saveRemarkResponseJson;\r\n}\r\n\r\nconst sendSMSToMember = async (phoneNumber, templateParam1) => {\r\n  let sendSMSUrl = getApiHost() + '/coupon/sendSMS';\r\n\r\n  sendSMSUrl += '?phoneNumber='\r\n  sendSMSUrl += phoneNumber;\r\n  sendSMSUrl += '&templateParam1=';\r\n  sendSMSUrl += templateParam1;\r\n\r\n  // console.log(sendSMSUrl);\r\n  const sendSMSResponse = await fetch(sendSMSUrl);\r\n  const sendSMSResponseJson = await sendSMSResponse.json();\r\n  return sendSMSResponseJson;\r\n}\r\n\r\nconst createDIYEvent = async (started) => {\r\n  let createDIYEventUrl = getApiHost() + '/coupon/createDIYEvent';\r\n\r\n  createDIYEventUrl += '?started='\r\n  createDIYEventUrl += started;\r\n\r\n  // console.log(createDIYEventUrl);\r\n  const createDIYEventResponse = await fetch(createDIYEventUrl);\r\n  const createDIYEventResponseJson = await createDIYEventResponse.json();\r\n  return createDIYEventResponseJson;\r\n}\r\n\r\nconst DIYEventList = async () => {\r\n  let DIYEventListUrl = getApiHost() + '/coupon/DIYEventList';\r\n\r\n  // console.log(DIYEventListUrl);\r\n  const DIYEventListResponse = await fetch(DIYEventListUrl);\r\n  const DIYEventListResponseJson = await DIYEventListResponse.json();\r\n  return DIYEventListResponseJson;\r\n}\r\n\r\nconst DeleteDIYEvent = async (_id) => {\r\n  let deleteDIYEventUrl = getApiHost() + '/coupon/DeleteDIYEvent';\r\n  deleteDIYEventUrl += '?_id='\r\n  deleteDIYEventUrl += _id;\r\n\r\n  // console.log(deleteDIYEventUrl);\r\n  const DeleteDIYEventResponse = await fetch(deleteDIYEventUrl);\r\n  const DeleteDIYEventResponseJson = await DeleteDIYEventResponse.json();\r\n  return DeleteDIYEventResponseJson;\r\n}\r\n\r\nconst JoinToEvent = async (couponId, memberName, eventId) => {\r\n  let joinToEventUrl = getApiHost() + '/coupon/joinToEvent';\r\n  joinToEventUrl += '?couponId='\r\n  joinToEventUrl += couponId;\r\n  joinToEventUrl += '&memberName='\r\n  joinToEventUrl += memberName;\r\n  joinToEventUrl += '&eventId='\r\n  joinToEventUrl += eventId;\r\n\r\n  // console.log(joinToEventUrl);\r\n  const joinToEventUrlResponse = await fetch(joinToEventUrl);\r\n  const joinToEventUrlResponseJson = await joinToEventUrlResponse.json();\r\n  return joinToEventUrlResponseJson;\r\n}\r\n\r\nconst sendSMSAndJoinToEvent = async (\r\n  phoneNumber, templateParam1,\r\n  couponId, memberName, eventId) => {\r\n  let sendSMSAndJoinToEventUrl = getApiHost() + '/coupon/sendSMSAndJoinToEvent';\r\n\r\n  sendSMSAndJoinToEventUrl += '?phoneNumber='\r\n  sendSMSAndJoinToEventUrl += phoneNumber;\r\n  sendSMSAndJoinToEventUrl += '&templateParam1=';\r\n  sendSMSAndJoinToEventUrl += templateParam1;\r\n  sendSMSAndJoinToEventUrl += '&couponId='\r\n  sendSMSAndJoinToEventUrl += couponId;\r\n  sendSMSAndJoinToEventUrl += '&memberName='\r\n  sendSMSAndJoinToEventUrl += memberName;\r\n  sendSMSAndJoinToEventUrl += '&eventId='\r\n  sendSMSAndJoinToEventUrl += eventId;\r\n\r\n  // console.log(sendSMSAndJoinToEventUrl);\r\n  const sendSMSAndJoinToEventResponse = await fetch(sendSMSAndJoinToEventUrl);\r\n  const sendSMSAndJoinToEventResponseJson = await sendSMSAndJoinToEventResponse.json();\r\n  return sendSMSAndJoinToEventResponseJson;\r\n}\r\n\r\nconst LeaveFromEvent = async (couponId, memberName, eventId) => {\r\n  let LeaveFromEventUrl = getApiHost() + '/coupon/leaveFromEvent';\r\n  LeaveFromEventUrl += '?couponId='\r\n  LeaveFromEventUrl += couponId;\r\n  LeaveFromEventUrl += '&memberName='\r\n  LeaveFromEventUrl += memberName;\r\n  LeaveFromEventUrl += '&eventId='\r\n  LeaveFromEventUrl += eventId;\r\n\r\n  // console.log(LeaveFromEventUrl);\r\n  const leaveFromEventUrlResponse = await fetch(LeaveFromEventUrl);\r\n  const leaveFromEventUrlResponseJson = await leaveFromEventUrlResponse.json();\r\n  return leaveFromEventUrlResponseJson;\r\n}\r\n\r\nconst saveLastPage = async (page) => {\r\n  let saveLastPageUrl = getApiHost() + '/coupon/saveLastPage';\r\n  saveLastPageUrl += '?page='\r\n  saveLastPageUrl += page;\r\n\r\n  // console.log(saveLastPageUrl);\r\n  const saveLastPageResponse = await fetch(saveLastPageUrl);\r\n  const saveLastPageResponseJson = await saveLastPageResponse.json();\r\n  return saveLastPageResponseJson;\r\n}\r\n\r\nconst getLastPage = async () => {\r\n  let getLastPageUrl = getApiHost() + '/coupon/getLastPage';\r\n\r\n  // console.log(getLastPageUrl);\r\n  const getLastPageResponse = await fetch(getLastPageUrl);\r\n  const getLastPageResponseJson = await getLastPageResponse.json();\r\n  return getLastPageResponseJson;\r\n}\r\n\r\nconst loadElemeProducts = async () => {\r\n  let loadElemeProductsUrl = getApiHost() + '/product/loadElemeProducts';\r\n  loadElemeProductsUrl += '?userId=';\r\n  loadElemeProductsUrl += '3995767';\r\n  loadElemeProductsUrl += '&categoryId=';\r\n  loadElemeProductsUrl += '&status=';\r\n  loadElemeProductsUrl += '&keyword=';\r\n\r\n\r\n  // console.log(loadElemeProductsUrl);\r\n  const loadElemeProductsResponse = await fetch(loadElemeProductsUrl);\r\n  const loadElemeProductsResponseJson = await loadElemeProductsResponse.json();\r\n  return loadElemeProductsResponseJson;\r\n}\r\n\r\nconst loadProductsSale = async (categoryId, userIds, isSellWell, beginDateTime, endDateTime, orderColumn, asc) => {\r\n  let loadProductsSaleUrl = getApiHost() + '/product/loadProductsSale';\r\n  loadProductsSaleUrl += '?categoryId=';\r\n  loadProductsSaleUrl += categoryId;\r\n\r\n  loadProductsSaleUrl += '&userIds=';\r\n  loadProductsSaleUrl += userIds;\r\n\r\n  loadProductsSaleUrl += '&isSellWell=';\r\n  loadProductsSaleUrl += isSellWell;\r\n  loadProductsSaleUrl += '&beginDateTime=';\r\n  loadProductsSaleUrl += beginDateTime;\r\n  loadProductsSaleUrl += '&endDateTime=';\r\n  loadProductsSaleUrl += endDateTime;\r\n  loadProductsSaleUrl += '&orderColumn=';\r\n  loadProductsSaleUrl += orderColumn;\r\n  loadProductsSaleUrl += '&asc=';\r\n  loadProductsSaleUrl += asc;\r\n\r\n  // console.log(loadProductsSaleUrl);\r\n  const loadProductsSaleResponse = await fetch(loadProductsSaleUrl);\r\n  const loadProductsSaleResponseJson = await loadProductsSaleResponse.json();\r\n  return loadProductsSaleResponseJson;\r\n}\r\n\r\nconst loadBirthdayCakesRecommend = async () => {\r\n  let loadBirthdayCakesUrl = '/image/生日蛋糕/蛋糕3.0/a-推荐蛋糕.json';\r\n  loadBirthdayCakesUrl += '?random=';\r\n  loadBirthdayCakesUrl += Math.floor(Math.random() * 1000);\r\n\r\n  const loadBirthdayCakesResponse = await fetch(loadBirthdayCakesUrl, { mode: 'no-cors' });\r\n  const loadBirthdayCakesResponseJson = await loadBirthdayCakesResponse.json();\r\n  return loadBirthdayCakesResponseJson;\r\n}\r\n\r\nconst loadBirthdayCakesAll = async () => {\r\n  let loadBirthdayCakesUrl = '/image/生日蛋糕/蛋糕3.0/a-所有蛋糕.json';\r\n  loadBirthdayCakesUrl += '?random=';\r\n  loadBirthdayCakesUrl += Math.floor(Math.random() * 1000);\r\n\r\n  const loadBirthdayCakesResponse = await fetch(loadBirthdayCakesUrl, { mode: 'no-cors' });\r\n  const loadBirthdayCakesResponseJson = await loadBirthdayCakesResponse.json();\r\n  return loadBirthdayCakesResponseJson;\r\n}\r\n\r\nconst loadBirthdayCakesWXConfig = async () => {\r\n  let loadBirthdayCakesUrl = '/image/生日蛋糕/蛋糕3.0/a-微信配置.json';\r\n  loadBirthdayCakesUrl += '?random=';\r\n  loadBirthdayCakesUrl += Math.floor(Math.random() * 1000);\r\n\r\n  const loadBirthdayCakesResponse = await fetch(loadBirthdayCakesUrl, { mode: 'no-cors' });\r\n  const loadBirthdayCakesResponseJson = await loadBirthdayCakesResponse.json();\r\n  return loadBirthdayCakesResponseJson;\r\n}\r\n\r\nconst loadFoodsRecommend = async () => {\r\n  let loadFoodsRecommendUrl = '/image/面包牛奶/a-推荐面包牛奶.json';\r\n  loadFoodsRecommendUrl += '?random=';\r\n  loadFoodsRecommendUrl += Math.floor(Math.random() * 1000);\r\n\r\n  const loadFoodsRecommendResponse = await fetch(loadFoodsRecommendUrl, { mode: 'no-cors' });\r\n  const loadFoodsRecommendResponseJson = await loadFoodsRecommendResponse.json();\r\n  return loadFoodsRecommendResponseJson;\r\n}\r\n\r\nconst loadBreadAll = async () => {\r\n  let loadBreadAllUrl = '/image/面包牛奶/a-所有面包牛奶.json';\r\n  loadBreadAllUrl += '?random=';\r\n  loadBreadAllUrl += Math.floor(Math.random() * 1000);\r\n\r\n  const loadBreadAllResponse = await fetch(loadBreadAllUrl, { mode: 'no-cors' });\r\n  const loadBreadAllResponseJson = await loadBreadAllResponse.json();\r\n  return loadBreadAllResponseJson;\r\n}\r\n\r\nconst wechatSign = async (url) => {\r\n  let wechatSignUrl = getApiHost() + '/wechat/sign';\r\n  wechatSignUrl += '?url=';\r\n  wechatSignUrl += url;\r\n\r\n  // console.log(wechatSignUrl);\r\n  const wechatSignResponse = await fetch(wechatSignUrl);\r\n  const wechatSignResponseJson = await wechatSignResponse.json();\r\n  return wechatSignResponseJson;\r\n}\r\n\r\nconst templateSendToSomePeople =\r\n  async (_id, shop, orderTime,\r\n    cakeName, nameWithPhone, deliverTime\r\n  ) => {\r\n    let templateSendUrl = getApiHost() + '/wechat/templateSendToSomePeople';\r\n\r\n    let sendParamObj = {\r\n      _id: _id,\r\n      shop: shop,\r\n      orderTime: orderTime,\r\n      cakeName: cakeName,\r\n      nameWithPhone: nameWithPhone,\r\n      deliverTime: deliverTime\r\n    };\r\n\r\n    // console.log(templateSendUrl);\r\n    const templateSendResponse = await fetch(templateSendUrl, {\r\n      method: 'post',\r\n      body: JSON.stringify(sendParamObj),\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    });\r\n\r\n    const templateSendResponseJson = await templateSendResponse.json();\r\n    return templateSendResponseJson;\r\n  }\r\n\r\nconst geocode = async (address, city) => {\r\n  let geocodeUrl = getApiHost() + '/amap/geocode';\r\n  geocodeUrl += '?address='\r\n  geocodeUrl += address;\r\n  geocodeUrl += '&city='\r\n  geocodeUrl += city;\r\n\r\n  // console.log(geocodeUrl);\r\n  const geocodeResponse = await fetch(geocodeUrl);\r\n  const geocodeResponseJson = await geocodeResponse.json();\r\n  return geocodeResponseJson;\r\n}\r\n\r\nconst createCakeOrder = async (\r\n  name,\r\n  description,\r\n  images,\r\n  cream,\r\n  size,\r\n  sizeExtra,\r\n  price,\r\n  fillings,\r\n  candle,\r\n  candleExtra,\r\n  kindling,\r\n  hat,\r\n  plates,\r\n  pickUpDay,\r\n  pickUpTime,\r\n  pickUpType,\r\n  shop,\r\n  height,\r\n  address,\r\n  pickUpName,\r\n  phoneNumber,\r\n  remarks\r\n) => {\r\n  let createCakeOrderUrl = getApiHost() + '/cake/createOrder';\r\n\r\n  let creatParamObj = {\r\n    name: name,\r\n    description: description,\r\n    images: images,\r\n    cream: cream,\r\n    size: size,\r\n    sizeExtra: sizeExtra,\r\n    price: price,\r\n    fillings: fillings,\r\n    candle: candle,\r\n    candleExtra: candleExtra,\r\n    kindling: kindling,\r\n    hat: hat,\r\n    plates: plates,\r\n    pickUpDay: pickUpDay,\r\n    pickUpTime: pickUpTime,\r\n    pickUpType: pickUpType,\r\n    shop: shop,\r\n    height: height,\r\n    address: address,\r\n    pickUpName: pickUpName,\r\n    phoneNumber: phoneNumber,\r\n    remarks: remarks\r\n  };\r\n\r\n  // console.log(createCakeOrderUrl);\r\n  const createCakeOrderResponse = await fetch(createCakeOrderUrl, {\r\n    method: 'post',\r\n    body: JSON.stringify(creatParamObj),\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    }\r\n  });\r\n  const createCakeOrderResponseJson = await createCakeOrderResponse.json();\r\n  return createCakeOrderResponseJson;\r\n}\r\n\r\nconst findCakeOrder = async (_id) => {\r\n  let findCakeOrderUrl = getApiHost() + '/cake/findOrder';\r\n  findCakeOrderUrl += '?_id='\r\n  findCakeOrderUrl += _id;\r\n\r\n  // console.log(findCakeOrderUrl);\r\n  const findCakeOrderResponse = await fetch(findCakeOrderUrl);\r\n  const findCakeOrderResponseJson = await findCakeOrderResponse.json();\r\n  return findCakeOrderResponseJson;\r\n}\r\n\r\nconst allCakeInfos = async () => {\r\n  const allCakeInfosResponse = await fetch(\r\n    `/生日蛋糕/图册/0-蛋糕信息.json?random=${Math.floor(Math.random() * 1000)}`);\r\n  const cakeInfos = await allCakeInfosResponse.json();\r\n\r\n  const weixinInfosResponse = await fetch(\r\n    `/生日蛋糕/微信/weixin.json?random=${Math.floor(Math.random() * 1000)}`);\r\n  const weixinInfos = await weixinInfosResponse.json();\r\n  cakeInfos.weixin = weixinInfos.weixin;\r\n\r\n  const creamInfosResponse = await fetch(\r\n    `/生日蛋糕/奶油/cream.json?random=${Math.floor(Math.random() * 1000)}`);\r\n  const creamInfos = await creamInfosResponse.json();\r\n  cakeInfos.creams = creamInfos.creams;\r\n\r\n  const sizeInfosResponse = await fetch(\r\n    `/生日蛋糕/尺寸/size.json?random=${Math.floor(Math.random() * 1000)}`);\r\n  const sizeInfos = await sizeInfosResponse.json();\r\n  cakeInfos.sizes = sizeInfos.sizes;\r\n\r\n  const heightInfosResponse = await fetch(\r\n    `/生日蛋糕/高度/height.json?random=${Math.floor(Math.random() * 1000)}`);\r\n  const heightInfos = await heightInfosResponse.json();\r\n  cakeInfos.heights = heightInfos.heights;\r\n  cakeInfos.heightsDescription = heightInfos.heightsDescription;\r\n\r\n  const fillingsResponse = await fetch(\r\n    `/生日蛋糕/夹心/filling.json?random=${Math.floor(Math.random() * 1000)}`);\r\n  const fillingInfos = await fillingsResponse.json();\r\n  cakeInfos.fillings = fillingInfos.fillings;\r\n\r\n  const candlesResponse = await fetch(\r\n    `/生日蛋糕/蜡烛/candle.json?random=${Math.floor(Math.random() * 1000)}`);\r\n  const candleInfos = await candlesResponse.json();\r\n  cakeInfos.candles = candleInfos.candles;\r\n\r\n  const kindlingResponse = await fetch(\r\n    `/生日蛋糕/点火器/kindling.json?random=${Math.floor(Math.random() * 1000)}`);\r\n  const kindlingInfos = await kindlingResponse.json();\r\n  cakeInfos.kindlings = kindlingInfos.kindlings;\r\n\r\n  const hatResponse = await fetch(\r\n    `/生日蛋糕/帽子/hat.json?random=${Math.floor(Math.random() * 1000)}`);\r\n  const hatInfos = await hatResponse.json();\r\n  cakeInfos.hats = hatInfos.hats;\r\n\r\n  const pickUpTypeResponse = await fetch(\r\n    `/生日蛋糕/提货/pickUpType.json?random=${Math.floor(Math.random() * 1000)}`);\r\n  const pickUpTypeInfos = await pickUpTypeResponse.json();\r\n  cakeInfos.pickUpTypes = pickUpTypeInfos.pickUpTypes;\r\n\r\n  const shopResponse = await fetch(\r\n    `/生日蛋糕/门店/shop.json?random=${Math.floor(Math.random() * 1000)}`);\r\n  const shopInfos = await shopResponse.json();\r\n  cakeInfos.shops = shopInfos.shops;\r\n  cakeInfos.shopsDescription = shopInfos.shopsDescription;\r\n\r\n  const privateResponse = await fetch(\r\n    `/生日蛋糕/私人定制/private.json?random=${Math.floor(Math.random() * 1000)}`);\r\n  const privateInfos = await privateResponse.json();\r\n  cakeInfos.private = privateInfos.private;\r\n\r\n  for (let k = 0; k < cakeInfos.categorys.length; ++k) {\r\n    let category = cakeInfos.categorys[k];\r\n    let idAndName = category.id + '-' + category.name;\r\n\r\n    let productsUrl = `/生日蛋糕/图册/${idAndName}/0_products.json`;\r\n    productsUrl += '?random=';\r\n    productsUrl += Math.floor(Math.random() * 1000);\r\n    const productsResponse = await fetch(productsUrl);\r\n    const products = await productsResponse.json();\r\n\r\n    products.products.forEach(product => {\r\n      category.products.push(product);\r\n      cakeInfos.products.push(product);\r\n    });\r\n\r\n    if (category.images.length <= 0) {\r\n      let randomIndexs = [];\r\n      let countOfCategoryImages = 3;\r\n      if (countOfCategoryImages > products.products.length) {\r\n        countOfCategoryImages = products.products.length;\r\n      }\r\n      while (randomIndexs.length < countOfCategoryImages) {\r\n        let index = parseInt(Math.random() * products.products.length)\r\n        if (randomIndexs.indexOf(index) === -1) {\r\n          randomIndexs.push(index)\r\n        }\r\n      }\r\n\r\n      randomIndexs.forEach(index => {\r\n        let image = category.products[index]?.thumbnail;\r\n        category.images.push(image);\r\n      });\r\n    }\r\n  }\r\n\r\n  return cakeInfos;\r\n}\r\n\r\nconst allBreadInfos = async () => {\r\n  let allBreadInfosUrl = '/面包/1a-面包信息.json';\r\n  allBreadInfosUrl += '?random=';\r\n  allBreadInfosUrl += Math.floor(Math.random() * 1000);\r\n\r\n  const allBreadInfosResponse = await fetch(allBreadInfosUrl);\r\n  const allBreadInfosResponseJson = await allBreadInfosResponse.json();\r\n\r\n  let breadInfos = {};\r\n  breadInfos.categorys = allBreadInfosResponseJson.categorys;\r\n  breadInfos.products = allBreadInfosResponseJson.products;\r\n  breadInfos.recommend = allBreadInfosResponseJson.recommend;\r\n  breadInfos.weixin = allBreadInfosResponseJson.weixin;\r\n\r\n  for (let i = 0; i < breadInfos.products.length; ++i) {\r\n    let product = breadInfos.products[i];\r\n    /// 是否上架，上架的才显示\r\n    if (product?.onSale === false) continue;\r\n\r\n    for (let j = 0; j < breadInfos.recommend.productNames.length; ++j) {\r\n      let productName = breadInfos.recommend.productNames[j];\r\n      if (productName === product.name) {\r\n        let productNew = JSON.parse(JSON.stringify(product));\r\n        productNew.sortId = j;\r\n        productNew.buyNumber = 0;\r\n        breadInfos.recommend.products.push(productNew);\r\n        break;\r\n      }\r\n    }\r\n\r\n    for (let k = 0; k < breadInfos.categorys.length; ++k) {\r\n      let category = breadInfos.categorys[k];\r\n      if (product.categoryId === category.id) {\r\n        let productNew = JSON.parse(JSON.stringify(product));\r\n        productNew.buyNumber = 0;\r\n        category.products.push(productNew);\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  /// 根据sortId排序，sortId是位置索引\r\n  breadInfos.recommend.products =\r\n    breadInfos.recommend.products.sort((a, b) => a.sortId - b.sortId);\r\n\r\n  return breadInfos;\r\n}\r\n\r\nconst allBuildingInfos = async () => {\r\n  let allBuildingInfosUrl = '/小区楼栋图/1a-楼栋信息.json';\r\n  allBuildingInfosUrl += '?random=';\r\n  allBuildingInfosUrl += Math.floor(Math.random() * 1000);\r\n\r\n  const allBuildingInfosResponse = await fetch(allBuildingInfosUrl);\r\n  const allBuildingInfosResponseJson = await allBuildingInfosResponse.json();\r\n\r\n  let buildingInfos = {};\r\n  buildingInfos.buildings = allBuildingInfosResponseJson.buildings;\r\n  buildingInfos.weixin = allBuildingInfosResponseJson.weixin;\r\n\r\n  return buildingInfos;\r\n}\r\n\r\nexport {\r\n  getProductSaleList,\r\n  getProductDiscardList,\r\n  getProductSaleAndDiscardList,\r\n  getCouponSummaryList,\r\n  getProductOrderList,\r\n  getProductFlowList,\r\n  getFlowDetail,\r\n  getProductOrderItems,\r\n  findTemplate,\r\n  loadProductsByKeyword,\r\n  createStockFlowOut,\r\n  refuseStockFlow,\r\n  confirmStockFlow,\r\n  getDIYCouponList,\r\n  getMemberListByKeyword,\r\n  saveRemarkToCoupon,\r\n  sendSMSToMember,\r\n  createDIYEvent,\r\n  DIYEventList,\r\n  DeleteDIYEvent,\r\n  JoinToEvent,\r\n  LeaveFromEvent,\r\n  sendSMSAndJoinToEvent,\r\n  saveLastPage,\r\n  getLastPage,\r\n  loadElemeProducts,\r\n  loadProductsSale,\r\n  loadBirthdayCakesRecommend,\r\n  loadBirthdayCakesAll,\r\n  loadBirthdayCakesWXConfig,\r\n  loadFoodsRecommend,\r\n  loadBreadAll,\r\n  wechatSign,\r\n  templateSendToSomePeople,\r\n  geocode,\r\n  createCakeOrder,\r\n  findCakeOrder,\r\n  allCakeInfos,\r\n  allBreadInfos,\r\n  allBuildingInfos\r\n};\r\n","module.exports = __webpack_public_path__ + \"static/media/shoppingCart.09b8794b.png\";","module.exports = __webpack_public_path__ + \"static/media/教育局总店2号微信.a0f6db3a.jpg\";","\r\nconst getTest = () => {\r\n  return false;\r\n};\r\n\r\nconst getWWWHost = () => {\r\n  let wwwHost;\r\n  if (getTest()) {\r\n    wwwHost = 'http://localhost:4000';\r\n  } else {\r\n    let domainNameRule = /^(([-\\u4E00-\\u9FA5a-z0-9]{1,63})\\.)+([\\u4E00-\\u9FA5a-z]{2,63})\\.?$/\r\n    if (domainNameRule.test(document.domain)) {\r\n      wwwHost = 'http://gratefulwheat.ruyue.xyz';\r\n    } else if (document.domain === 'localhost') {\r\n      wwwHost = 'http://localhost:4000';\r\n    } else {\r\n      wwwHost = 'http://123.207.119.232';\r\n    }\r\n  }\r\n  // console.log('wwwHost = ' + wwwHost);\r\n  return wwwHost;\r\n}\r\n\r\nconst getAllShop = () => {\r\n  return [\r\n    { name: '所有门店', userId: '' },\r\n    { name: '001 - 弯麦(教育局店)', userId: '3995767' },\r\n    { name: '004 - 弯麦(汤泉店)', userId: '4061092' },\r\n    { name: '005 - 弯麦(盘陀店)', userId: '4339546' },\r\n    { name: '007 - 弯麦(联营店)', userId: '4382444' }\r\n  ];\r\n};\r\n\r\nconst getAllShopExceptAll = () => {\r\n  return [\r\n    { name: '001 - 弯麦(教育局店)', userId: '3995767' },\r\n    { name: '004 - 弯麦(汤泉店)', userId: '4061092' },\r\n    { name: '005 - 弯麦(盘陀店)', userId: '4339546' },\r\n    { name: '007 - 弯麦(联营店)', userId: '4382444' }\r\n  ];\r\n};\r\n\r\nconst getAllOrderShopName = () => {\r\n  return [\r\n    '001 - 弯麦(教育局店)',\r\n    '004 - 弯麦(汤泉店)',\r\n    '005 - 弯麦(盘陀店)',\r\n    '007 - 弯麦(联营店)'\r\n  ];\r\n};\r\n\r\nconst getOrderTemplates = () => {\r\n  return [\r\n    { name: '所有模板', templateId: '', templateUid: '' },\r\n    { name: '全部类型', templateId: '4974', templateUid: '1688217806649695085' },\r\n  ];\r\n};\r\n\r\nconst getOrderTypes = () => {\r\n  return [\r\n    { name: '所有类型', id: '' },\r\n    { name: '直营店-日常单', id: '163' },\r\n    { name: '德林-火烧铺1店', id: '320' },\r\n    { name: '德林-火烧铺2店', id: '323' },\r\n    { name: '德林-假日店', id: '321' },\r\n    { name: '德林-府前街店', id: '326' },\r\n    { name: '德林-学府店', id: '322' },\r\n    { name: '锦客隆-西湖店', id: '325' },\r\n    { name: '德林-湖滨店', id: '348' },\r\n    { name: '预留类型-2', id: '349' },\r\n    { name: '预留类型-3', id: '350' },\r\n    { name: '-', id: '400' }\r\n  ];\r\n};\r\n\r\nconst getAllCategorysExceptAll = () => {\r\n  return [\r\n    { name: '现烤面包', categoryId: '1593049816479739965' },\r\n    { name: '西点慕斯', categoryId: '1592989355905414162' },\r\n    { name: '常温蛋糕', categoryId: '1593049881212199906' },\r\n    { name: '吐司面包', categoryId: '1593049854760654816' },\r\n    { name: '餐包面包', categoryId: '1626767161867698544' }\r\n\r\n  ];\r\n};\r\n\r\nconst getOrderTimeType = () => {\r\n  return [\r\n    { name: '订货时间', timeType: '0' },\r\n    { name: '到货时间', timeType: '2' }\r\n  ];\r\n};\r\n\r\nconst getAllOrderTemplateName = () => {\r\n  return [\r\n    '全部类型'\r\n  ];\r\n};\r\n\r\nconst getProductSortIdArray = () => {\r\n  return {\r\n    /// 现烤\r\n    '187-2006251756022': 1, //高钙片\r\n    '187-2006291720144': 2, //焗烤三明治\r\n    '187-2007261431428': 3, //奶酪杯\r\n    '187-2006261548488': 4, //芝士鸡排三明治\r\n    '187-2006251720443': 5, //手工蛋挞\r\n    '187-2007171555580': 6, //全麦熏鸡三明治\r\n    /// 吐司餐包\r\n    '182-2106241432414': 1, //枫糖小吐司\r\n    '182-2106281603003': 2, //红豆小吐司\t\t\r\n    '182-2106281600071': 3, //坚果小吐司\t\t\t\r\n    '182-2106281603355': 4, //南瓜小吐司\t\t\t\t\r\n    '182-2106241433091': 5, //肉松小吐司\t\t\t\t\t\r\n    '182-2106281601535': 6, //椰蓉小吐司\t\t\t\t\r\n    '182-2010291510063': 7, //纯奶拉丝大吐司\t\t\t\t\t\r\n  };\r\n};\r\n\r\nconst getTemplateSortIdArray = () => {\r\n  return {\r\n    '全部类型': 1\r\n  };\r\n};\r\n\r\nconst getJustPrintWorkshopTemplates = () => {\r\n  return ['全部类型'];\r\n};\r\n\r\nconst getFlowType = () => {\r\n  return [\r\n    { name: '所有货单', flowTypeId: '' },\r\n    { name: '门店进货单', flowTypeId: '12' },\r\n    { name: '普通调货单', flowTypeId: '10' },\r\n    { name: '调拨退货单', flowTypeId: '23' },\r\n    { name: '普通出库单', flowTypeId: '17' },\r\n    { name: '采购退货单', flowTypeId: '14' },\r\n  ];\r\n};\r\n\r\nconst getOrderCashiers = () => {\r\n  return [\r\n    { name: '所有收银员', id: '' },\r\n    { name: '德林-火烧铺1店', id: '1' },\r\n    { name: '德林-火烧铺2店', id: '2' },\r\n    { name: '德林-学府店', id: '3' },\r\n    { name: '德林-假日店', id: '4' },\r\n    { name: '德林-府前街店', id: '5' },\r\n    { name: '锦客隆-西湖店', id: '6' },\r\n    { name: '徐碧莲', id: '7' },\r\n    { name: '王荣慧', id: '8' }\r\n  ];\r\n};\r\n\r\nconst getCategory4ProductPlanPrint = () => {\r\n  return [\r\n    {\r\n      'pDepartment': '前场',\r\n      'pCategory': ['弯麦小蛋糕', '弯麦西点慕斯', '弯麦小饮料']//分类名称和银豹系统一致\r\n    },\r\n    {\r\n      'pDepartment': '后场',\r\n      'pCategory': ['弯麦常温蛋糕']\r\n    },\r\n    {\r\n      'pDepartment': '后场',\r\n      'pCategory': ['弯麦现烤面包']\r\n    },\r\n    {\r\n      'pDepartment': '后场',\r\n      'pCategory': ['弯麦餐包面包']\r\n    },\r\n    {\r\n      'pDepartment': '后场',\r\n      'pCategory': ['弯麦切片面包', '弯麦吐司面包']\r\n    }];\r\n}\r\n\r\nconst getCategory4ProductDistributePrint = () => {\r\n  return [\r\n    {\r\n      'pDepartment': '前场',\r\n      'pCategory': ['弯麦小蛋糕', '弯麦西点慕斯', '弯麦小饮料']//分类名称和银豹系统一致\r\n    },\r\n    {\r\n      'pDepartment': '后场',\r\n      'pCategory': ['弯麦现烤面包', '弯麦常温蛋糕']\r\n    },\r\n    {\r\n      'pDepartment': '后场',\r\n      'pCategory': ['弯麦餐包面包']\r\n    },\r\n    {\r\n      'pDepartment': '后场',\r\n      'pCategory': ['弯麦切片面包', '弯麦吐司面包']\r\n    }];\r\n}\r\n\r\n\r\n// 'EPSON L380 Series' 或者 'EPSON LQ-735K ESC/P2'\r\nconst KA4PrinterName = 'EPSON L380 Series';\r\nconst getA4PrinterName = () => {\r\n  return KA4PrinterName;\r\n};\r\n\r\nconst getA4PrinterIndex = (LODOP) => {\r\n  let a4PrinterIndex = -1;\r\n  var iPrinterCount = LODOP.GET_PRINTER_COUNT();\r\n  for (let i = 0; i < iPrinterCount; i++) {\r\n    let name = LODOP.GET_PRINTER_NAME(i);\r\n    if (name === KA4PrinterName) {\r\n      a4PrinterIndex = i;\r\n      break;\r\n    }\r\n  };\r\n  return a4PrinterIndex;\r\n};\r\n\r\nconst getPageName4A4Printer = () => {\r\n  return 'A4';\r\n};\r\n\r\nconst KNeedlePrinterName = 'EPSON LQ-735K ESC/P2';\r\nconst getNeedlePrinterName = () => {\r\n  return KNeedlePrinterName;\r\n};\r\n\r\nconst getNeedlePrinterIndex = (LODOP) => {\r\n  let needlePrinterIndex = -1;\r\n  var iPrinterCount = LODOP.GET_PRINTER_COUNT();\r\n  for (let i = 0; i < iPrinterCount; i++) {\r\n    let name = LODOP.GET_PRINTER_NAME(i);\r\n    if (name === KNeedlePrinterName) {\r\n      needlePrinterIndex = i;\r\n      break;\r\n    }\r\n  };\r\n  return needlePrinterIndex;\r\n};\r\n\r\nconst getPageName4NeedlePrinter = () => {\r\n  return '针打三等分';\r\n};\r\n\r\nconst KLabelPrinterName = '炫印P3(标签)';\r\nconst getLabelPrinterName = () => {\r\n  return KLabelPrinterName;\r\n};\r\n\r\nconst getLabelPrinterIndex = (LODOP) => {\r\n  let labelPrinterIndex = -1;\r\n  var iPrinterCount = LODOP.GET_PRINTER_COUNT();\r\n  for (let i = 0; i < iPrinterCount; i++) {\r\n    let name = LODOP.GET_PRINTER_NAME(i);\r\n    if (name === KLabelPrinterName) {\r\n      labelPrinterIndex = i;\r\n      break;\r\n    }\r\n  };\r\n  return labelPrinterIndex;\r\n};\r\n\r\nexport {\r\n  getTest,\r\n  getWWWHost,\r\n  getAllShop,\r\n  getAllShopExceptAll,\r\n  getAllCategorysExceptAll,\r\n  getAllOrderShopName,\r\n  getOrderTemplates,\r\n  getOrderTypes,\r\n  getOrderTimeType,\r\n  getAllOrderTemplateName,\r\n  getFlowType,\r\n  getOrderCashiers,\r\n  getProductSortIdArray,\r\n  getTemplateSortIdArray,\r\n  getJustPrintWorkshopTemplates,\r\n  getCategory4ProductPlanPrint,\r\n  getCategory4ProductDistributePrint,\r\n  getA4PrinterName,\r\n  getA4PrinterIndex,\r\n  getPageName4A4Printer,\r\n  getNeedlePrinterName,\r\n  getNeedlePrinterIndex,\r\n  getPageName4NeedlePrinter,\r\n  getLabelPrinterName,\r\n  getLabelPrinterIndex\r\n}","module.exports = __webpack_public_path__ + \"static/media/logo.224b18a1.png\";","module.exports = __webpack_public_path__ + \"static/media/弯麦logo方-黑白.af8ef17f.png\";","/*\r\n生产 VS 配货\r\n*/\r\nimport React from 'react';\r\nimport {\r\n    Button, Menu, Dropdown, Space,\r\n    DatePicker, Table, message, Modal\r\n} from 'antd';\r\nimport { DownOutlined } from '@ant-design/icons';\r\nimport 'moment/locale/zh-cn';\r\nimport locale from 'antd/es/date-picker/locale/zh_CN';\r\nimport moment from 'moment';\r\nimport {\r\n    getProductOrderList,\r\n    getProductOrderItems\r\n} from '../api/api';\r\nimport {\r\n    getWWWHost,\r\n    getAllShop,\r\n    getOrderTemplates,\r\n    getOrderTypes,\r\n    getOrderTimeType,\r\n    getOrderCashiers\r\n} from '../api/util';\r\n\r\nconst { RangePicker } = DatePicker;\r\n\r\n/**--------------------配置信息--------------------*/\r\n/// 门店信息\r\nconst KAllShops = getAllShop();\r\n/// 模板信息\r\nconst KOrderTemplates = getOrderTemplates();\r\n/// 类型信息\r\nconst KOrderTypes = getOrderTypes();\r\n/// 收银员（联营店）\r\nconst KOrderCashiers = getOrderCashiers();\r\n/// 订单时间类型\r\nconst KOrderTimeType = getOrderTimeType();\r\n\r\nconst KOrderDetailColumns4Table = [\r\n    { title: '序', dataIndex: 'key', key: 'key', width: 40, render: (text) => { return <span style={{ fontSize: 10 }}>{text}</span>; } },\r\n    { title: '条码', dataIndex: 'barcode', key: 'barcode', width: 140, render: (text) => { return <span style={{ fontSize: 10 }}>{text}</span>; } },\r\n    { title: '名称', dataIndex: 'orderProductName', key: 'orderProductName', width: 140, render: (text) => { return <span style={{ fontSize: 10 }}>{text}</span>; } },\r\n    { title: '规格', dataIndex: 'specification', key: 'specification', width: 140, render: (text) => { return <span style={{ fontSize: 10 }}>{text}</span>; } },\r\n    { title: '类别', dataIndex: 'categoryName', key: 'categoryName', width: 100, render: (text) => { return <span style={{ fontSize: 10 }}>{text}</span>; } },\r\n    { title: '订货量', dataIndex: 'orderNumber', key: 'orderNumber', width: 80, render: (text) => { return <span style={{ fontSize: 10 }}>{text}</span>; } },\r\n    { title: '配货价', dataIndex: 'transferPrice', key: 'transferPrice', width: 80, render: (text) => { return <span style={{ fontSize: 10 }}>{text}</span>; } },\r\n    { title: '总计(元)', dataIndex: 'amount', key: 'amount', width: 80, render: (text) => { return <span style={{ fontSize: 10 }}>{text}</span>; } },\r\n    { title: '备注', dataIndex: 'remark', key: 'remark', width: '*', render: (text) => { return <span style={{ fontSize: 10 }}>{text}</span>; } },\r\n];\r\n\r\nclass OrderManagement extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            /// 订单列表\r\n            alreadyOrderListData: [],\r\n            alreadyOrderLoading: false,\r\n            currentShop4OrderList: KAllShops[0],\r\n            currentTemplate4OrderList: KOrderTemplates[0],\r\n            currentOrderType4OrderList: KOrderTypes[0],\r\n            currentOrderCashier: KOrderCashiers[0],\r\n            currentOrderTimeType: KOrderTimeType[0],\r\n            beginDateTime4OrderList: moment().startOf('day'),\r\n            endDateTime4OrderList: moment().endOf('day'),\r\n            timePickerOpen4OrderList: false,\r\n            selectedRowKeys4OrderList: [],\r\n\r\n            orderDetailData: [],\r\n            orderDetailLoading: false,\r\n            orderDetailModalVisible: false,\r\n            orderDetailDataAmount: 0,\r\n            currentOrderShopName: '',\r\n            currentOrderTime: ''\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        let query = this.props.query;\r\n        let paramValueStr = query && query.get('param');\r\n        this.initFilterByParam(paramValueStr);\r\n        this.fetchOrderList();\r\n    };\r\n\r\n    initFilterByParam(param) {\r\n        if (param) {\r\n            param = unescape(param);\r\n            let paramValueObj = JSON.parse(param);\r\n            this.setState({\r\n                currentTemplate4OrderList: paramValueObj.template,\r\n                currentOrderType4OrderList: paramValueObj.orderType,\r\n                currentOrderCashier: paramValueObj.orderCashier,\r\n                currentOrderTimeType: paramValueObj.timeType,\r\n                currentShop4OrderList: paramValueObj.shop,\r\n                beginDateTime4OrderList: moment(paramValueObj.beginDateTime),\r\n                endDateTime4OrderList: moment(paramValueObj.endDateTime)\r\n            });\r\n        }\r\n    }\r\n\r\n    makeParamByState() {\r\n        let paramValueObj = {};\r\n\r\n        const {\r\n            alreadyOrderListData,\r\n            currentShop4OrderList,\r\n            currentTemplate4OrderList,\r\n            currentOrderType4OrderList,\r\n            currentOrderCashier,\r\n            currentOrderTimeType,\r\n            selectedRowKeys4OrderList,\r\n            beginDateTime4OrderList,\r\n            endDateTime4OrderList } = this.state;\r\n        let alreadyOrderListDataAfterFilter = [];\r\n        for (let ii = 0; ii < alreadyOrderListData.length; ++ii) {\r\n            let orderItem = alreadyOrderListData[ii];\r\n            if (selectedRowKeys4OrderList.indexOf(orderItem.key) === -1) continue;\r\n            alreadyOrderListDataAfterFilter.push(orderItem);\r\n        }\r\n\r\n        paramValueObj.orderList = alreadyOrderListDataAfterFilter;\r\n        paramValueObj.template = currentTemplate4OrderList;\r\n        paramValueObj.orderType = currentOrderType4OrderList;\r\n        paramValueObj.orderCashier = currentOrderCashier;\r\n        paramValueObj.timeType = currentOrderTimeType;\r\n        paramValueObj.shop = currentShop4OrderList;\r\n        paramValueObj.beginDateTime = beginDateTime4OrderList;\r\n        paramValueObj.endDateTime = endDateTime4OrderList;\r\n\r\n        let paramValueStr = JSON.stringify(paramValueObj);\r\n        let paramStr = 'param=' + escape(paramValueStr);\r\n\r\n        return paramStr;\r\n    }\r\n\r\n    fetchOrderList = async () => {\r\n        try {\r\n            this.setState({\r\n                alreadyOrderListData: [],\r\n                alreadyOrderLoading: true,\r\n                selectedRowKeys4OrderList: []\r\n            }, async () => {\r\n                const {\r\n                    currentShop4OrderList,\r\n                    currentTemplate4OrderList,\r\n                    currentOrderType4OrderList,\r\n                    currentOrderCashier,\r\n                    currentOrderTimeType,\r\n                    beginDateTime4OrderList,\r\n                    endDateTime4OrderList\r\n                } = this.state;\r\n                let orderList = [];\r\n                let selectedRowKeys = [];\r\n                let beginDateTimeStr = beginDateTime4OrderList.format('YYYY.MM.DD%2BHH:mm:ss');\r\n                let endDateTimeStr = endDateTime4OrderList.format('YYYY.MM.DD%2BHH:mm:ss');\r\n                const productOrder = await getProductOrderList(currentShop4OrderList.userId,\r\n                    currentTemplate4OrderList.templateId, currentOrderTimeType.timeType,\r\n                    beginDateTimeStr, endDateTimeStr);\r\n                // console.log(productOrder);\r\n\r\n                if (productOrder && productOrder.errCode === 0) {\r\n                    for (let i = 0; i < productOrder.list.length; ++i) {\r\n                        // 根据订单类型和收银员筛选\r\n                        if ((currentOrderType4OrderList.id === '' && currentOrderCashier.id === '') ||\r\n                            (currentOrderType4OrderList.id === '' && currentOrderCashier.name === productOrder.list[i].orderCashier) ||\r\n                            (currentOrderCashier.id === '' && currentOrderType4OrderList.name === productOrder.list[i].orderType) ||\r\n                            (currentOrderCashier.name === productOrder.list[i].orderCashier && currentOrderType4OrderList.name === productOrder.list[i].orderType)) {\r\n                            orderList.push(productOrder.list[i]);\r\n                        }\r\n                    }\r\n\r\n                    orderList = orderList.sort((item1, item2) => {\r\n                        return item1.orderShopIndex - item2.orderShopIndex;\r\n                    });\r\n                    orderList.forEach(order => {\r\n                        order.key = orderList.indexOf(order) + 1;\r\n                        selectedRowKeys.push(order.key);\r\n                    });\r\n                }\r\n                // console.log(selectedRowKeys);\r\n\r\n                this.setState({\r\n                    alreadyOrderListData: orderList,\r\n                    selectedRowKeys4OrderList: selectedRowKeys,\r\n                    alreadyOrderLoading: false\r\n                });\r\n            });\r\n        } catch (err) {\r\n            this.setState({ alreadyOrderLoading: false });\r\n        }\r\n    };\r\n\r\n    fetchOrderDetail = async (currentOrderId) => {\r\n        try {\r\n            this.setState({ orderDetailData: [], orderDetailLoading: true }, async () => {\r\n                const orderItems = await getProductOrderItems(currentOrderId);\r\n                let list = [];\r\n                if (orderItems && orderItems.errCode === 0 && orderItems.items) {\r\n                    list = orderItems.items;\r\n                }\r\n                let amount = list.reduce((pre, cur) => {\r\n                    let amount = parseFloat(cur.amount)\r\n                    return pre + amount;\r\n                }, 0)\r\n                // console.log('amount = ' + amount)\r\n                this.setState({\r\n                    orderDetailData: list,\r\n                    orderDetailLoading: false,\r\n                    orderDetailDataAmount: amount.toFixed(2)\r\n                });\r\n            });\r\n        } catch (err) {\r\n            this.setState({ orderDetailLoading: false });\r\n        }\r\n    };\r\n\r\n    onOrderItemSelectChange = (selectedRowKeys) => {\r\n        // console.log('onOrderItemSelectChange: ', selectedRowKeys);\r\n        this.setState({ selectedRowKeys4OrderList: selectedRowKeys });\r\n    };\r\n\r\n    handleProductLabelPrint = async () => {\r\n        window.location.replace(\r\n            getWWWHost() +\r\n            '/productLabelPrinter?' +\r\n            this.makeParamByState());\r\n    };\r\n\r\n    // 生产单打印\r\n    handleProductionPrint = () => {\r\n        window.location.replace(\r\n            getWWWHost() +\r\n            '/productionPlanPrinter1?' +\r\n            this.makeParamByState());\r\n    };\r\n    // 配货单打印\r\n    handleDistributionPrint = () => {\r\n        window.location.replace(\r\n            getWWWHost() +\r\n            '/productDistributePrinter1?' +\r\n            this.makeParamByState());\r\n    };\r\n\r\n    // handleDistributionInput = () => {\r\n    //     window.location.replace(\r\n    //         getWWWHost() +\r\n    //         '/productDistributeInputer?' +\r\n    //         this.makeParamByState());\r\n    // };\r\n\r\n    getDayTip4BeginAndEnd = () => {\r\n        const {\r\n            beginDateTime4OrderList,\r\n            endDateTime4OrderList\r\n        } = this.state;\r\n\r\n        let begin = beginDateTime4OrderList;\r\n        let end = endDateTime4OrderList;\r\n\r\n        let dayTip = '';\r\n\r\n        let todayBegin = moment().startOf('day');\r\n        let todayEnd = moment().endOf('day');\r\n\r\n        let yesterdayBegin = moment().subtract(1, 'day').startOf('day');\r\n        let yesterdayEnd = moment().subtract(1, 'day').endOf('day');\r\n\r\n        let tomorrowBegin = moment().add(1, 'day').startOf('day');\r\n        let tomorrowEnd = moment().add(1, 'day').endOf('day');\r\n\r\n        if (begin.diff(todayBegin, 'milliseconds') === 0 && end.diff(todayEnd) === 0) {\r\n            dayTip = '今天';\r\n        } else if (begin.diff(yesterdayBegin, 'milliseconds') === 0 && end.diff(yesterdayEnd) === 0) {\r\n            dayTip = '昨天';\r\n        } else if (begin.diff(tomorrowBegin, 'milliseconds') === 0 && end.diff(tomorrowEnd) === 0) {\r\n            dayTip = '明天';\r\n        }\r\n\r\n        return dayTip;\r\n    };\r\n\r\n    handleSetFilter4Production = () => {\r\n        this.setState({\r\n            currentShop4OrderList: KAllShops[0],\r\n            currentOrderType4OrderList: KOrderTypes[0],\r\n            currentOrderCashier: KOrderCashiers[0],\r\n            currentTemplate4OrderList: KOrderTemplates[1],\r\n            currentOrderTimeType: KOrderTimeType[0],\r\n            beginDateTime4OrderList: moment().startOf('day'),\r\n            endDateTime4OrderList: moment().endOf('day')\r\n        }, async () => {\r\n            await this.fetchOrderList();\r\n        })\r\n    }\r\n\r\n    handleSetFilter4Distribution = () => {\r\n        this.setState({\r\n            currentShop4OrderList: KAllShops[1],\r\n            currentOrderType4OrderList: KOrderTypes[0],\r\n            currentOrderCashier: KOrderCashiers[0],\r\n            currentTemplate4OrderList: KOrderTemplates[0],\r\n            currentOrderTimeType: KOrderTimeType[0],\r\n            beginDateTime4OrderList: moment().add(0, 'day').startOf('day'),\r\n            endDateTime4OrderList: moment().add(0, 'day').endOf('day')\r\n        }, async () => {\r\n            await this.fetchOrderList();\r\n        })\r\n    }\r\n\r\n    handleSetCurrentShopFilter = (info) => {\r\n        this.setState({ currentShop4OrderList: KAllShops[info.key] }, async () => {\r\n            await this.fetchOrderList();\r\n        })\r\n    }\r\n\r\n    handleSetCurrentOrderTypeFilter = (info) => {\r\n        this.setState({ currentOrderType4OrderList: KOrderTypes[info.key] }, async () => {\r\n            await this.fetchOrderList();\r\n        })\r\n    }\r\n\r\n    handleSetCurrentOrderCashierFilter = (info) => {\r\n        this.setState({ currentOrderCashier: KOrderCashiers[info.key] }, async () => {\r\n            await this.fetchOrderList();\r\n        })\r\n    }\r\n\r\n    handleSetCurrentTemplateFilter = (info) => {\r\n        this.setState({ currentTemplate4OrderList: KOrderTemplates[info.key] }, async () => {\r\n            await this.fetchOrderList();\r\n        })\r\n    }\r\n\r\n    handleSetCurrentOrderTimeTypeFilter = (info) => {\r\n        this.setState({ currentOrderTimeType: KOrderTimeType[info.key] }, async () => {\r\n            await this.fetchOrderList();\r\n        });\r\n    }\r\n\r\n    handleTimePickerOpenChange = (open) => {\r\n        this.setState({ timePickerOpen4OrderList: open })\r\n    }\r\n\r\n    handleTimePickerOnOk = (data) => {\r\n        if (data.length >= 2 && data[0] && data[1]) {\r\n            if (data[0] > data[1]) {\r\n                message.info('请输入正确时间！');\r\n                return;\r\n            }\r\n\r\n            this.setState({ beginDateTime4OrderList: data[0], endDateTime4OrderList: data[1] },\r\n                () => this.fetchOrderList());\r\n        }\r\n    }\r\n\r\n    refreshBeginAndEndDateTime = (begin, end) => {\r\n        this.setState(\r\n            { beginDateTime4OrderList: begin, endDateTime4OrderList: end, timePickerOpen4OrderList: false },\r\n            () => this.fetchOrderList());\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            alreadyOrderListData, currentShop4OrderList, currentTemplate4OrderList,\r\n            currentOrderType4OrderList, currentOrderCashier, currentOrderTimeType,\r\n            alreadyOrderLoading, beginDateTime4OrderList, endDateTime4OrderList,\r\n            timePickerOpen4OrderList, selectedRowKeys4OrderList,\r\n            orderDetailData, orderDetailLoading,\r\n            orderDetailDataAmount, orderDetailModalVisible,\r\n            currentOrderShopName, currentOrderTime\r\n        } = this.state;\r\n\r\n        const alreadyOrderRowSelection = {\r\n            selectedRowKeys: selectedRowKeys4OrderList,\r\n            onChange: this.onOrderItemSelectChange,\r\n        };\r\n\r\n        let disableProductionPrint =\r\n            currentShop4OrderList.userId !== '' ||\r\n            currentOrderType4OrderList.id !== '' ||\r\n            currentOrderCashier.id !== '' ||\r\n            currentTemplate4OrderList.templateId === '' ||\r\n            selectedRowKeys4OrderList.length <= 0;\r\n\r\n        let disableDistributionButtonPrint =\r\n            currentShop4OrderList.userId === '' ||\r\n            currentTemplate4OrderList.templateId !== '' ||\r\n            selectedRowKeys4OrderList.length <= 0;\r\n\r\n        /// 订单列表头配置\r\n        const KOrderColumns4Table = [\r\n            { title: '序', dataIndex: 'key', key: 'key', width: 40, render: (text) => { return <span style={{ fontSize: 10 }}>{text}</span>; } },\r\n            { title: '订货门店', dataIndex: 'orderShop', key: 'orderShop', width: 150, render: (text) => { return <span style={{ fontSize: 10, color: 'red' }}>{text}</span>; } },\r\n            { title: '类型 || 联营门店', dataIndex: 'orderType', key: 'orderType', width: 150, render: (text) => { return <span style={{ fontSize: 10 }}>{text}</span>; } },\r\n            { title: '模板名称', dataIndex: 'templateName', key: 'templateName', width: 100, render: (text) => { return <span style={{ fontSize: 10 }}>{text}</span>; } },\r\n            { title: '订货单号', dataIndex: 'orderSerialNumber', key: 'orderSerialNumber', width: 180, render: (text) => { return <span style={{ fontSize: 10 }}>{text}</span>; } },\r\n            { title: '订货时间', dataIndex: 'orderTime', key: 'orderTime', width: 150, render: (text) => { return <span style={{ fontSize: 10 }}>{text}</span>; } },\r\n            { title: '期望到货', dataIndex: 'expectTime', key: 'expectTime', width: 100, render: (text) => { return <span style={{ fontSize: 10 }}>{text}</span>; } },\r\n            { title: '订货收银员', dataIndex: 'orderCashier', key: 'orderCashier', width: 100, render: (text) => { return <span style={{ fontSize: 10 }}>{text}</span>; } },\r\n            { title: '配货门店', dataIndex: 'prepareShop', key: 'prepareShop', width: 100, render: (text) => { return <span style={{ fontSize: 10 }}>{text}</span>; } },\r\n            { title: '状态', dataIndex: 'status', key: 'status', width: 100, render: (text) => { return <span style={{ fontSize: 10 }}>{text}</span>; } },\r\n            {\r\n                title: '操作', dataIndex: 'action', key: 'action', width: '80',\r\n                render: (text, record) => {\r\n                    return (\r\n                        <Space size=\"middle\">\r\n                            <Button size='small' onClick={() => {\r\n                                this.setState({\r\n                                    orderDetailModalVisible: true,\r\n                                    currentOrderShopName: record.orderShop,\r\n                                    currentOrderTime: record.orderTime\r\n                                }, () => {\r\n                                    this.fetchOrderDetail(record.orderId);\r\n                                })\r\n                            }}>查看</Button>\r\n                        </Space>\r\n                    )\r\n                }\r\n            },\r\n            { title: '备注', dataIndex: 'remark', key: 'remark', width: '*', render: (text) => { return <span style={{ fontSize: 10 }}>{text}</span>; } }\r\n        ];\r\n\r\n        return (\r\n            <div>\r\n                <Modal\r\n                    width={1000}\r\n                    centered\r\n                    keyboard={true}\r\n                    maskClosable={false}\r\n                    title={(\r\n                        <div>\r\n                            <div style={{ color: 'gray', fontSize: 8 }}>{currentOrderShopName}</div>\r\n                            <div style={{ color: 'gray', fontSize: 8 }}>{currentOrderTime}</div>\r\n                        </div>\r\n                    )}\r\n                    visible={orderDetailModalVisible}\r\n                    okText='知道了'\r\n                    cancelButtonProps={{ hidden: true }}\r\n                    onOk={() => {\r\n                        this.setState({ orderDetailModalVisible: false });\r\n                    }}\r\n                    onCancel={() => {\r\n                        this.setState({ orderDetailModalVisible: false });\r\n                    }}>\r\n                    <Table\r\n                        style={{ marginTop: 10 }}\r\n                        size='small'\r\n                        loading={orderDetailLoading}\r\n                        dataSource={orderDetailData}\r\n                        columns={KOrderDetailColumns4Table}\r\n                        pagination={false} bordered\r\n                        scroll={{ y: 400, scrollToFirstRowOnChange: true }}\r\n                        footer={() => {\r\n                            return (\r\n                                <div style={{ textAlign: 'center', height: 15, fontSize: 12 }}>\r\n                                    {`总共 ${orderDetailData.length} 项，总计 ${orderDetailDataAmount} 元`}\r\n                                </div>\r\n                            )\r\n                        }} />\r\n                </Modal>\r\n                {/* 标题 */}\r\n                <div style={{ marginLeft: 30, marginTop: 8, fontSize: 18 }}>\r\n                    <span>生产 VS 配货</span>\r\n                    <span style={{ marginLeft: 30, marginRight: 30 }}>\r\n                        <Button danger onClick={this.handleSetFilter4Production}>生产单</Button>\r\n                        <Button style={{ marginLeft: 6 }} danger onClick={this.handleSetFilter4Distribution}>配货单</Button>\r\n                        <Button disabled style={{ marginLeft: 18 }} onClick={this.handleProductLabelPrint}>标签打印</Button>\r\n                    </span>\r\n                </div>\r\n\r\n                {/* 过滤选项 */}\r\n                <div style={{ marginLeft: 30, marginTop: 4, marginRight: 30 }}>\r\n                    <Dropdown\r\n                        overlay={(<Menu onClick={this.handleSetCurrentShopFilter}>\r\n                            {KAllShops.map((shop) => {\r\n                                return (<Menu.Item\r\n                                    key={KAllShops.indexOf(shop)}\r\n                                    style={{ color: shop.name === currentShop4OrderList.name ? 'red' : 'black' }}>\r\n                                    {shop.name}\r\n                                </Menu.Item>);\r\n                            })}\r\n                        </Menu>)} arrow trigger={['click']} disabled={alreadyOrderLoading}>\r\n                        <Button size=\"small\" style={{ width: 160, marginLeft: 8, marginTop: 4 }} onClick={e => e.preventDefault()}>\r\n                            {currentShop4OrderList.name}\r\n                            <DownOutlined />\r\n                        </Button>\r\n                    </Dropdown>\r\n                    <Dropdown\r\n                        overlay={(<Menu onClick={this.handleSetCurrentOrderTypeFilter}>\r\n                            {KOrderTypes.map((orderType) => {\r\n                                return (<Menu.Item\r\n                                    key={KOrderTypes.indexOf(orderType)}\r\n                                    style={{ color: orderType.name === currentOrderType4OrderList.name ? 'red' : 'black' }}>\r\n                                    {orderType.name}\r\n                                </Menu.Item>);\r\n                            })}\r\n                        </Menu>)} arrow trigger={['click']} disabled={alreadyOrderLoading}>\r\n                        <Button size=\"small\" style={{ width: 160, marginLeft: 8, marginTop: 4 }} onClick={e => e.preventDefault()}>\r\n                            {currentOrderType4OrderList.name}\r\n                            <DownOutlined />\r\n                        </Button>\r\n                    </Dropdown>\r\n                    <Dropdown\r\n                        overlay={(<Menu onClick={this.handleSetCurrentOrderCashierFilter} >\r\n                            {KOrderCashiers.map((cashier) => {\r\n                                return (<Menu.Item\r\n                                    key={KOrderCashiers.indexOf(cashier)}\r\n                                    style={{ color: cashier.name === currentOrderCashier.name ? 'red' : 'black' }}>\r\n                                    {cashier.name}\r\n                                </Menu.Item>);\r\n                            })}\r\n                        </Menu>)} arrow trigger={['click']} disabled={alreadyOrderLoading}>\r\n                        <Button size=\"small\" style={{ width: 160, marginLeft: 8, marginTop: 4 }} onClick={e => e.preventDefault()}>\r\n                            {currentOrderCashier.name}\r\n                            <DownOutlined />\r\n                        </Button>\r\n                    </Dropdown>\r\n                    <Dropdown\r\n                        overlay={(<Menu onClick={this.handleSetCurrentTemplateFilter}>\r\n                            {KOrderTemplates.map((template) => {\r\n                                return (<Menu.Item\r\n                                    key={KOrderTemplates.indexOf(template)}\r\n                                    style={{ color: template.name === currentTemplate4OrderList.name ? 'red' : 'black' }}>\r\n                                    {template.name}\r\n                                </Menu.Item>);\r\n                            })}\r\n                        </Menu>)} arrow trigger={['click']} disabled={alreadyOrderLoading}>\r\n                        <Button size=\"small\" style={{ width: 160, marginLeft: 8, marginTop: 4 }} onClick={e => e.preventDefault()}>\r\n                            {currentTemplate4OrderList.name}\r\n                            <DownOutlined />\r\n                        </Button>\r\n                    </Dropdown>\r\n                    <Dropdown\r\n                        overlay={(<Menu onClick={this.handleSetCurrentOrderTimeTypeFilter} >\r\n                            {KOrderTimeType.map((timeType) => {\r\n                                return (<Menu.Item\r\n                                    key={KOrderTimeType.indexOf(timeType)}\r\n                                    style={{ color: timeType.name === currentOrderTimeType.name ? 'red' : 'black' }}>\r\n                                    {timeType.name}\r\n                                </Menu.Item>);\r\n                            })}\r\n                        </Menu>)} arrow trigger={['click']} disabled={alreadyOrderLoading}>\r\n                        <Button size=\"small\" style={{ width: 120, marginLeft: 10, marginTop: 4 }} onClick={e => e.preventDefault()}>\r\n                            {currentOrderTimeType.name}\r\n                            <DownOutlined />\r\n                        </Button>\r\n                    </Dropdown>\r\n                    <span>{`=>`}</span>\r\n                    <RangePicker\r\n                        open={timePickerOpen4OrderList}\r\n                        onOpenChange={this.handleTimePickerOpenChange}\r\n                        size='small'\r\n                        locale={locale}\r\n                        bordered={true}\r\n                        placeholder={['开始时间', '结束时间']}\r\n                        inputReadOnly={true}\r\n                        disabled={alreadyOrderLoading}\r\n                        value={[\r\n                            moment(beginDateTime4OrderList, 'YYYY-MM-DD+HH:mm:ss'),\r\n                            moment(endDateTime4OrderList, 'YYYY-MM-DD+HH:mm:ss')]}\r\n                        defaultValue={[\r\n                            moment(beginDateTime4OrderList, 'YYYY-MM-DD+HH:mm:ss'),\r\n                            moment(endDateTime4OrderList, 'YYYY-MM-DD+HH:mm:ss')]}\r\n                        showTime={{\r\n                            hideDisabledOptions: true,\r\n                            defaultValue: [moment('00:00:00', 'HH:mm:ss'), moment('23:59:59', 'HH:mm:ss')],\r\n                            showTime: true,\r\n                            showHour: true,\r\n                            showMinute: true,\r\n                            showSecond: true\r\n                        }}\r\n                        onOk={this.handleTimePickerOnOk}\r\n                        renderExtraFooter={() => (\r\n                            <div>\r\n                                <Button size=\"small\" type=\"primary\" onClick={() => {\r\n                                    this.refreshBeginAndEndDateTime(\r\n                                        moment().subtract(1, 'day').startOf('day'),\r\n                                        moment().subtract(1, 'day').endOf('day'))\r\n                                }}>昨天</Button>\r\n                                <Button style={{ marginLeft: 10 }} size=\"small\" type=\"primary\" onClick={() => {\r\n                                    this.refreshBeginAndEndDateTime(\r\n                                        moment().startOf('day'),\r\n                                        moment().endOf('day'))\r\n                                }}>今天</Button>\r\n                                <Button style={{ marginLeft: 10 }} size=\"small\" type=\"primary\" onClick={(e) => {\r\n                                    this.refreshBeginAndEndDateTime(\r\n                                        moment().add(1, 'day').startOf('day'),\r\n                                        moment().add(1, 'day').endOf('day'))\r\n                                }}>明天</Button>\r\n                            </div>\r\n                        )}\r\n                    />\r\n                    <span style={{ marginLeft: 5, marginRight: 5, color: 'red', fontSize: 15 }}>\r\n                        {this.getDayTip4BeginAndEnd()}\r\n                    </span>\r\n                    <Button\r\n                        style={{ width: 180, marginLeft: 8, marginTop: 4 }} type='primary'\r\n                        disabled={alreadyOrderLoading}\r\n                        onClick={() => { this.fetchOrderList(); }}>\r\n                        查询订货单\r\n                    </Button>\r\n\r\n                    <Table style={{ marginTop: 10 }}\r\n                        size='small'\r\n                        loading={alreadyOrderLoading}\r\n                        dataSource={alreadyOrderListData}\r\n                        columns={KOrderColumns4Table}\r\n                        rowSelection={alreadyOrderRowSelection}\r\n                        pagination={false}\r\n                        bordered\r\n                        scroll={{ scrollToFirstRowOnChange: true }}\r\n                        title={() => {\r\n                            return (\r\n                                <div style={{ height: 50, fontSize: 16 }}>\r\n                                    <span>{`总共 `}</span>\r\n                                    <span style={{ fontSize: 24, color: 'green' }}>{`${alreadyOrderListData.length}`}</span>\r\n                                    <span>{` 项，已选 `}</span>\r\n                                    <span style={{ fontSize: 24, color: 'red' }}>{`${selectedRowKeys4OrderList.length}`}</span>\r\n                                    <span>{` 项`}</span>\r\n                                    <Button danger disabled={disableProductionPrint} type='primary'\r\n                                        onClick={this.handleProductionPrint}\r\n                                        style={{ width: 160, height: 30, marginLeft: 20, marginTop: 2 }}>\r\n                                        打印生产单\r\n                                    </Button>\r\n                                    <Button danger disabled={disableDistributionButtonPrint} type='primary'\r\n                                        onClick={this.handleDistributionPrint}\r\n                                        style={{ width: 160, height: 30, marginLeft: 20, marginTop: 10 }}>\r\n                                        打印配货单&标签\r\n                                    </Button>\r\n                                </div>\r\n                            )\r\n                        }} />\r\n                </div>\r\n            </div >\r\n        );\r\n    }\r\n}\r\n\r\nexport default OrderManagement;\r\n","/*\r\n打印生产单\r\n*/\r\nimport React from 'react';\r\nimport {\r\n    Button,\r\n    Spin\r\n} from 'antd';\r\nimport { getProductOrderItems } from '../api/api';\r\nimport {\r\n    getWWWHost,\r\n    getNeedlePrinterIndex,\r\n    getPageName4NeedlePrinter,\r\n    getCategory4ProductPlanPrint\r\n} from '../api/util';\r\nimport {\r\n    getLodop\r\n} from './Lodop6.226_Clodop4.127/LodopFuncs';\r\nimport moment from 'moment';\r\n/**--------------------配置信息--------------------*/\r\nconst KCategory4ProductPlanPrint = getCategory4ProductPlanPrint();\r\n\r\nclass ProductionPlanPrinter extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            allProductionDataToBePrint: [],\r\n            productSpinTipText: '打印生产单1',\r\n            productSpinning: false,\r\n            paramObj: {}\r\n        }\r\n    };\r\n\r\n    componentDidMount = async () => {\r\n        let query = this.props.query;\r\n        let paramValueStr = query && query.get('param');\r\n        if (paramValueStr) {\r\n            paramValueStr = unescape(paramValueStr);\r\n            let paramValueObj = JSON.parse(paramValueStr);\r\n            this.setState({ paramObj: paramValueObj }, () => {\r\n                this.refresh();\r\n            });\r\n        }\r\n    };\r\n\r\n    refresh = async () => {\r\n        const { paramObj } = this.state;\r\n        this.setState({\r\n            productSpinning: true,\r\n            productSpinTipText: '准备打印...'\r\n        }, async () => {\r\n            let productItems = [];\r\n\r\n            /// 1.获取各个门店订货信息并合并订货数量\r\n            for (let i = 0; i < paramObj.orderList.length; ++i) {\r\n                let orderItem = paramObj.orderList[i];\r\n                if (orderItem) {\r\n                    this.setState({\r\n                        productSpinTipText: `获取<<${orderItem.orderShop}>>-${orderItem.orderId}...`\r\n                    });\r\n                    const productOrderResult = await getProductOrderItems(orderItem.orderId);\r\n                    // console.log('orderItem = ' + JSON.stringify(orderItem))\r\n                    if (productOrderResult.errCode === 0 && productOrderResult.items) {\r\n                        for (let j = 0; j < productOrderResult.items.length; ++j) {\r\n                            let product = productOrderResult.items[j];\r\n                            let existIndex = -1;\r\n                            for (let k = 0; k < productItems.length; ++k) {\r\n                                let productInItems = productItems[k];\r\n                                if (productInItems.barcode === product.barcode) {\r\n                                    existIndex = k;\r\n                                    break;\r\n                                }\r\n                            }\r\n                            if (existIndex !== -1) {\r\n                                productItems[existIndex].orderNumber += product.orderNumber;\r\n                            } else {\r\n                                product.key = productItems.length;\r\n                                productItems.push(product);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            // console.log('productItems = ' + JSON.stringify(productItems));\r\n\r\n            /// 2.根据商品类型进行分组\r\n            let categoryItems = [];\r\n            for (let i = 0; i < productItems.length; ++i) {\r\n                let product = productItems[i];\r\n                let existJ = -1;\r\n                for (let j = 0; j < categoryItems.length; ++j) {\r\n                    let category = categoryItems[j];\r\n                    if (category.name === product.categoryName) {\r\n                        existJ = j;\r\n                        break;\r\n                    }\r\n                }\r\n                if (existJ !== -1) {\r\n                    product.key = categoryItems[existJ].items.length;\r\n                    categoryItems[existJ].items.push(product);\r\n                } else {\r\n                    product.key = 0;\r\n                    let newCategory = {};\r\n                    newCategory.name = product.categoryName;\r\n                    newCategory.key = categoryItems.length;\r\n                    newCategory.items = [product];\r\n                    categoryItems.push(newCategory);\r\n                }\r\n            }\r\n            // console.log('categoryItems = ' + JSON.stringify(categoryItems));\r\n\r\n            /// 3.根据配置信息再次进行合并分组，比如:西点慕斯和小蛋糕类别合并为裱花间分组\r\n            let category4ProductPlan = [];\r\n            for (let i = 0; i < KCategory4ProductPlanPrint.length; ++i) {\r\n                let categoryGroupItems = KCategory4ProductPlanPrint[i];\r\n\r\n                let newCategoryGroupItems = {};\r\n                newCategoryGroupItems.key = category4ProductPlan.length;\r\n                newCategoryGroupItems.pDepartment = categoryGroupItems.pDepartment;\r\n                newCategoryGroupItems.items = [];\r\n\r\n                for (let j = 0; j < categoryGroupItems.pCategory.length; ++j) {\r\n                    let categoryGroupItem = categoryGroupItems.pCategory[j];\r\n                    for (let k = 0; k < categoryItems.length; ++k) {\r\n                        let categoryItem = categoryItems[k];\r\n                        if (categoryItem.name === categoryGroupItem) {\r\n                            let newCategoryItem = {};\r\n                            newCategoryItem.key = newCategoryGroupItems.items.length;\r\n                            newCategoryItem.categoryName = categoryGroupItem;\r\n                            newCategoryItem.categoryItems = categoryItem.items;\r\n                            newCategoryGroupItems.items.push(newCategoryItem);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                category4ProductPlan.push(newCategoryGroupItems);\r\n            }\r\n            // console.log('category4ProductPlan = ' + JSON.stringify(category4ProductPlan));\r\n\r\n            this.setState({\r\n                productSpinning: false,\r\n                productSpinTipText: '',\r\n                allProductionDataToBePrint: category4ProductPlan\r\n            });\r\n        });\r\n    };\r\n\r\n    getLodopAfterInit = () => {\r\n        let LODOP = getLodop();\r\n\r\n        if (LODOP) {\r\n            LODOP.PRINT_INIT(\"react使用打印插件CLodop\");  //打印初始化\r\n            let strStyle =\r\n                `<style>\r\n                </style> `;\r\n            LODOP.SET_PRINTER_INDEX(getNeedlePrinterIndex(LODOP));\r\n            LODOP.SET_PRINT_PAGESIZE(2, 0, 0, getPageName4NeedlePrinter());\r\n            LODOP.SET_PREVIEW_WINDOW(0, 0, 0, 800, 600, '');\r\n            LODOP.SET_PRINT_COPIES(1);\r\n            LODOP.SET_SHOW_MODE(\"LANDSCAPE_DEFROTATED\", 1);//横向时的正向显示\r\n            LODOP.SET_PRINT_MODE(\"AUTO_CLOSE_PREWINDOW\", 1);//打印后自动关闭预览窗口\r\n            LODOP.ADD_PRINT_HTM(0, 0, \"100%\", '100%', strStyle + document.getElementById(\"printDiv\").innerHTML);\r\n        }\r\n\r\n        return LODOP;\r\n    };\r\n\r\n    productPrintPreprew = () => {\r\n        let LODOP = this.getLodopAfterInit();\r\n\r\n        if (LODOP) {\r\n            LODOP.PREVIEW();\r\n        }\r\n    };\r\n\r\n    productPrintDirect = () => {\r\n        let LODOP = this.getLodopAfterInit();\r\n\r\n        if (LODOP) {\r\n            LODOP.PRINT();\r\n        }\r\n    };\r\n\r\n    productPrintDirectAndBack = () => {\r\n        this.productPrintDirect();\r\n        this.handleBack();\r\n    };\r\n\r\n    handleBack = () => {\r\n        const { paramObj } = this.state;\r\n        let paramValueObj = paramObj;\r\n        let paramValueStr = JSON.stringify(paramValueObj);\r\n        let paramStr = 'param=' + escape(paramValueStr);\r\n        let orderManagementUrl = getWWWHost() + '/orderManagement1';\r\n        orderManagementUrl += '?';\r\n        orderManagementUrl += paramStr;\r\n        window.location.replace(orderManagementUrl);\r\n    };\r\n\r\n    render() {\r\n        const {\r\n            paramObj,\r\n            allProductionDataToBePrint,\r\n            productSpinTipText,\r\n            productSpinning\r\n        } = this.state;\r\n\r\n        return (\r\n            <div style={{ marginLeft: 10, marginTop: 10 }}>\r\n                <div id=\"printConfig\"\r\n                    style={{ float: 'left', borderStyle: 'none', width: 90 }}>\r\n                    <div>\r\n                        <Button type=\"primary\"\r\n                            style={{ width: 90, height: 80 }}\r\n                            onClick={(e) => this.handleBack(e)}>\r\n                            <div style={{ fontSize: 16 }}>\r\n                                后退\r\n                            </div>\r\n                        </Button>\r\n                    </div>\r\n                    <Button type=\"primary\"\r\n                        style={{ marginTop: 10, width: 90, height: 80 }}\r\n                        onClick={this.productPrintPreprew}>\r\n                        <div style={{ fontWeight: 'bold', fontSize: 16, textDecoration: 'underline' }}>\r\n                            打印预览\r\n                        </div>\r\n                    </Button>\r\n                    <Button type=\"primary\" danger\r\n                        style={{ marginTop: 10, width: 90, height: 80 }}\r\n                        onClick={this.productPrintDirectAndBack}>\r\n                        <div style={{ fontWeight: 'bold', fontSize: 16, textDecoration: 'underline' }}>\r\n                            直接打印\r\n                        </div>\r\n                    </Button>\r\n                </div>\r\n\r\n                <div style={{ float: 'left' }}>\r\n                    <span style={{ marginLeft: 10, fontSize: 12, color: 'green' }}>{`时间类型：${paramObj && paramObj.timeType && paramObj.timeType.name}`}</span>\r\n                    <span style={{ marginLeft: 20, fontSize: 12, color: 'green' }}>{`开始时间：${paramObj && moment(paramObj.beginDateTime).format('YYYY.MM.DD HH:mm:ss')}`}</span>\r\n                    <span style={{ marginLeft: 20, fontSize: 12, color: 'green' }}>{`结束时间：${paramObj && moment(paramObj.endDateTime).format('YYYY.MM.DD HH:mm:ss')}`}</span>\r\n                    <Spin tip={productSpinTipText} spinning={productSpinning} size='large'>\r\n                        <div id=\"printDiv\" style={{ marginLeft: 10, borderStyle: 'dotted', width: 420, height: 980 }}>\r\n                            <div id=\"printTable\" style={{ marginTop: 0, marginLeft: 0, width: 410, height: 949, backgroundColor: 'transparent' }}>\r\n                                {\r\n                                    allProductionDataToBePrint.map((columnData) => {\r\n                                        return columnData.items.length > 0 ? (\r\n                                            <div key={columnData.key} style={{ float: 'left', zIndex: 10, backgroundColor: 'transparent', marginTop: 10, height: 949 }}>\r\n                                                <div style={{ float: 'left', marginLeft: 0, width: 38, height: 949, backgroundColor: 'transparent' }} />\r\n                                                <table border='0' cellSpacing='0' style={{ float: 'left', borderCollapse: 'collapse' }}>\r\n                                                    <thead>\r\n                                                        <tr>\r\n                                                            <th colSpan='2' style={{ fontSize: 24, width: 318, textAlign: 'center', backgroundColor: 'lightyellow' }}>\r\n                                                                {`${columnData.pDepartment}`}\r\n                                                            </th>\r\n                                                        </tr>\r\n                                                    </thead>\r\n                                                    {\r\n                                                        columnData.items.map((categoryGroupItem) => {\r\n                                                            return (\r\n                                                                <tbody key={categoryGroupItem.key}>\r\n                                                                    <tr>\r\n                                                                        <th>\r\n                                                                            <table border='1' cellSpacing='0' style={{ float: 'left', borderCollapse: 'collapse' }}>\r\n                                                                                <thead>\r\n                                                                                    <tr>\r\n                                                                                        <th colSpan='2' style={{ fontSize: 20, width: 318, textAlign: 'center', backgroundColor: 'lightyellow' }}>\r\n                                                                                            {categoryGroupItem.categoryName}\r\n                                                                                        </th>\r\n                                                                                    </tr>\r\n                                                                                    <tr>\r\n                                                                                        <th style={{ textAlign: 'center', fontWeight: 'bold' }}>品名</th>\r\n                                                                                        <th style={{ textAlign: 'center', fontWeight: 'bold' }}>订货量</th>\r\n                                                                                    </tr>\r\n                                                                                </thead>\r\n                                                                                <tbody>\r\n                                                                                    {\r\n                                                                                        categoryGroupItem.categoryItems.map((productItem) => {\r\n                                                                                            let oneWeight = 1;\r\n                                                                                            let unit = '';\r\n                                                                                            let spec = productItem.specification;\r\n                                                                                            if (spec.length > 0) {\r\n                                                                                                let specs = spec.split('x');\r\n                                                                                                if (specs.length > 0) {\r\n                                                                                                    specs.forEach(s => {\r\n                                                                                                        let num = s.replace(/[\\u4E00-\\u9FA5\\\\s]+/, '');\r\n                                                                                                        if (unit.length <= 0 && specs.indexOf(s) === 0) {\r\n                                                                                                            unit = s.replace(/[0-9]*/g, '').replace(/\\./, '');\r\n                                                                                                        }\r\n                                                                                                        if (num > 0) {\r\n                                                                                                            oneWeight *= num;\r\n                                                                                                        }\r\n                                                                                                    });\r\n                                                                                                }\r\n                                                                                            }\r\n\r\n                                                                                            let orderName = productItem.orderProductName;\r\n                                                                                            if (oneWeight > 1) {\r\n                                                                                                orderName += '-';\r\n                                                                                                orderName += (productItem.orderNumber * oneWeight);\r\n                                                                                                orderName += unit;\r\n                                                                                            }\r\n\r\n                                                                                            return (\r\n                                                                                                <tr key={productItem.key}>\r\n                                                                                                    <th key='1' style={{\r\n                                                                                                        textAlign: 'center', fontWeight: 'lighter', fontSize: 22,\r\n                                                                                                        paddingTop: 4, paddingBottom: 4\r\n                                                                                                    }}>{orderName}</th>\r\n                                                                                                    <th key='2' style={{\r\n                                                                                                        textAlign: 'center', fontWeight: 'lighter', fontSize: 24,\r\n                                                                                                        paddingTop: 4, paddingBottom: 4\r\n                                                                                                    }}>{productItem.orderNumber}</th>\r\n                                                                                                </tr>)\r\n                                                                                        })\r\n                                                                                    }\r\n                                                                                </tbody>\r\n                                                                            </table>\r\n                                                                        </th>\r\n\r\n                                                                    </tr>\r\n                                                                </tbody>\r\n                                                            );\r\n                                                        })\r\n                                                    }\r\n\r\n                                                    <tfoot>\r\n                                                        <tr>\r\n                                                            <th colSpan='2' style={{ fontSize: 18 }}>{`时间类型：${paramObj && paramObj.timeType && paramObj.timeType.name}`}</th>\r\n                                                        </tr>\r\n                                                        <tr>\r\n                                                            <th colSpan='2' style={{ fontSize: 18 }}>{`开始时间：${paramObj && moment(paramObj.beginDateTime).format('YYYY.MM.DD HH:mm:ss')}`}</th>\r\n                                                        </tr>\r\n                                                        <tr>\r\n                                                            <th colSpan='2' style={{ fontSize: 18 }}>{`结束时间：${paramObj && moment(paramObj.endDateTime).format('YYYY.MM.DD HH:mm:ss')}`}</th>\r\n                                                        </tr>\r\n                                                    </tfoot>\r\n                                                </table>\r\n                                                <div style={{ float: 'left', marginLeft: 0, width: 38, height: 949, backgroundColor: 'transparent' }} />\r\n                                            </div>\r\n                                        ) : (<div key={columnData.key}></div>)\r\n                                    })\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </Spin>\r\n                    <div style={{ height: 30 }}></div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ProductionPlanPrinter;\r\n","/*\r\n打印配货单\r\n*/\r\nimport React from 'react';\r\nimport {\r\n    Button,\r\n    Spin,\r\n    Modal,\r\n    Table,\r\n    DatePicker,\r\n    Radio\r\n} from 'antd';\r\nimport moment from 'moment';\r\nimport JsBarcode from 'jsbarcode';\r\nimport { getProductOrderItems } from '../api/api';\r\nimport {\r\n    getWWWHost,\r\n    getPageName4A4Printer,\r\n    getA4PrinterIndex,\r\n    getLabelPrinterIndex,\r\n    getCategory4ProductDistributePrint\r\n} from '../api/util';\r\nimport {\r\n    getLodop\r\n} from './Lodop6.226_Clodop4.127/LodopFuncs';\r\n\r\n/**--------------------配置信息--------------------*/\r\nconst KCategory4ProductDistributePrint = getCategory4ProductDistributePrint();\r\n\r\n/// 标签打印状态\r\nconst KLabelPrintState = {\r\n    none: '',\r\n    prepare: '准备中',\r\n    running: '运行中',\r\n    pause: '暂停中',\r\n    complete: '已完成',\r\n    cancel: '取消',\r\n    error: '出错'\r\n}\r\n\r\nconst KAmOrPmTypeOptions = [\r\n    { label: '早上 z', value: 'z' },\r\n    { label: '下午 zz', value: 'zz' }\r\n];\r\n\r\nclass ProductDistributePrinter extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            paramObj: {},\r\n\r\n            allDistributionDataToBePrint: [],\r\n            productSpinTipText: '',\r\n            productSpinning: false,\r\n\r\n            productLabelPrintModalVisible: false,\r\n            productLabelPrintState: KLabelPrintState.prepare,\r\n\r\n            productLabelPrintTemplateList: [],\r\n            selectedRowKeys4LabelPrintTemplateList: [],\r\n            selectedRows4LabelPrintTemplateList: [],\r\n\r\n            productLabelPrintProductionDate: moment().add(2, 'days'),\r\n            amOrPmType: KAmOrPmTypeOptions[0].value,\r\n            productLabelPrintExpirationDate: moment().add(5, 'days').endOf('day'),\r\n            productLabelPrintProductionTemplate4Preview: {},\r\n            productLabelPrintProductionTitle: '',\r\n\r\n            productLabelPrintTemplateProductModalVisible: false,\r\n            productLabelPrintTemplateProductList: []\r\n        }\r\n    };\r\n\r\n    componentDidMount = async () => {\r\n        let query = this.props.query;\r\n        let paramValueStr = query && query.get('param');\r\n        if (paramValueStr) {\r\n            paramValueStr = unescape(paramValueStr);\r\n            let paramValueObj = JSON.parse(paramValueStr);\r\n            this.setState({ paramObj: paramValueObj }, () => {\r\n                this.refresh();\r\n            });\r\n        }\r\n    };\r\n\r\n    refresh = async () => {\r\n        const { paramObj } = this.state;\r\n        this.setState({\r\n            productSpinning: true,\r\n            productSpinTipText: '准备打印...'\r\n        }, async () => {\r\n            let productItems = [];\r\n\r\n            /// 1.获取各个门店订货信息并合并订货数量\r\n            for (let i = 0; i < paramObj.orderList.length; ++i) {\r\n                let orderItem = paramObj.orderList[i];\r\n                if (orderItem) {\r\n                    this.setState({\r\n                        productSpinTipText: `获取<<${orderItem.orderShop}>>-${orderItem.orderId}...`\r\n                    });\r\n                    const productOrderResult = await getProductOrderItems(orderItem.orderId);\r\n                    // console.log('productOrderResult = ' + JSON.stringify(productOrderResult));\r\n                    if (productOrderResult.errCode === 0 && productOrderResult.items) {\r\n                        for (let j = 0; j < productOrderResult.items.length; ++j) {\r\n                            let product = productOrderResult.items[j];\r\n                            let existIndex = -1;\r\n                            for (let k = 0; k < productItems.length; ++k) {\r\n                                let productInItems = productItems[k];\r\n                                if (productInItems.barcode === product.barcode) {\r\n                                    existIndex = k;\r\n                                    break;\r\n                                }\r\n                            }\r\n                            if (existIndex !== -1) {\r\n                                productItems[existIndex].orderNumber += product.orderNumber;\r\n                            } else {\r\n                                product.key = productItems.length;\r\n                                productItems.push(product);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            // console.log('productItems = ' + JSON.stringify(productItems));\r\n\r\n            /// 2.根据商品类型进行分组\r\n            let categoryItems = [];\r\n            for (let i = 0; i < productItems.length; ++i) {\r\n                let product = productItems[i];\r\n                let existJ = -1;\r\n                for (let j = 0; j < categoryItems.length; ++j) {\r\n                    let category = categoryItems[j];\r\n                    if (category.name === product.categoryName) {\r\n                        existJ = j;\r\n                        break;\r\n                    }\r\n                }\r\n                if (existJ !== -1) {\r\n                    product.key = categoryItems[existJ].items.length;\r\n                    categoryItems[existJ].items.push(product);\r\n                } else {\r\n                    product.key = 0;\r\n                    let newCategory = {};\r\n                    newCategory.name = product.categoryName;\r\n                    newCategory.key = categoryItems.length;\r\n                    newCategory.items = [product];\r\n                    categoryItems.push(newCategory);\r\n                }\r\n            }\r\n            // console.log('categoryItems = ' + JSON.stringify(categoryItems));\r\n\r\n            /// 3.根据配置信息再次进行合并分组，比如:西点慕斯和小蛋糕类别合并为裱花间分组\r\n            let category4ProductDistribute = [];\r\n            for (let i = 0; i < KCategory4ProductDistributePrint.length; ++i) {\r\n                let categoryGroupItems = KCategory4ProductDistributePrint[i];\r\n\r\n                let newCategoryGroupItems = {};\r\n                newCategoryGroupItems.key = category4ProductDistribute.length;\r\n                newCategoryGroupItems.pDepartment = categoryGroupItems.pDepartment;\r\n                newCategoryGroupItems.items = [];\r\n\r\n                for (let j = 0; j < categoryGroupItems.pCategory.length; ++j) {\r\n                    let categoryGroupItem = categoryGroupItems.pCategory[j];\r\n                    for (let k = 0; k < categoryItems.length; ++k) {\r\n                        let categoryItem = categoryItems[k];\r\n                        if (categoryItem.name === categoryGroupItem) {\r\n                            let newCategoryItem = {};\r\n                            newCategoryItem.key = newCategoryGroupItems.items.length;\r\n                            newCategoryItem.categoryName = categoryGroupItem;\r\n                            newCategoryItem.categoryItems = categoryItem.items;\r\n                            newCategoryGroupItems.items.push(newCategoryItem);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                category4ProductDistribute.push(newCategoryGroupItems);\r\n            }\r\n            // console.log('category4ProductDistribute = ' + JSON.stringify(category4ProductDistribute));\r\n\r\n            this.setState({\r\n                productSpinning: false,\r\n                productSpinTipText: '',\r\n                allDistributionDataToBePrint: category4ProductDistribute\r\n            });\r\n        });\r\n    };\r\n\r\n    handleBack = () => {\r\n        const { paramObj } = this.state;\r\n        let paramValueObj = paramObj;\r\n        let paramValueStr = JSON.stringify(paramValueObj);\r\n        let paramStr = 'param=' + escape(paramValueStr);\r\n        let orderManagementUrl = getWWWHost() + '/orderManagement1';\r\n        orderManagementUrl += '?';\r\n        orderManagementUrl += paramStr;\r\n        window.location.replace(orderManagementUrl);\r\n    };\r\n\r\n    getLodopAfterInit = () => {\r\n        let LODOP = getLodop();\r\n\r\n        if (LODOP) {\r\n            LODOP.PRINT_INIT(\"react使用打印插件CLodop\");  //打印初始化\r\n            let strStyle =\r\n                `<style>\r\n                </style> `;\r\n\r\n            LODOP.SET_PRINTER_INDEX(getA4PrinterIndex(LODOP));\r\n            LODOP.SET_PRINT_PAGESIZE(2, 0, 0, getPageName4A4Printer());\r\n            LODOP.SET_PREVIEW_WINDOW(0, 0, 0, 800, 600, '');\r\n            LODOP.SET_PRINT_COPIES(1);\r\n            LODOP.SET_SHOW_MODE(\"LANDSCAPE_DEFROTATED\", 1);//横向时的正向显示\r\n            LODOP.SET_PRINT_MODE(\"AUTO_CLOSE_PREWINDOW\", 1);//打印后自动关闭预览窗口\r\n            LODOP.ADD_PRINT_HTM(0, 0, \"100%\", '100%', strStyle + document.getElementById(\"printDiv\").innerHTML);\r\n        }\r\n\r\n        return LODOP;\r\n    };\r\n\r\n    productPrintPreprew = () => {\r\n        let LODOP = this.getLodopAfterInit();\r\n\r\n        if (LODOP) {\r\n            LODOP.PREVIEW();\r\n        }\r\n    };\r\n\r\n    productPrintDirect = () => {\r\n        let LODOP = this.getLodopAfterInit();\r\n\r\n        if (LODOP) {\r\n            LODOP.PRINT();\r\n        }\r\n    };\r\n\r\n    productPrintDirectAndBack = () => {\r\n        this.productPrintDirect();\r\n        this.handleBack();\r\n    };\r\n\r\n    productLabelPrintStart = async () => {\r\n        let productLabelPrintTemplateList = [];\r\n        const { allDistributionDataToBePrint } = this.state;\r\n        for (let i = 0; i < allDistributionDataToBePrint.length; ++i) {\r\n            let departmentItems = allDistributionDataToBePrint[i].items;\r\n            if (departmentItems.length > 0) {\r\n                for (let j = 0; j < departmentItems.length; ++j) {\r\n                    let category = departmentItems[j];\r\n                    let categoryName = category.categoryName;\r\n                    let productItems = category.categoryItems;\r\n                    if (productItems.length > 0) {\r\n                        let categoryItem = {};\r\n                        categoryItem.key = productLabelPrintTemplateList.length;\r\n                        categoryItem.categoryName = categoryName;\r\n                        categoryItem.items = [];\r\n                        for (let k = 0; k < productItems.length; ++k) {\r\n                            let product = productItems[k];\r\n                            categoryItem.items.push({ ...product });\r\n                        }\r\n                        categoryItem.printStatus = KLabelPrintState.none;\r\n                        categoryItem.printProgress = '';\r\n                        productLabelPrintTemplateList.push(categoryItem);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        // console.log('productLabelPrintTemplateList =' + JSON.stringify(productLabelPrintTemplateList));\r\n\r\n        const {\r\n            paramObj,\r\n            productLabelPrintProductionDate,\r\n            productLabelPrintExpirationDate\r\n        } = this.state;\r\n        this.setState({\r\n            productLabelPrintProductionTitle:\r\n                paramObj.shop.name + '=>' + paramObj.orderType.name + '=>' + paramObj.orderCashier.name,\r\n            productLabelPrintTemplateList: productLabelPrintTemplateList,\r\n            productLabelPrintModalVisible: true,\r\n            selectedRowKeys4LabelPrintTemplateList: productLabelPrintTemplateList.map((item) => item.key),\r\n            selectedRows4LabelPrintTemplateList: productLabelPrintTemplateList,\r\n            productLabelPrintState: KLabelPrintState.prepare,\r\n            amOrPmType: KAmOrPmTypeOptions[0].value,\r\n            productLabelPrintProductionTemplate4Preview: {\r\n                name: '弯麦-<产品名称>',\r\n                barcode: '<12位条码>',\r\n                ingredients: '配料表：<配料1 配料2 配料3>',\r\n                productLabelPrintProductionDateAndTime:\r\n                    '生产日期：' + productLabelPrintProductionDate.format('MM/DD') + ' zz',\r\n                qualityDay: '保质期：<3天>',\r\n                expirationDate: '保质期至：' + productLabelPrintExpirationDate.format('MM/DD HH:mm'),\r\n                price: '¥<12.0>'\r\n            }\r\n        });\r\n        setTimeout(() => {\r\n            JsBarcode('#image4barcode', '123456789', { displayValue: false });\r\n        }, 0);\r\n    };\r\n\r\n    startOrContinueLabelPrint = async (templateIndex, itemIndex, orderNumberIndex) => {\r\n        this.setState({ productLabelPrintState: KLabelPrintState.running });\r\n\r\n        const {\r\n            selectedRows4LabelPrintTemplateList,\r\n            productLabelPrintProductionDate,\r\n            amOrPmType,\r\n            productLabelPrintProductionTitle\r\n        } = this.state;\r\n\r\n        if (productLabelPrintProductionTitle) {\r\n            let titleArr = productLabelPrintProductionTitle.split('=>');\r\n            if (titleArr.length >= 3) {\r\n                this.titleLabelPrintDirect(titleArr[0], titleArr[1], titleArr[2]);\r\n            }\r\n        }\r\n\r\n        for (let i = templateIndex; i < selectedRows4LabelPrintTemplateList.length; ++i) {\r\n            let itemsToPrint = selectedRows4LabelPrintTemplateList[i].items;\r\n            for (let j = itemIndex; j < itemsToPrint.length; ++j) {\r\n                if (j === itemIndex) {\r\n                    selectedRows4LabelPrintTemplateList[i].printStatus = KLabelPrintState.running;\r\n                }\r\n\r\n                let product = itemsToPrint[j];\r\n                let orderProductName = product.orderProductName;\r\n                let orderNumber = product.orderNumber;\r\n                let barcode = product.barcode;\r\n                let transferPrice = product.transferPrice;\r\n                let qualityDay = product.qualityDay;\r\n                let qualityDayInt = 3;\r\n                try {\r\n                    qualityDayInt = parseInt(qualityDay);\r\n                } catch {\r\n                    qualityDayInt = 3;\r\n                }\r\n                let expirationDate = new moment(productLabelPrintProductionDate).add(qualityDayInt, 'days').endOf('day');\r\n                let ingredients = product.ingredients;\r\n\r\n                for (let z = orderNumberIndex; z < orderNumber; ++z) {\r\n                    await new Promise(resolve => setTimeout(resolve, 400));\r\n\r\n                    if (this.state.productLabelPrintState === KLabelPrintState.cancel) {\r\n                        this.setState({\r\n                            productLabelPrintModalVisible: false,\r\n                            productLabelPrintState: KLabelPrintState.prepare\r\n                        });\r\n                        return;\r\n                    } else if (this.state.productLabelPrintState === KLabelPrintState.pause) {\r\n                        this._templateIndex = i;\r\n                        this._itemIndex = j;\r\n                        this._orderNumberIndex = z;\r\n                        selectedRows4LabelPrintTemplateList[i].printStatus = KLabelPrintState.pause;\r\n                        this.forceUpdate();\r\n                        return;\r\n                    }\r\n\r\n                    /// 更新打印进度\r\n                    selectedRows4LabelPrintTemplateList[i].printProgress =\r\n                        ' ' + (z + 1) + '/' + orderNumber + ' ' + orderProductName;\r\n\r\n                    let template = {\r\n                        name: '弯麦-' + orderProductName,\r\n                        barcode: barcode,\r\n                        price: '¥' + Number(transferPrice).toFixed(1),\r\n                        ingredients: '配料表：' + ingredients,\r\n                        productLabelPrintProductionDateAndTime:\r\n                            '生产日期：' + productLabelPrintProductionDate.format('MM/DD') + ' ' + amOrPmType,\r\n                        expirationDate: '保质期至：' + expirationDate.format('MM/DD HH:mm')\r\n                    };\r\n                    JsBarcode('#image4barcode', template.barcode, { displayValue: false });\r\n                    this.setState({ productLabelPrintProductionTemplate4Preview: template });\r\n\r\n                    /// 输出打印\r\n                    this.productLabelPrintDirect(\r\n                        template.name,\r\n                        template.barcode,\r\n                        template.price,\r\n                        template.ingredients,\r\n                        template.productLabelPrintProductionDateAndTime,\r\n                        template.expirationDate\r\n                    );\r\n                    // return;\r\n                }\r\n\r\n                if (j === itemsToPrint.length - 1) {\r\n                    selectedRows4LabelPrintTemplateList[i].printStatus = KLabelPrintState.complete;\r\n                }\r\n                orderNumberIndex = 0;\r\n            }\r\n            itemIndex = 0;\r\n        }\r\n        this.setState({ productLabelPrintState: KLabelPrintState.complete });\r\n    }\r\n\r\n    getLodopAfterInit4Label = () => {\r\n        let LODOP = getLodop();\r\n\r\n        if (LODOP) {\r\n            LODOP.PRINT_INIT(\"react使用打印插件CLodop\");  //打印初始化\r\n            LODOP.SET_PRINTER_INDEX(getLabelPrinterIndex(LODOP));\r\n            LODOP.SET_PRINT_PAGESIZE(1, 400, 300, '');\r\n            LODOP.SET_PREVIEW_WINDOW(0, 0, 0, 600, 450, '');\r\n            LODOP.SET_PRINT_COPIES(1);\r\n            LODOP.SET_PRINT_MODE(\"AUTO_CLOSE_PREWINDOW\", 1);//打印后自动关闭预览窗口\r\n        }\r\n\r\n        return LODOP;\r\n    };\r\n\r\n    getTitleHtml = (text, fontSize) => {\r\n        let str = \"<!doctype html>\" +\r\n            \"<style>\" +\r\n            \"#title\" +\r\n            \"{\" +\r\n            \"text-align:center;\" +\r\n            \"font-family:'微软雅黑';\" +\r\n            \"font-size:\" +\r\n            fontSize + \";\" +\r\n            \"}\" +\r\n            \"</style>\" +\r\n            \"<div id='title'>\" +\r\n            text +\r\n            \"</div>\";\r\n\r\n        return str;\r\n    }\r\n\r\n    titleLabelPrintDirect = (\r\n        orderShop,\r\n        orderType,\r\n        orderCashier\r\n    ) => {\r\n        let LODOP = this.getLodopAfterInit4Label();\r\n\r\n        if (LODOP) {\r\n            let orderShopStr = this.getTitleHtml(orderShop, '18px');\r\n            LODOP.ADD_PRINT_HTM(12, 0, '40mm', 15, orderShopStr);\r\n            let orderTypeStr = this.getTitleHtml(orderType, '18px');\r\n            LODOP.ADD_PRINT_HTM(42, 0, '40mm', 15, orderTypeStr);\r\n            let orderCashierStr = this.getTitleHtml(orderCashier, '18px');\r\n            LODOP.ADD_PRINT_HTM(74, 0, '40mm', 15, orderCashierStr);\r\n\r\n            LODOP.PRINT();\r\n        }\r\n    }\r\n\r\n    productLabelPrintDirect = (\r\n        orderProductName,\r\n        barcode,\r\n        transferPrice,\r\n        ingredients,\r\n        productLabelPrintProductionDateAndTime,\r\n        expirationDate) => {\r\n        let LODOP = this.getLodopAfterInit4Label();\r\n\r\n        if (LODOP) {\r\n            let fontSize = '14px';\r\n            if (orderProductName.length > 14) fontSize = '11px';\r\n            else if (orderProductName.length > 12) fontSize = '12px';\r\n            else if (orderProductName.length > 10) fontSize = '13px';\r\n            LODOP.ADD_PRINT_HTM(3, 0, '40mm', 15, this.getTitleHtml(orderProductName, fontSize));\r\n\r\n            LODOP.ADD_PRINT_TEXT(16, 42, 150, 15, barcode);\r\n            LODOP.SET_PRINT_STYLEA(2, \"FontName\", \"微软雅黑\");\r\n            LODOP.SET_PRINT_STYLEA(2, \"FontSize\", 7);\r\n\r\n            LODOP.ADD_PRINT_BARCODE(28, 16, 174, 14, \"128Auto\", barcode);\r\n            LODOP.SET_PRINT_STYLEA(3, \"ShowBarText\", 0);\r\n\r\n            LODOP.ADD_PRINT_TEXT(42, 6, 150, 15, ingredients);\r\n            LODOP.SET_PRINT_STYLEA(4, \"FontName\", \"微软雅黑\");\r\n            LODOP.SET_PRINT_STYLEA(4, \"FontSize\", 7);\r\n\r\n            LODOP.ADD_PRINT_TEXT(54, 6, 150, 15, productLabelPrintProductionDateAndTime);\r\n            LODOP.SET_PRINT_STYLEA(5, \"FontName\", \"微软雅黑\");\r\n            LODOP.SET_PRINT_STYLEA(5, \"FontSize\", 7);\r\n\r\n            LODOP.ADD_PRINT_TEXT(66, 6, 150, 15, expirationDate);\r\n            LODOP.SET_PRINT_STYLEA(6, \"FontName\", \"微软雅黑\");\r\n            LODOP.SET_PRINT_STYLEA(6, \"FontSize\", 7);\r\n\r\n            LODOP.ADD_PRINT_TEXT(78, 6, 150, 15, '生产商：漳州古西优作食品有限公司漳浦分公司');\r\n            LODOP.SET_PRINT_STYLEA(7, \"FontName\", \"微软雅黑\");\r\n            LODOP.SET_PRINT_STYLEA(7, \"FontSize\", 5);\r\n\r\n            LODOP.ADD_PRINT_TEXT(86, 6, 150, 15, '经营许可证编号：JY23506230105266');\r\n            LODOP.SET_PRINT_STYLEA(8, \"FontName\", \"微软雅黑\");\r\n            LODOP.SET_PRINT_STYLEA(8, \"FontSize\", 5);\r\n\r\n            LODOP.ADD_PRINT_TEXT(94, 6, 150, 15, '地址：漳浦县府前街西247号');\r\n            LODOP.SET_PRINT_STYLEA(9, \"FontName\", \"微软雅黑\");\r\n            LODOP.SET_PRINT_STYLEA(9, \"FontSize\", 5);\r\n\r\n            LODOP.ADD_PRINT_TEXT(102, 6, 150, 15, '电话：13290768588');\r\n            LODOP.SET_PRINT_STYLEA(10, \"FontName\", \"微软雅黑\");\r\n            LODOP.SET_PRINT_STYLEA(10, \"FontSize\", 5);\r\n\r\n            LODOP.ADD_PRINT_TEXT(94, 100, 150, 15, transferPrice);\r\n            LODOP.SET_PRINT_STYLEA(11, \"FontName\", \"微软雅黑\");\r\n            LODOP.SET_PRINT_STYLEA(11, \"FontSize\", 12);\r\n\r\n            LODOP.PRINT();\r\n            // LODOP.PREVIEW();\r\n        }\r\n    }\r\n\r\n    onTemplateItemSelectChange = (selectedRowKeys, selectedRows) => {\r\n        // console.log('onTemplateItemSelectChange selectedRowKeys = ', selectedRowKeys);\r\n        // console.log('onTemplateItemSelectChange selectedRows =', JSON.stringify(selectedRows));\r\n        this.setState({\r\n            selectedRowKeys4LabelPrintTemplateList: selectedRowKeys,\r\n            selectedRows4LabelPrintTemplateList: selectedRows\r\n        });\r\n    };\r\n\r\n    handleProductLabelPrintProductionDateChange = (date) => {\r\n        this.setState({ productLabelPrintProductionDate: date }, () => {\r\n            this.updateProductLabelPrintProductionTemplateDayAndTime();\r\n        });\r\n    }\r\n\r\n    handleAmOrPmTypeChange = (e) => {\r\n        const { productLabelPrintProductionDate } = this.state;\r\n        let template = { ...this.state.productLabelPrintProductionTemplate4Preview };\r\n        template.productLabelPrintProductionDateAndTime =\r\n            '生产日期：' + productLabelPrintProductionDate.format('MM/DD') + ' ' + e.target.value;\r\n        this.setState({\r\n            amOrPmType: e.target.value,\r\n            productLabelPrintProductionTemplate4Preview: template\r\n        });\r\n    }\r\n\r\n    updateProductLabelPrintProductionTemplateDayAndTime = () => {\r\n        const { productLabelPrintProductionDate } = this.state;\r\n        let template = { ...this.state.productLabelPrintProductionTemplate4Preview };\r\n        template.productLabelPrintProductionDateAndTime =\r\n            '生产日期：' + productLabelPrintProductionDate.format('MM/DD') + ' zz';\r\n        template.expirationDate = '保质期至：' + new moment(productLabelPrintProductionDate).add(3, 'days').endOf('day').format('MM/DD HH:mm');\r\n        this.setState({ productLabelPrintProductionTemplate4Preview: template });\r\n    };\r\n\r\n    render() {\r\n        const {\r\n            paramObj,\r\n            allDistributionDataToBePrint,\r\n            productSpinTipText,\r\n            productSpinning,\r\n            productLabelPrintModalVisible,\r\n            productLabelPrintState,\r\n            selectedRowKeys4LabelPrintTemplateList,\r\n            selectedRows4LabelPrintTemplateList,\r\n            productLabelPrintTemplateList,\r\n            productLabelPrintProductionDate,\r\n            amOrPmType,\r\n            productLabelPrintProductionTemplate4Preview,\r\n            productLabelPrintProductionTitle,\r\n            productLabelPrintTemplateProductModalVisible,\r\n            // productLabelPrintTemplateProductList\r\n        } = this.state;\r\n\r\n        let labelPrintModalOkText = '';\r\n        if (productLabelPrintState === KLabelPrintState.prepare) {\r\n            labelPrintModalOkText = '选择分类后，点击开始打印';\r\n        } else if (productLabelPrintState === KLabelPrintState.running) {\r\n            labelPrintModalOkText = '运行中，点击暂停';\r\n        } else if (productLabelPrintState === KLabelPrintState.pause) {\r\n            labelPrintModalOkText = '暂停中，点击继续';\r\n        } else if (productLabelPrintState === KLabelPrintState.cancel) {\r\n            labelPrintModalOkText = '取消中...';\r\n        } else if (productLabelPrintState === KLabelPrintState.error) {\r\n            labelPrintModalOkText = '打印机出错，修复后点击继续';\r\n        } else if (productLabelPrintState === KLabelPrintState.complete) {\r\n            labelPrintModalOkText = '打印完成，点击关闭';\r\n        }\r\n\r\n        let labelPrintModalOkButtonDisable =\r\n            productLabelPrintState === KLabelPrintState.prepare &&\r\n            selectedRows4LabelPrintTemplateList.length <= 0;\r\n\r\n        const KTemplateColumns4Table = [\r\n            {\r\n                title: '序', dataIndex: 'key', key: 'key', width: 30, render: (text) => {\r\n                    return <div style={{ fontSize: 10, textAlign: 'center' }}>{text}</div>;\r\n                }\r\n            },\r\n            {\r\n                title: '商品分类', dataIndex: 'categoryName', key: 'categoryName', width: 100, render: (text) => {\r\n                    return <div style={{ fontSize: 12, textAlign: 'center' }}>{text}</div>;\r\n                }\r\n            },\r\n            {\r\n                title: '分类商品', dataIndex: 'templateName', key: 'templateName', width: '*', render: (text) => {\r\n                    return <Button disabled size='small' style={{ fontSize: 10, textAlign: 'center' }} onClick={() => {\r\n                        this.setState({\r\n                            productLabelPrintTemplateProductModalVisible: true,\r\n                            productLabelPrintTemplateProductList: []\r\n                        }, () => {\r\n                            // const { productLabelPrintTemplateList } = this.state;\r\n                            // for (let index = 0; index < productLabelPrintTemplateList.length; ++index) {\r\n                            //     let name = productLabelPrintTemplateList.templateName;\r\n                            //     if (name === text) {\r\n                            //         let items = productLabelPrintTemplateList.items;\r\n                            //         this.setState({ productLabelPrintTemplateProductList: items });\r\n                            //     }\r\n                            // }\r\n                            /// todo 洗洗睡了，有空再码\r\n                        });\r\n                    }}>点击打开商品</Button>;\r\n                }\r\n            },\r\n            {\r\n                title: '打印进度', dataIndex: 'printProgress', key: 'printProgress', width: '*', render: (text) => {\r\n                    return <div style={{ fontSize: 14, textAlign: 'center', color: 'red' }}>{text}</div>;\r\n                }\r\n            },\r\n            {\r\n                title: '打印状态', dataIndex: 'printStatus', key: 'printStatus', width: 100, render:\r\n                    (text) => {\r\n                        let spinning = text === KLabelPrintState.running;\r\n                        return (\r\n                            <div style={{ textAlign: 'center' }}>\r\n                                <Spin size='small' spinning={spinning} style={{ fontSize: 12 }}>{text}</Spin>\r\n                            </div>\r\n                        );\r\n                    }\r\n            }\r\n        ];\r\n        const KTemplateRowSelection = {\r\n            selectedRowKeys: selectedRowKeys4LabelPrintTemplateList,\r\n            selectedRows: selectedRows4LabelPrintTemplateList,\r\n            onChange: this.onTemplateItemSelectChange,\r\n            getCheckboxProps: (record) => ({\r\n                disabled: productLabelPrintState !== KLabelPrintState.prepare,\r\n                // Column configuration not to be checked\r\n                name: record.name,\r\n            }),\r\n        };\r\n\r\n        return (\r\n            <div>\r\n                <div style={{ marginLeft: 10, marginTop: 10 }}>\r\n                    <div id=\"printConfig\"\r\n                        style={{ float: 'left', borderStyle: 'none', width: 90 }}>\r\n                        <div>\r\n                            <Button type=\"primary\"\r\n                                style={{ width: 90, height: 80 }}\r\n                                onClick={(e) => this.handleBack(e)}>\r\n                                <div style={{ fontSize: 16 }}>\r\n                                    后退\r\n                                </div>\r\n                            </Button>\r\n                        </div>\r\n                        <Button type=\"primary\"\r\n                            disabled={productSpinning}\r\n                            style={{ marginTop: 10, width: 90, height: 80 }}\r\n                            onClick={this.productPrintPreprew}>\r\n                            <div style={{ fontWeight: 'bold', fontSize: 16, textDecoration: 'underline' }}>\r\n                                打印预览\r\n                            </div>\r\n                        </Button>\r\n                        <Button type=\"primary\" danger\r\n                            disabled={productSpinning}\r\n                            style={{ marginTop: 10, width: 90, height: 80 }}\r\n                            onClick={this.productPrintDirectAndBack}>\r\n                            <div style={{ fontWeight: 'bold', fontSize: 16, textDecoration: 'underline' }}>\r\n                                直接打印\r\n                            </div>\r\n                        </Button>\r\n                        <Button type=\"primary\" danger\r\n                            disabled={productSpinning}\r\n                            style={{ marginTop: 10, width: 90, height: 80 }}\r\n                            onClick={this.productLabelPrintStart}>\r\n                            <div style={{ fontWeight: 'bold', fontSize: 16, textDecoration: 'underline' }}>\r\n                                打印标签\r\n                            </div>\r\n                        </Button>\r\n                    </div>\r\n\r\n                    <div style={{ float: 'left' }}>\r\n                        <span style={{ marginLeft: 10, fontSize: 12, color: 'green' }}>{`时间类型：${paramObj && paramObj.timeType && paramObj.timeType.name}`}</span>\r\n                        <span style={{ marginLeft: 20, fontSize: 12, color: 'green' }}>{`开始时间：${paramObj && moment(paramObj.beginDateTime).format('YYYY.MM.DD HH:mm:ss')}`}</span>\r\n                        <span style={{ marginLeft: 20, fontSize: 12, color: 'green' }}>{`结束时间：${paramObj && moment(paramObj.endDateTime).format('YYYY.MM.DD HH:mm:ss')}`}</span>\r\n                        <Spin tip={productSpinTipText} spinning={productSpinning} size='large'>\r\n                            <div id=\"printDiv\" style={{ marginLeft: 10, borderStyle: 'dotted', width: 1379, height: 968 }}>\r\n                                <div id=\"printTable\" style={{ marginTop: 0, marginLeft: 28, width: 1375, height: 964, backgroundColor: 'transparent' }}>\r\n                                    <div style={{ height: 12 }}></div>\r\n                                    <div style={{ fontSize: 18, fontWeight: 'bold' }}>\r\n                                        <span>{`${paramObj.shop && paramObj.shop.name}=>\r\n                                          ${paramObj.orderType && paramObj.orderType.name}=>\r\n                                          ${paramObj.orderCashier && paramObj.orderCashier.name}`}\r\n                                        </span>\r\n                                        <span> || </span>\r\n                                        <span>\r\n                                            {`${paramObj && paramObj.timeType && paramObj.timeType.name}`}\r\n                                        </span>\r\n                                        <span> : </span>\r\n                                        <span>\r\n                                            {`${paramObj && moment(paramObj.beginDateTime).format('YYYY.MM.DD HH:mm:ss')}`}\r\n                                        </span>\r\n                                        <span> ~ </span>\r\n                                        <span>\r\n                                            {`${paramObj && moment(paramObj.endDateTime).format('YYYY.MM.DD HH:mm:ss')}`}\r\n                                        </span>\r\n                                    </div>\r\n                                    {\r\n                                        allDistributionDataToBePrint.map((columnData) => {\r\n                                            return columnData.items.length > 0 ? (\r\n                                                <div key={columnData.key} style={{ float: 'left', zIndex: 10, backgroundColor: 'transparent', marginTop: 10, height: 920 }}>\r\n                                                    <div style={{ float: 'left', marginLeft: 0, width: 2, height: 920 }} />\r\n                                                    <table border='0' cellSpacing='0' style={{ float: 'left', borderCollapse: 'collapse' }}>\r\n                                                        <thead>\r\n                                                            <tr>\r\n                                                                <th colSpan='5' style={{\r\n                                                                    width: 175, textAlign: 'center',\r\n                                                                    fontSize: 16, backgroundColor: 'lightblue', color: 'black',\r\n                                                                    paddingLeft: 8, paddingRight: 8,\r\n                                                                    paddingTop: 4, paddingBottom: 4\r\n                                                                }}>\r\n                                                                    {`${columnData.pDepartment}`}\r\n                                                                </th>\r\n                                                            </tr>\r\n                                                        </thead>\r\n                                                        {\r\n                                                            columnData.items.map((categoryGroupItem) => {\r\n                                                                return (\r\n                                                                    <tbody key={categoryGroupItem.key}>\r\n                                                                        <tr>\r\n                                                                            <th>\r\n                                                                                <table border='1' cellSpacing='0' style={{ float: 'left', borderCollapse: 'collapse' }}>\r\n                                                                                    <thead>\r\n                                                                                        <tr>\r\n                                                                                            <th colSpan='5' style={{ fontSize: 18, width: 318, textAlign: 'center', backgroundColor: 'lightyellow' }}>\r\n                                                                                                {categoryGroupItem.categoryName}\r\n                                                                                            </th>\r\n                                                                                        </tr>\r\n                                                                                        <tr>\r\n                                                                                            <th style={{ textAlign: 'center', fontSize: 14 }}>简码</th>\r\n                                                                                            <th style={{ textAlign: 'center', fontSize: 14 }}>品名</th>\r\n                                                                                            <th style={{ textAlign: 'center', fontSize: 14 }}>订</th>\r\n                                                                                            <th style={{ textAlign: 'center', fontSize: 12 }}>一</th>\r\n                                                                                            <th style={{ textAlign: 'center', fontSize: 12 }}>二</th>\r\n                                                                                        </tr>\r\n                                                                                    </thead>\r\n                                                                                    <tbody>\r\n                                                                                        {\r\n                                                                                            categoryGroupItem.categoryItems.map((productItem) => {\r\n                                                                                                return (\r\n                                                                                                    <tr key={productItem.key} style={{ height: 24 }}>\r\n                                                                                                        {paramObj.shop.name === '001 - 弯麦(教育局店)' ?\r\n                                                                                                            (<th key='1' style={{ textAlign: 'center', fontSize: 16, width: 16, paddingTop: 4, paddingBottom: 4 }}>{productItem.barcodeMiddle}</th>) :\r\n                                                                                                            (<th key='1' style={{ textAlign: 'center', fontSize: 16, width: 16, paddingTop: 4, paddingBottom: 4 }}>{productItem.barcodeSimple}</th>)}\r\n                                                                                                        <th key='2' style={{ textAlign: 'center', fontSize: 16, width: 125, paddingTop: 4, paddingBottom: 4 }}>{productItem.orderProductName}</th>\r\n                                                                                                        <th key='3' style={{ textAlign: 'center', fontSize: 16, width: 8, paddingTop: 4, paddingBottom: 4 }}>{productItem.orderNumber}</th>\r\n                                                                                                        <th key='4' style={{ textAlign: 'center', fontSize: 16, width: 8, paddingTop: 4, paddingBottom: 4 }}></th>\r\n                                                                                                        <th key='5' style={{ textAlign: 'center', fontSize: 16, width: 8, paddingTop: 4, paddingBottom: 4 }}></th>\r\n                                                                                                    </tr>)\r\n                                                                                            })\r\n                                                                                        }\r\n                                                                                    </tbody>\r\n                                                                                </table>\r\n                                                                            </th>\r\n                                                                        </tr>\r\n                                                                    </tbody>\r\n                                                                );\r\n                                                            })\r\n                                                        }\r\n                                                    </table>\r\n                                                    <div style={{ float: 'left', marginLeft: 0, width: 2, height: 920 }} />\r\n                                                </div>\r\n                                            ) : (<div key={columnData.key}></div>)\r\n                                        })\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </Spin >\r\n                        <div style={{ height: 30 }}></div>\r\n                    </div >\r\n                </div >\r\n\r\n                <Modal\r\n                    width={1100}\r\n                    style={{ top: 50 }}\r\n                    keyboard={true}\r\n                    maskClosable={false}\r\n                    title={(\r\n                        <div>\r\n                            {productLabelPrintProductionTitle}\r\n                        </div>\r\n                    )}\r\n                    visible={productLabelPrintModalVisible}\r\n                    okText={labelPrintModalOkText}\r\n                    okButtonProps={{ disabled: labelPrintModalOkButtonDisable }}\r\n                    cancelText='取消批量打印'\r\n                    cancelButtonProps={{ hidden: false }}\r\n                    onOk={() => {\r\n                        if (productLabelPrintState === KLabelPrintState.prepare) {\r\n                            this._templateIndex = 0;\r\n                            this._itemIndex = 0;\r\n                            this._orderNumberIndex = 0;\r\n                            this.startOrContinueLabelPrint(this._templateIndex, this._itemIndex, this._orderNumberIndex);\r\n                        } else if (productLabelPrintState === KLabelPrintState.running) {\r\n                            this.setState({ productLabelPrintState: KLabelPrintState.pause });\r\n                        } else if (productLabelPrintState === KLabelPrintState.pause) {\r\n                            this.startOrContinueLabelPrint(this._templateIndex, this._itemIndex, this._orderNumberIndex);\r\n                        } else if (productLabelPrintState === KLabelPrintState.complete) {\r\n                            this.setState({\r\n                                productLabelPrintState: KLabelPrintState.prepare,\r\n                                productLabelPrintModalVisible: false\r\n                            });\r\n                        }\r\n                    }}\r\n                    onCancel={() => {\r\n                        if (productLabelPrintState === KLabelPrintState.running) {\r\n                            this.setState({\r\n                                productLabelPrintState: KLabelPrintState.cancel\r\n                            });\r\n                        } else {\r\n                            this.setState({\r\n                                productLabelPrintState: KLabelPrintState.prepare,\r\n                                productLabelPrintModalVisible: false\r\n                            });\r\n                        }\r\n                    }}>\r\n                    <div>\r\n                        <div style={{ display: 'inline-block' }}>\r\n                            <Table\r\n                                style={{ top: 0, width: 550 }}\r\n                                disabled={true}\r\n                                size='small'\r\n                                scroll={{ y: 250 }}\r\n                                dataSource={productLabelPrintTemplateList}\r\n                                columns={KTemplateColumns4Table}\r\n                                rowSelection={KTemplateRowSelection}\r\n                                pagination={false} bordered />\r\n                        </div>\r\n\r\n                        <div style={{ display: 'inline-block', paddingLeft: 16, marginTop: -18, width: 500 }}>\r\n                            <div style={{ fontSize: 16, textAlign: 'center' }}>生产日期</div>\r\n                            <DatePicker picker='day'\r\n                                size='small'\r\n                                style={{ width: 170, marginLeft: 100 }}\r\n                                placeholder='选择生产日期'\r\n                                format='YYYY-MM-DD dddd'\r\n                                value={productLabelPrintProductionDate}\r\n                                onChange={this.handleProductLabelPrintProductionDateChange} />\r\n                            <span style={{ marginLeft: 18 }}>\r\n                                <Radio.Group style={{ marginTop: 8, margeLeft: 8 }}\r\n                                    options={KAmOrPmTypeOptions}\r\n                                    value={amOrPmType}\r\n                                    onChange={this.handleAmOrPmTypeChange}>\r\n                                </Radio.Group>\r\n                            </span>\r\n                            <div style={{ border: 1, borderStyle: 'solid', color: 'lightgray', margeLeft: 8, marginTop: 6, marginBottom: 2 }} />\r\n                            <div style={{ textAlign: 'center', fontWeight: 'bold', fontSize: 18, marginTop: 0, marginBottom: 2 }}>标签预览</div>\r\n                            <div style={{ borderStyle: 'dotted', width: 320, height: 260, marginLeft: 80 }}>\r\n                                <div style={{ textAlign: 'center', fontSize: 16, marginTop: 2 }}>\r\n                                    {productLabelPrintProductionTemplate4Preview.name}\r\n                                </div>\r\n                                <div style={{ textAlign: 'center', fontSize: 14, marginTop: 0 }}>\r\n                                    {productLabelPrintProductionTemplate4Preview.barcode}\r\n                                </div>\r\n                                <img alt='none' id='image4barcode' style={{\r\n                                    height: 55, width: 284,\r\n                                    marginLeft: 16, backgroundColor: 'lightgray'\r\n                                }} />\r\n                                <div style={{ textAlign: 'left', fontSize: 14, marginTop: 0, marginLeft: 14 }}>\r\n                                    {productLabelPrintProductionTemplate4Preview.ingredients}\r\n                                </div>\r\n                                <div style={{ textAlign: 'left', fontSize: 14, marginTop: 0, marginLeft: 14 }}>\r\n                                    {productLabelPrintProductionTemplate4Preview.productLabelPrintProductionDateAndTime}\r\n                                </div>\r\n                                <div style={{ textAlign: 'left', fontSize: 14, marginTop: 0, marginLeft: 14 }}>\r\n                                    <span>{productLabelPrintProductionTemplate4Preview.expirationDate}</span>\r\n                                </div>\r\n                                <div style={{ textAlign: 'left', fontSize: 12, marginTop: 0, marginLeft: 14 }}>\r\n                                    生产商：漳州古西优作食品有限公司漳浦分公司\r\n                                </div>\r\n                                <div style={{ textAlign: 'left', fontSize: 12, marginTop: 0, marginLeft: 14 }}>\r\n                                    经营许可证编号：JY23506230105266\r\n                                </div>\r\n                                <div style={{ textAlign: 'left', fontSize: 12, marginTop: 0, marginLeft: 14 }}>\r\n                                    地址：漳浦县府前街西247号\r\n                                </div>\r\n                                <div style={{ textAlign: 'left', fontSize: 12, marginTop: 0, marginLeft: 14 }}>\r\n                                    <span>电话：13290768588</span>\r\n                                    <span style={{ marginLeft: 100 }}>{productLabelPrintProductionTemplate4Preview.price}</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </Modal>\r\n\r\n                <Modal\r\n                    width={600}\r\n                    style={{ top: 0 }}\r\n                    keyboard={true}\r\n                    maskClosable={false}\r\n                    title={(\r\n                        <div>\r\n                            分类商品\r\n                        </div>\r\n                    )}\r\n                    visible={productLabelPrintTemplateProductModalVisible}\r\n                    okText='确认'\r\n                    cancelButtonProps={{ hidden: true }}\r\n                    onOk={() => {\r\n                        this.setState({ productLabelPrintTemplateProductModalVisible: false });\r\n                    }}>\r\n                    <Table\r\n                        style={{ marginTop: -12 }}\r\n                        disabled={true}\r\n                        size='small'\r\n                        dataSource={productLabelPrintTemplateList}\r\n                        columns={KTemplateColumns4Table}\r\n                        rowSelection={KTemplateRowSelection}\r\n                        pagination={false} bordered />\r\n                </Modal>\r\n            </div >\r\n        );\r\n    };\r\n};\r\n\r\nexport default ProductDistributePrinter;\r\n","\r\nimport {\r\n    findTemplate\r\n} from './api';\r\n\r\n/// 模板cache\r\nconst KTemplateData = {\r\n    '1595310806940367327': [],\r\n    '1595397637628133418': [],\r\n    '1595077654714716554': [],\r\n    '1595077405589137749': [],\r\n    '1649149816769757925': []\r\n};\r\n\r\nconst findTemplateWithCache = async (templateUid) => {\r\n    let templateList = KTemplateData[templateUid];\r\n    if (templateList.length > 0) {\r\n        return { errCode: 0, list: templateList };\r\n    }\r\n\r\n    let findResult = await findTemplate(templateUid);\r\n    if (findResult.errCode === 0 && findResult.list.length > 0) {\r\n        KTemplateData[templateUid] = findResult.list;\r\n        return findResult;\r\n    }\r\n\r\n    return { errCode: -1 };\r\n};\r\n\r\nexport { findTemplateWithCache }","/*\r\n配货\r\n*/\r\n\r\nimport React, { useContext, useRef } from 'react';\r\nimport {\r\n    Button, Table, Spin, Popconfirm,\r\n    message, Form, Input, Modal\r\n} from 'antd';\r\nimport Highlighter from 'react-highlight-words';\r\nimport { SearchOutlined } from '@ant-design/icons';\r\nimport moment from 'moment';\r\n\r\nimport { getProductOrderItems, loadProductsByKeyword, createStockFlowOut } from '../api/api';\r\nimport { findTemplateWithCache } from '../api/cache';\r\nimport {\r\n    getWWWHost,\r\n    getPageName4NeedlePrinter,\r\n    getNeedlePrinterIndex,\r\n    getOrderTemplates,\r\n    getProductSortIdArray,\r\n    getAllOrderShopName\r\n} from '../api/util';\r\n\r\nimport diAudioSrc from '../api/di.wav';\r\nimport {\r\n    getLodop\r\n} from './Lodop6.226_Clodop4.127/LodopFuncs';\r\n\r\nconst { Search } = Input;\r\n\r\n/**--------------------配置信息--------------------*/\r\n/// 模板信息\r\nconst KOrderTemplates = getOrderTemplates();\r\n/// 排序优先级（格式为templateId-barcode）\r\nconst KProductSortIdArray = getProductSortIdArray();\r\n\r\n/// 下面的分类属于外购品，给合作商批发价\r\nconst KOutsideCategorys = [\r\n    '外购品',\r\n    '弯麦耗材',\r\n    '弯麦包装',\r\n    '弯麦传统零食',\r\n    '弯麦小零食',\r\n    '弯麦半成品'\r\n];\r\n\r\n/// 带编辑功能的行\r\nconst EditableContext4Transfer = React.createContext(null);\r\n/// 带编辑功能的行\r\nconst EditableRow4Transfer = ({ index, ...props }) => {\r\n    const [form] = Form.useForm();\r\n    return (\r\n        <Form form={form} component={false}>\r\n            <EditableContext4Transfer.Provider value={form}>\r\n                <tr {...props} />\r\n            </EditableContext4Transfer.Provider>\r\n        </Form>\r\n    );\r\n};\r\n/// 带编辑功能的单元格\r\nconst EditableCell4Transfer = ({\r\n    title, editable, children, dataIndex, record,\r\n    handleEditableCellNextFocus,\r\n    handleEditableCellCurrentFocus,\r\n    handleEditableCellCurrentEnter,\r\n    ...restProps\r\n}) => {\r\n    let childNode = children;\r\n\r\n    const inputRef = useRef(null);\r\n    const form = useContext(EditableContext4Transfer);\r\n\r\n    if (record) {\r\n        // console.log(record);\r\n\r\n        /// 根据是否编辑状态设置焦点\r\n        if (inputRef && inputRef.current) {\r\n            setTimeout(() => {\r\n                if (record && record['editing']) {\r\n                    inputRef.current && inputRef.current.select();\r\n                }\r\n            }, (0));\r\n        }\r\n\r\n        /// 变化时自动保存数据\r\n        const handleOnChange = async () => {\r\n            try {\r\n                const values = await form.validateFields();\r\n                let newData = parseInt(values[dataIndex]);\r\n                record[dataIndex] = newData;\r\n            } catch (errInfo) {\r\n                console.log('Save failed:', errInfo);\r\n            }\r\n        };\r\n\r\n        /// Enter按下时处理光标\r\n        const handleOnPressEnter = async () => {\r\n            try {\r\n                /// 如果验证不通过，则警告\r\n                const values = await form.validateFields();\r\n                let newData = parseInt(values[dataIndex]);\r\n                if (newData > 1000 || newData <= 0) { /// 超过1000个警告一下\r\n                    new Audio(diAudioSrc).play();\r\n                    return;\r\n                }\r\n                handleEditableCellNextFocus();\r\n                handleEditableCellCurrentEnter(record, dataIndex);\r\n            } catch (errInfo) {\r\n                console.log('Save failed:', errInfo);\r\n                new Audio(diAudioSrc).play();\r\n            }\r\n        };\r\n\r\n        /// 获得焦点时整理焦点\r\n        const handleOnFocus = async () => {\r\n            handleEditableCellCurrentFocus(record);\r\n        }\r\n\r\n        if (editable) {\r\n            let initialValue = record[dataIndex];\r\n            // console.log('EditableCell4Transfer initialValue=' + initialValue);\r\n            childNode = (\r\n                <Form.Item\r\n                    style={{\r\n                        margin: 0,\r\n                    }}\r\n                    name={dataIndex}\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: `${title} 请输入整数.`,\r\n                            pattern: /^[0-9]+$/\r\n                        },\r\n                    ]}\r\n                    initialValue={initialValue}>\r\n                    <Input id={record && record['key']}\r\n                        ref={inputRef}\r\n                        autoComplete='off'\r\n                        onChange={handleOnChange}\r\n                        onPressEnter={handleOnPressEnter}\r\n                        onFocus={handleOnFocus} />\r\n                </Form.Item>\r\n            );\r\n        }\r\n    }\r\n\r\n    return <td {...restProps}>{childNode}</td>;\r\n};\r\n\r\n/// 带编辑功能的行\r\nconst EditableContext4AddProduct = React.createContext(null);\r\n/// 带编辑功能的行\r\nconst EditableRow4AddProduct = ({ index, ...props }) => {\r\n    const [form] = Form.useForm();\r\n    return (\r\n        <Form form={form} component={false}>\r\n            <EditableContext4AddProduct.Provider value={form}>\r\n                <tr {...props} />\r\n            </EditableContext4AddProduct.Provider>\r\n        </Form>\r\n    );\r\n};\r\n/// 带编辑功能的单元格\r\nconst EditableCell4AddProduct = ({\r\n    title, editable, children, dataIndex, record,\r\n    handleEditableCellNextFocus,\r\n    handleEditableCellCurrentFocus,\r\n    handleEditableCellOnChangeAddOrRemove,\r\n    ...restProps\r\n}) => {\r\n    let childNode = children;\r\n    const inputRef = useRef(null);\r\n    const form = useContext(EditableContext4AddProduct);\r\n\r\n    if (record) {\r\n        // console.log(record);\r\n\r\n        /// 根据是否编辑状态设置焦点\r\n        const setFocus = () => {\r\n            if (inputRef && inputRef.current) {\r\n                setTimeout(() => {\r\n                    if (record && record['editing']) {\r\n                        inputRef.current && inputRef.current.select();\r\n                    }\r\n                }, (0));\r\n            }\r\n        };\r\n\r\n        setFocus();\r\n\r\n        /// 变化时自动保存数据\r\n        const handleOnChange = async () => {\r\n            try {\r\n                const values = await form.validateFields();\r\n                let newData = parseFloat(values[dataIndex]);\r\n                record[dataIndex] = newData;\r\n            } catch (errInfo) {\r\n                console.log('Save failed:', errInfo);\r\n\r\n                let lastStr = errInfo.values[dataIndex].substring(errInfo.values[dataIndex].length - 1);\r\n                let addOrRemove;\r\n                if (lastStr === '+') {\r\n                    if (record[dataIndex] > 1000 ||\r\n                        record[dataIndex] <= 0) {\r\n                        new Audio(diAudioSrc).play();\r\n                        setFocus();\r\n                        return;\r\n                    }\r\n\r\n                    addOrRemove = 'add';\r\n                } else if (lastStr === '-') {\r\n                    addOrRemove = 'remove';\r\n                }\r\n                handleEditableCellOnChangeAddOrRemove(addOrRemove, record);\r\n            }\r\n        };\r\n\r\n        /// Enter按下时处理光标\r\n        const handleOnPressEnter = async () => {\r\n            try {\r\n                /// 如果验证不通过，则警告\r\n                await form.validateFields();\r\n                handleEditableCellNextFocus();\r\n            } catch (error) {\r\n                console.log('Save failed:', error);\r\n                new Audio(diAudioSrc).play();\r\n            }\r\n        };\r\n\r\n        /// 获得焦点时整理焦点\r\n        const handleOnFocus = async () => {\r\n            handleEditableCellCurrentFocus(record);\r\n        }\r\n\r\n        let initialValue = record[dataIndex];\r\n        // console.log('EditableCell4AddProduct initialValue=' + initialValue);\r\n        if (editable) {\r\n            childNode = (\r\n                <Form.Item\r\n                    style={{\r\n                        margin: 0,\r\n                    }}\r\n                    name={dataIndex}\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: `${title} 请输入数(允许包含2位小数).`,\r\n                            pattern: /^(([1-9]{1}\\d*)|(0{1}))(\\.\\d{0,2})?$/\r\n                        },\r\n                    ]}\r\n                    initialValue={initialValue}>\r\n                    <Input id={record && record['key']}\r\n                        ref={inputRef}\r\n                        autoComplete='off'\r\n                        onChange={handleOnChange}\r\n                        onPressEnter={handleOnPressEnter}\r\n                        onFocus={handleOnFocus} />\r\n                </Form.Item>\r\n            );\r\n        }\r\n    }\r\n\r\n    return <td {...restProps}>{childNode}</td>;\r\n};\r\n\r\nclass ProductDistributeInputer extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            allProductionDataToBeTransfer: [],\r\n            allProductionDataRealToBeTransfer: [],\r\n            allProductionDataRealToBeTransferAdding: false,\r\n            allProductionDataRealToBeTransferAddingText: '',\r\n            searchProductDataToBeAdd: [],\r\n            searchingProductData: false,\r\n            isAddProductionModalVisible: false,\r\n            addProductionSelectedRowKeys: [],\r\n            currentShop: {},\r\n            productSpinTipText: '',\r\n            productSpinning: false,\r\n            transferItems4NextFocus: [],\r\n            filterDropdownVisible4Transfer: true,\r\n            productTransferPrintShow: false,\r\n            productTransferConfirmText: '---确定出货---'\r\n        };\r\n        this._searchInput = null;\r\n        this._searchInput4AddProduct = null;\r\n        this._searchText4Transfer = '';\r\n        this._lastSearchText4Transfer = '';\r\n        this._lastSearchText4AddProduct = '';\r\n\r\n        this._searchText4AddProduct4onChange = '';\r\n        this._lastSearchText4AddProduct4onChange = '';\r\n\r\n        this._template = undefined;\r\n        this._orderType = undefined;\r\n        this._orderCashier = undefined;\r\n        this._timeType = undefined;\r\n        this._beginDateTime = undefined;\r\n        this._endDateTime = undefined;\r\n\r\n        this._readyToBeAddTransfers = [];\r\n        this._readyToBeAddRuning = false;\r\n    };\r\n\r\n    componentDidMount = async () => {\r\n        // console.log('componentDidMount begin');\r\n\r\n        let query = this.props.query;\r\n        let paramValueStr = query && query.get('param');\r\n        if (paramValueStr) {\r\n            // console.log(paramValueStr);\r\n            paramValueStr = unescape(paramValueStr);\r\n            // console.log(paramValueStr);\r\n            let paramValueObj = JSON.parse(paramValueStr);\r\n            let shop = paramValueObj.shop;\r\n            this.setState({ currentShop: shop });\r\n            this._template = paramValueObj.template;\r\n            this._orderType = paramValueObj.orderType;\r\n            this._orderCashier = paramValueObj.orderCashier;\r\n            this._timeType = paramValueObj.timeType;\r\n            this._beginDateTime = paramValueObj.beginDateTime;\r\n            this._endDateTime = paramValueObj.endDateTime;\r\n            this._orderList = paramValueObj.orderList;\r\n\r\n            this.refresh();\r\n        }\r\n    };\r\n\r\n    refresh = async () => {\r\n        this.setState({ productSpinning: true, productSpinTipText: '准备录入...' }, async () => {\r\n            let allData = [];\r\n\r\n            /// 1.获取每家店的订货信息，整合成allData\r\n            this.setState({ productSpinTipText: '准备获取...' });\r\n            for (let index = 0; index < this._orderList.length; ++index) {\r\n                let orderItem = this._orderList[index];\r\n                if (orderItem) {\r\n                    const orderItems = await getProductOrderItems(orderItem.orderId);\r\n                    if (orderItems.errCode === 0 && orderItems.items) {\r\n                        /// 1.1 合并同一订货门店同一模板订单的商品信息\r\n                        let existInAllData = false; let i;\r\n                        for (i = 0; i < allData.length; ++i) {\r\n                            if (allData[i].orderShop === orderItem.orderShop &&\r\n                                allData[i].templateName === orderItem.templateName) {\r\n                                existInAllData = true;\r\n                                break;\r\n                            }\r\n                        }\r\n                        if (existInAllData) {\r\n                            let theExistDataItems = allData[i].items;\r\n                            let toBeDealItems = orderItems.items;\r\n                            for (let i = 0; i < toBeDealItems.length; ++i) {\r\n                                let toBeDealItem = toBeDealItems[i];\r\n                                let posInTheExistDataItems = -1;\r\n                                for (let j = 0; j < theExistDataItems.length; ++j) {\r\n                                    let productItem = theExistDataItems[j];\r\n                                    if (productItem.barcode === toBeDealItem.barcode) {\r\n                                        posInTheExistDataItems = j;\r\n                                        break;\r\n                                    }\r\n                                }\r\n\r\n                                if (posInTheExistDataItems !== -1) {\r\n                                    let newNumber = theExistDataItems[posInTheExistDataItems].orderNumber + toBeDealItem.orderNumber;\r\n                                    theExistDataItems[posInTheExistDataItems].orderNumber = newNumber;\r\n                                } else {\r\n                                    let newItemObject = {};\r\n                                    newItemObject.categoryName = toBeDealItem.categoryName;\r\n                                    newItemObject.orderProductName = toBeDealItem.orderProductName;\r\n                                    newItemObject.specification = toBeDealItem.specification;\r\n                                    newItemObject.barcode = toBeDealItem.barcode;\r\n                                    newItemObject.barcodeSimple = toBeDealItem.barcodeSimple;\r\n                                    newItemObject.orderNumber = toBeDealItem.orderNumber;\r\n                                    newItemObject.transferPrice = toBeDealItem.transferPrice;\r\n                                    newItemObject.sortId = toBeDealItem.sortId;\r\n\r\n                                    theExistDataItems.push(newItemObject);\r\n                                }\r\n                            }\r\n                        } else {\r\n                            let item = {};\r\n                            item.orderShop = orderItem.orderShop;\r\n                            item.templateName = orderItem.templateName;\r\n\r\n                            /// 设置模板Uid\r\n                            for (let i = 0; i < KOrderTemplates.length; ++i) {\r\n                                if (KOrderTemplates[i].name === orderItem.templateName) {\r\n                                    item.templateUid = KOrderTemplates[i].templateUid;\r\n                                    break;\r\n                                }\r\n                            }\r\n                            item.expectTime = orderItem.expectTime;\r\n                            item.items = orderItems.items;\r\n                            for (let i = 0; i < orderItems.items.length; ++i) {\r\n                                let templateAndBarcode = this._template.templateId + '-' + orderItems.items[i].barcode;\r\n                                let sortInfo = KProductSortIdArray[templateAndBarcode];\r\n                                orderItems.items[i].sortId = sortInfo ? sortInfo : 200;\r\n                            }\r\n                            allData.push(item);\r\n                        }\r\n                    } else {\r\n                        allData = [];\r\n                        message.error('获取<' + orderItem.orderShop + '>订货产品出错，请检查！');\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            // console.log(allData);\r\n            /// 2.根据allData按照模板排序，加入订货为0的数据\r\n            this.setState({ productSpinTipText: '按照模板排序...' });\r\n            let allDataAfterTemplate = []\r\n            for (let index = 0; index < allData.length; ++index) {\r\n                let allDataItem = allData[index];\r\n                let allDataItemItems = allDataItem.items;\r\n\r\n                let allDataItemAfterTemplate = {};\r\n                allDataItemAfterTemplate.orderShop = allDataItem.orderShop;\r\n                allDataItemAfterTemplate.templateName = allDataItem.templateName;\r\n                allDataItemAfterTemplate.expectTime = allDataItem.expectTime;\r\n                allDataItemAfterTemplate.templateUid = allDataItem.templateUid;\r\n\r\n                this.setState({ productSpinTipText: `查找-${allDataItem.templateName}-模板...` });\r\n                let findResult = await findTemplateWithCache(allDataItem.templateUid);\r\n                if (findResult.errCode === 0 && findResult.list.length > 0) {\r\n                    // console.log(findResult.list);\r\n                    let findResultList = findResult.list;\r\n                    let totalItemsAfterFixTemplate = [];\r\n                    for (let i = 0; i < findResultList.length; ++i) {\r\n                        let pos = -1;\r\n                        for (let j = 0; j < allDataItemItems.length; ++j) {\r\n                            if (findResultList[i].barcode === allDataItemItems[j].barcode) {\r\n                                pos = j;\r\n                                break;\r\n                            }\r\n                        }\r\n\r\n                        let newItemObject = {};\r\n                        if (pos !== -1) {\r\n                            newItemObject.categoryName = allDataItemItems[pos].categoryName;\r\n                            newItemObject.orderProductName = allDataItemItems[pos].orderProductName;\r\n                            newItemObject.specification = allDataItemItems[pos].specification;\r\n                            newItemObject.barcode = allDataItemItems[pos].barcode;\r\n                            newItemObject.barcodeSimple = allDataItemItems[pos].barcodeSimple;\r\n                            newItemObject.sortId = allDataItemItems[pos].sortId;\r\n                            newItemObject.orderNumber = allDataItemItems[pos].orderNumber;\r\n                            newItemObject.transferNumber = 0;\r\n                            newItemObject.transferPrice = allDataItemItems[pos].transferPrice;\r\n                        } else {\r\n                            newItemObject.categoryName = findResultList[i].categoryName;\r\n                            newItemObject.orderProductName = findResultList[i].name;\r\n                            newItemObject.specification = findResultList[i].specification;\r\n                            newItemObject.barcode = findResultList[i].barcode;\r\n                            newItemObject.barcodeSimple = findResultList[i].barcodeSimple;\r\n                            newItemObject.transferPrice = findResultList[i].transferPrice;\r\n\r\n                            let templateAndBarcode = this._template.templateId + '-' + newItemObject.barcode;\r\n                            let sortInfo = KProductSortIdArray[templateAndBarcode];\r\n                            newItemObject.sortId = sortInfo ? sortInfo : 200;\r\n\r\n                            newItemObject.orderNumber = 0;\r\n                            newItemObject.transferNumber = 0;\r\n                        }\r\n\r\n                        totalItemsAfterFixTemplate.push(newItemObject);\r\n                    }\r\n\r\n                    allDataItemAfterTemplate.items = totalItemsAfterFixTemplate;\r\n                }\r\n\r\n                allDataAfterTemplate.push(allDataItemAfterTemplate);\r\n            }\r\n            // console.log(allDataAfterTemplate);\r\n\r\n            this.setState({ productSpinTipText: '整理商品...' });\r\n            let transferData = []; let key = 0;\r\n            for (let index = 0; index < allDataAfterTemplate.length; ++index) {\r\n                let allDataAfterTemplateItem = allDataAfterTemplate[index];\r\n                let allDataAfterTemplateItemItems = allDataAfterTemplateItem.items;\r\n                for (let jj = 0; jj < allDataAfterTemplateItemItems.length; ++jj) {\r\n                    let allDataAfterTemplateItemItemsItem = allDataAfterTemplateItemItems[jj];\r\n                    // if (allDataAfterTemplateItemItemsItem.orderNumber > 0) {\r\n                    allDataAfterTemplateItemItemsItem.key = ++key;\r\n                    transferData.push(allDataAfterTemplateItemItemsItem);\r\n                    // }\r\n                }\r\n            }\r\n            // console.log(transferData);\r\n\r\n            this.setState({\r\n                productSpinning: false, productSpinTipText: '',\r\n                allProductionDataToBeTransfer: transferData\r\n            });\r\n        });\r\n    };\r\n\r\n    getColumnSearchProps = dataIndex => ({\r\n        filterDropdownVisible: this.state.filterDropdownVisible4Transfer,\r\n        filterDropdown: ({ setSelectedKeys, selectedKeys, confirm, clearFilters }) => (\r\n            <div style={{ padding: 8, width: 130 }}>\r\n                <Input\r\n                    ref={node => {\r\n                        if (!this._searchInput && node) {\r\n                            this._searchInput = node;\r\n                            this._searchInput.focus();\r\n                        }\r\n                    }}\r\n                    autoComplete='off'\r\n                    size='large'\r\n                    placeholder={`+添加商品`}\r\n                    value={this._searchText4Transfer}\r\n                    onChange={(e) => {\r\n                        // console.log('输入简码 onChange e.target=' + e.target);\r\n\r\n                        let z_reg = /^[0-9]+$/;\r\n                        let isInter = z_reg.test(e.target.value);\r\n                        if (e.target.value !== '' && !isInter) {\r\n                            if (e.target.value.substring(e.target.value.length - 1) === '+') {\r\n                                this.handleAddProduct();\r\n                            } else {\r\n                                new Audio(diAudioSrc).play();\r\n                            }\r\n                            this._searchText4Transfer = this._lastSearchText4Transfer;\r\n                            return;\r\n                        }\r\n                        // console.log('isInter=' + isInter);\r\n\r\n\r\n                        setSelectedKeys(e.target.value ? [e.target.value] : []);\r\n                        confirm();\r\n\r\n                        this._searchText4Transfer = e.target.value;\r\n                        this._lastSearchText4Transfer = e.target.value;\r\n\r\n                        this.setState({ transferItems4NextFocus: [] }, () => {\r\n                            let transferItems4NextFocusTemp = [];\r\n                            this.state.allProductionDataToBeTransfer.forEach(element => {\r\n                                if (element.barcodeSimple.indexOf(this._searchText4Transfer) !== -1) {\r\n                                    element.editing = false;\r\n                                    transferItems4NextFocusTemp.push(element);\r\n                                }\r\n                            });\r\n\r\n                            if (transferItems4NextFocusTemp.length > 0) {\r\n                                this.setState({ transferItems4NextFocus: transferItems4NextFocusTemp });\r\n                            }\r\n                        });\r\n                    }}\r\n                    onFocus={(e) => {\r\n                        // console.log('输入简码 onFocus e = ' + e);\r\n                        this.setState({ transferItems4NextFocus: [] }, () => {\r\n                            let transferItems4NextFocusTemp = [];\r\n                            this.state.allProductionDataToBeTransfer.forEach(element => {\r\n                                if (element.barcodeSimple.indexOf(this._searchText4Transfer) !== -1) {\r\n                                    element.editing = false;\r\n                                    transferItems4NextFocusTemp.push(element);\r\n                                }\r\n                            });\r\n\r\n                            if (transferItems4NextFocusTemp.length > 0) {\r\n                                this.setState({ transferItems4NextFocus: transferItems4NextFocusTemp });\r\n                            }\r\n                        });\r\n                    }}\r\n                    onPressEnter={(e) => {\r\n                        // console.log('搜索简码 onPressEnter e = ' + e);\r\n                        if (this._searchText4Transfer.length !== 4) {\r\n                            new Audio(diAudioSrc).play();\r\n                            return;\r\n                        }\r\n\r\n                        /// 将符合条件的条目放到items4NextFocus\r\n                        this.setState({ transferItems4NextFocus: [] }, () => {\r\n                            let transferItems4NextFocusTemp = [];\r\n                            this.state.allProductionDataToBeTransfer.forEach(element => {\r\n                                if (element.barcodeSimple.indexOf(this._searchText4Transfer) !== -1) {\r\n                                    element.editing = false;\r\n                                    transferItems4NextFocusTemp.push(element);\r\n                                }\r\n                            });\r\n\r\n                            if (transferItems4NextFocusTemp.length > 0) {\r\n                                transferItems4NextFocusTemp[0].editing = true;\r\n                                this.setState({ transferItems4NextFocus: transferItems4NextFocusTemp });\r\n                            } else {\r\n                                new Audio(diAudioSrc).play();\r\n                            }\r\n                        });\r\n                    }}\r\n                    style={{ marginBottom: 8, display: 'block' }}\r\n                />\r\n            </div>\r\n        ),\r\n        filterIcon: filtered => <SearchOutlined style={{ color: filtered ? '#1890ff' : undefined }} />,\r\n        onFilter: (value, record) => {\r\n            let simple = record[dataIndex].toString();\r\n            return simple ? simple.includes(value) : '';\r\n        },\r\n        onFilterDropdownVisibleChange: visible => {\r\n            if (visible && this._searchInput) {\r\n                setTimeout(() => this._searchInput && this._searchInput.select(), 300);\r\n            }\r\n        },\r\n        render: text =>\r\n        (\r\n            <Highlighter\r\n                highlightStyle={{ backgroundColor: '#ffc069', padding: 0 }}\r\n                searchWords={[this._searchText4Transfer]}\r\n                autoEscape\r\n                textToHighlight={text ? text.toString() : ''}\r\n            />\r\n        )\r\n    });\r\n\r\n    onAddProductionSelectChange = (selectedRowKeys) => {\r\n        // console.log('selectedRowKeys changed: ', selectedRowKeys);\r\n        this.setState({ addProductionSelectedRowKeys: selectedRowKeys });\r\n    };\r\n\r\n    onAddProductSelect = (record, selected) => {\r\n        // console.log('onAddProductSelect record: ', record);\r\n        // console.log('onAddProductSelect selected: ', selected);\r\n        // console.log('onAddProductSelect selectedRows: ', selectedRows);\r\n        // console.log('onAddProductSelect nativeEvent: ', nativeEvent);\r\n\r\n        /// 放弃焦点\r\n        record.editing = false;\r\n        if (this._searchInput4AddProduct) {\r\n            this._searchInput4AddProduct.select();\r\n        }\r\n\r\n        let allProductionDataRealToBeTransferTemp = this.state.allProductionDataRealToBeTransfer;\r\n        if (selected) {\r\n            let newItem4Transfer = {};\r\n            newItem4Transfer.barcode = record.barcode;\r\n            newItem4Transfer.barcodeSimple = record.barcode.substring(record.barcode.length - 4, record.barcode.length);\r\n            newItem4Transfer.categoryName = record.categoryName;\r\n            newItem4Transfer.editing = false;\r\n            newItem4Transfer.transferPrice = record.price;\r\n            newItem4Transfer.orderProductName = record.productName;\r\n            newItem4Transfer.specification = record.specification;\r\n            newItem4Transfer.orderNumber = parseFloat(record.orderNumber);\r\n            newItem4Transfer.transferNumber = parseFloat(record.transferNumber);\r\n            newItem4Transfer.price = record.price;\r\n            newItem4Transfer.memberPrice = record.memberPrice;\r\n            newItem4Transfer.wholePrice = record.wholePrice;\r\n            newItem4Transfer.partnerPrice = this.makePartnerPriceByCategory(\r\n                record.categoryName,\r\n                newItem4Transfer.price,\r\n                newItem4Transfer.memberPrice,\r\n                newItem4Transfer.wholePrice);\r\n            newItem4Transfer.partnerPriceTotal = parseFloat(\r\n                (newItem4Transfer.partnerPrice * newItem4Transfer.transferNumber).toFixed(2));\r\n\r\n            newItem4Transfer.sortId = 200;\r\n            newItem4Transfer.remark = '新增';\r\n            let key = 0;\r\n            newItem4Transfer.key = ++key;\r\n\r\n            let allProductionDataAfterAdd = [];\r\n            allProductionDataAfterAdd.push(newItem4Transfer);\r\n            for (let ii = 0; ii < allProductionDataRealToBeTransferTemp.length; ++ii) {\r\n                let item = allProductionDataRealToBeTransferTemp[ii];\r\n                if (item.barcode !== newItem4Transfer.barcode) {\r\n                    item.key = ++key;\r\n                    allProductionDataAfterAdd.push(item);\r\n                }\r\n            }\r\n\r\n            this.setState({\r\n                allProductionDataRealToBeTransfer: allProductionDataAfterAdd\r\n            });\r\n        } else {\r\n            let allProductionDataAfterRemove = [];\r\n            let key = 0;\r\n            for (let ii = 0; ii < allProductionDataRealToBeTransferTemp.length; ++ii) {\r\n                let item = allProductionDataRealToBeTransferTemp[ii];\r\n                if (item.barcode !== record.barcode) {\r\n                    item.key = ++key;\r\n                    allProductionDataAfterRemove.push(item);\r\n                }\r\n            }\r\n\r\n            this.setState({\r\n                allProductionDataRealToBeTransfer: allProductionDataAfterRemove\r\n            });\r\n        }\r\n    };\r\n\r\n    handleAddProductOnSearch = async (text, e) => {\r\n        // console.log('handleAddProductOnSearch text = ' + text + '; e=' + e.key);\r\n\r\n        if (!text || text.length <= 0) {\r\n            message.error('请输入正确的商品名称或条码');\r\n            return;\r\n        }\r\n\r\n        const { searchProductDataToBeAdd } = this.state;\r\n        let searchOrJump = 'search';\r\n        if (e.key === 'Enter') {\r\n            if (this._lastSearchText4AddProduct !== text) {\r\n                searchOrJump = 'search';\r\n            } else if (searchProductDataToBeAdd.length > 0) {\r\n                searchOrJump = 'setAndJump';\r\n            }\r\n        }\r\n\r\n        if (searchOrJump === 'search') {\r\n            this.setState({ searchingProductData: true, searchProductDataToBeAdd: [] });\r\n            this._lastSearchText4AddProduct = text;\r\n            let loadProductResult = await loadProductsByKeyword(text);\r\n            if (loadProductResult.errCode === 0 && loadProductResult.items && loadProductResult.items.length > 0) {\r\n                let allProductionDataRealToBeTransferTemp = this.state.allProductionDataRealToBeTransfer;\r\n\r\n                let selectKeys = [];\r\n\r\n                loadProductResult.items.forEach(item => {\r\n                    item.transferNumber = 0;\r\n                    item.editing = false;\r\n                    item.orderNumber = 0;\r\n\r\n                    allProductionDataRealToBeTransferTemp.forEach(product => {\r\n                        if (item.barcode === product.barcode) {\r\n                            if (selectKeys.indexOf(item.key) === -1) {\r\n                                selectKeys.push(item.key);\r\n                            }\r\n                        }\r\n                    });\r\n                });\r\n\r\n                this.setState({ searchProductDataToBeAdd: loadProductResult.items, addProductionSelectedRowKeys: selectKeys });\r\n            }\r\n            this.setState({ searchingProductData: false });\r\n        } else if (searchOrJump === 'setAndJump') {\r\n            const { searchProductDataToBeAdd } = this.state;\r\n\r\n            for (let ii = 0; ii < searchProductDataToBeAdd.length; ++ii) {\r\n                let product = searchProductDataToBeAdd[ii];\r\n                if (product) {\r\n                    product.editing = true;\r\n                }\r\n            }\r\n            this.forceUpdate();\r\n            // console.log(this.state.searchProductDataToBeAdd)\r\n        }\r\n    };\r\n\r\n    handleAddProductionModalonOk = () => {\r\n        this.setState({ isAddProductionModalVisible: false, filterDropdownVisible4Transfer: true }, () => {\r\n            setTimeout(() => {\r\n                this._searchInput && this._searchInput.select();\r\n            }, 400);\r\n        });\r\n    };\r\n\r\n    handleProductTransferConfirm = async () => {\r\n        // console.log('handleProductTransferConfirm begin');\r\n\r\n        this.setState({ productTransferConfirmText: '配货信息发送中....' });\r\n\r\n        let allProductionDataRealToBeTransfer = this.state.allProductionDataRealToBeTransfer;\r\n        // console.log(allProductionDataRealToBeTransfer);\r\n\r\n        let toUserId = this.state.currentShop.userId;\r\n        let items = [];\r\n        allProductionDataRealToBeTransfer.forEach(product => {\r\n            let item = {};\r\n            item.barcode = product.barcode;\r\n            item.quantity = product.transferNumber;\r\n            item.buyPrice = product.transferPrice;\r\n            items.push(item);\r\n        });\r\n\r\n        // console.log(items);\r\n\r\n        try {\r\n            let result = await createStockFlowOut(toUserId, items);\r\n            // console.log(result);\r\n            if (result && result.errCode === 0) {\r\n                let modalInfo = Modal.success();\r\n                modalInfo.update({ title: '配货成功，商品已发送至<<' + this.state.currentShop.name + '>>收银机~', okButtonProps: { hidden: true } });\r\n                setTimeout(() => {\r\n                    modalInfo.destroy();\r\n                    this.setState({ productTransferConfirmText: '---确定出货---' });\r\n                    this.handleBack();\r\n                }, 1500);\r\n            } else {\r\n                this.setState({ productTransferConfirmText: '---确定出货---' });\r\n                // 模态对话框\r\n                Modal.error({ title: '配货失败，请查看失败原因~' });\r\n            }\r\n        } catch (error) { /// 可能有超时错误\r\n            this.setState({ productTransferConfirmText: '---确定出货---' });\r\n            // 模态对话框\r\n            Modal.error({ title: error.toString() });\r\n        }\r\n    }\r\n\r\n    handleEditableCellNextFocus = () => {\r\n        // console.log('handleEditableCellNextFocus');\r\n\r\n        let transferItems4NextFocusTemp = this.state.transferItems4NextFocus;\r\n\r\n        let lastFocusIndex = -1;\r\n        for (let i = 0; i < transferItems4NextFocusTemp.length; ++i) {\r\n            let element = transferItems4NextFocusTemp[i];\r\n            if (element.editing) {\r\n                lastFocusIndex = i;\r\n                break;\r\n            }\r\n        }\r\n\r\n        let newFocusIndex = lastFocusIndex + 1;\r\n        if (newFocusIndex >= 0 && newFocusIndex < transferItems4NextFocusTemp.length) {\r\n            transferItems4NextFocusTemp[newFocusIndex].editing = true;\r\n        } else {\r\n            if (this._searchInput) {\r\n                this._searchInput.select();\r\n            }\r\n        }\r\n\r\n        if (lastFocusIndex >= 0 && lastFocusIndex < transferItems4NextFocusTemp.length) {\r\n            transferItems4NextFocusTemp[lastFocusIndex].editing = false;\r\n        }\r\n\r\n        this.setState({ transferItems4NextFocus: transferItems4NextFocusTemp });\r\n    };\r\n\r\n    handleEditableCellCurrentFocus = (record) => {\r\n        let transferItems4NextFocusTemp = this.state.transferItems4NextFocus;\r\n\r\n        for (let i = 0; i < transferItems4NextFocusTemp.length; ++i) {\r\n            let item = transferItems4NextFocusTemp[i];\r\n            item.editing = false;\r\n            if (item.barcode === record.barcode) {\r\n                item.editing = true;\r\n            }\r\n        }\r\n        this.forceUpdate();\r\n    };\r\n\r\n    doAddToTransfer = async (newRecord) => {\r\n        this.setState({\r\n            allProductionDataRealToBeTransferAdding: true,\r\n            allProductionDataRealToBeTransferAddingText: '正在插入<<' + newRecord.orderProductName + '>>'\r\n        });\r\n        let result = await loadProductsByKeyword(newRecord.barcode);\r\n        let productInfo;\r\n        if (!result || result.errCode !== 0 || result.items.length !== 1) {\r\n            message.warning('查找商品信息失败~');\r\n            return;\r\n        } else {\r\n            productInfo = result.items[0];\r\n        }\r\n\r\n        if (productInfo) {\r\n            newRecord.specification = productInfo.specification;\r\n            newRecord.price = productInfo.price;\r\n            newRecord.memberPrice = productInfo.memberPrice;\r\n            newRecord.wholePrice = productInfo.wholePrice;\r\n            newRecord.partnerPrice = this.makePartnerPriceByCategory(\r\n                productInfo.categoryName,\r\n                productInfo.price,\r\n                productInfo.memberPrice,\r\n                productInfo.wholePrice);\r\n            newRecord.partnerPriceTotal = parseFloat(\r\n                (newRecord.partnerPrice * newRecord.transferNumber).toFixed(2));\r\n\r\n            let allProductionDataRealToBeTransferTemp = [];\r\n            let key = 0; newRecord.key = ++key;\r\n            allProductionDataRealToBeTransferTemp.splice(0, 0, newRecord);\r\n            for (let ii = 0; ii < this.state.allProductionDataRealToBeTransfer.length; ++ii) {\r\n                let item = { ...this.state.allProductionDataRealToBeTransfer[ii] };\r\n                if (item.barcode !== newRecord.barcode) {\r\n                    item.key = ++key;\r\n                    allProductionDataRealToBeTransferTemp.push(item);\r\n                }\r\n            }\r\n\r\n            this.setState({\r\n                allProductionDataRealToBeTransferAdding: false,\r\n                allProductionDataRealToBeTransferAddingText: '',\r\n                allProductionDataRealToBeTransfer: allProductionDataRealToBeTransferTemp\r\n            });\r\n        }\r\n    };\r\n\r\n    startToRunAddToTransfers = async () => {\r\n        let firstRecord = this._readyToBeAddTransfers[0];\r\n        if (!firstRecord) {\r\n            return;\r\n        }\r\n\r\n        this._readyToBeAddRuning = true;\r\n        let newRecord = { ...firstRecord };\r\n        await this.doAddToTransfer(newRecord);\r\n        this._readyToBeAddTransfers.shift();\r\n        this._readyToBeAddRuning = false;\r\n\r\n        this.startToRunAddToTransfers();\r\n    };\r\n\r\n    handleEditableCellCurrentEnter = async (record, dataIndex) => {\r\n        let number = record[dataIndex];\r\n        // console.log('handleEditableCellCurrentEnter begin');\r\n        if (number > 0) {\r\n            // console.log(number);\r\n            this._readyToBeAddTransfers.push(record);\r\n\r\n            if (!this._readyToBeAddRuning) {\r\n                this.startToRunAddToTransfers();\r\n            }\r\n\r\n        } else {\r\n            new Audio(diAudioSrc).play();\r\n        }\r\n    };\r\n\r\n    handleDeleteProduct4Preview = (record) => {\r\n        // console.log('handleDeleteProduct4Preview begin');\r\n        let allProductionDataRealToBeTransferTemp = [];\r\n        let key = 0;\r\n        for (let ii = 0; ii < this.state.allProductionDataRealToBeTransfer.length; ++ii) {\r\n            let item = { ...this.state.allProductionDataRealToBeTransfer[ii] };\r\n            if (item.barcode !== record.barcode) {\r\n                item.key = ++key;\r\n                allProductionDataRealToBeTransferTemp.push(item);\r\n            }\r\n        }\r\n\r\n        this.setState({ allProductionDataRealToBeTransfer: allProductionDataRealToBeTransferTemp })\r\n    };\r\n\r\n    handleEditableCell4AddProductNextFocus = () => {\r\n        // console.log('handleEditableCell4AddProductNextFocus');\r\n\r\n        let searchProductDataToBeAddTemp = this.state.searchProductDataToBeAdd;\r\n\r\n        let lastFocusIndex = -1;\r\n        for (let i = 0; i < searchProductDataToBeAddTemp.length; ++i) {\r\n            let element = searchProductDataToBeAddTemp[i];\r\n            if (element.editing) {\r\n                lastFocusIndex = i;\r\n                break;\r\n            }\r\n        }\r\n\r\n        let newFocusIndex = lastFocusIndex;\r\n\r\n        while (true) {\r\n            newFocusIndex++;\r\n\r\n            if (newFocusIndex >= searchProductDataToBeAddTemp.length) {\r\n                if (this._searchInput4AddProduct) {\r\n                    this._searchInput4AddProduct.select();\r\n                }\r\n                break;\r\n            }\r\n\r\n            let item = searchProductDataToBeAddTemp[newFocusIndex];\r\n            item.editing = true;\r\n            break;\r\n        }\r\n\r\n        if (lastFocusIndex >= 0 && lastFocusIndex < searchProductDataToBeAddTemp.length) {\r\n            searchProductDataToBeAddTemp[lastFocusIndex].editing = false;\r\n        }\r\n\r\n        this.forceUpdate();\r\n    };\r\n\r\n    handleEditableCell4AddProductCurrentFocus = (record) => {\r\n        // console.log('handleEditableCell4AddProductCurrentFocus record=' + record);\r\n        let searchProductDataToBeAddTemp = this.state.searchProductDataToBeAdd;\r\n        for (let i = 0; i < searchProductDataToBeAddTemp.length; ++i) {\r\n            let item = searchProductDataToBeAddTemp[i];\r\n            item.editing = false;\r\n            // if (item.barcode === record.barcode) {\r\n            //     item.editing = true;\r\n            // }\r\n        }\r\n        record.editing = true;\r\n\r\n        this.forceUpdate();\r\n        // console.log(searchProductDataToBeAddTemp);\r\n    };\r\n\r\n    handleEditableCellAddProductOnChangeAddOrRemove = (addOrRemove, record) => {\r\n        if (addOrRemove === 'add') {\r\n            this.onAddProductSelect(record, true);\r\n\r\n            let selectKeys = [...this.state.addProductionSelectedRowKeys];\r\n            if (selectKeys.indexOf(record.key) === -1) {\r\n                selectKeys.push(record.key);\r\n            }\r\n            this.setState({ addProductionSelectedRowKeys: selectKeys });\r\n        } else if (addOrRemove === 'remove') {\r\n            this.onAddProductSelect(record, false);\r\n\r\n            let selectKeys = [...this.state.addProductionSelectedRowKeys];\r\n            if (selectKeys.indexOf(record.key) !== -1) {\r\n                selectKeys.splice(selectKeys.indexOf(record.key), 1);\r\n            }\r\n            this.setState({ addProductionSelectedRowKeys: selectKeys });\r\n        }\r\n    };\r\n\r\n    makePartnerPriceByCategory = (categoryName, price, memberPrice, wholePrice) => {\r\n        let partnerPrice = price;\r\n        if (KOutsideCategorys.indexOf(categoryName) === -1) {\r\n            let oriPrice = price;\r\n            if (this.state.currentShop.name === getAllOrderShopName()[1]) {//旧镇\r\n                oriPrice = (memberPrice < price ? memberPrice : price);\r\n            }\r\n\r\n            partnerPrice = oriPrice * 0.7;\r\n        } else {\r\n            partnerPrice = wholePrice;\r\n        }\r\n\r\n        partnerPrice = parseFloat(partnerPrice.toFixed(2));\r\n        return partnerPrice;\r\n    };\r\n\r\n    getLodopAfterInit = () => {\r\n        let LODOP = getLodop();\r\n\r\n        if (LODOP) {\r\n            LODOP.PRINT_INIT(\"react使用打印插件CLodop\");  //打印初始化\r\n            let strStyle =\r\n                `<style>\r\n                </style> `;\r\n            LODOP.SET_PRINTER_INDEX(getNeedlePrinterIndex(LODOP));\r\n            LODOP.SET_PRINT_PAGESIZE(1, 0, 0, getPageName4NeedlePrinter());\r\n            LODOP.SET_PREVIEW_WINDOW(0, 0, 0, 800, 600, '');\r\n            LODOP.SET_PRINT_COPIES(1);\r\n            LODOP.SET_PRINT_MODE(\"AUTO_CLOSE_PREWINDOW\", 1);//打印后自动关闭预览窗口\r\n            LODOP.ADD_PRINT_HTM(10, 0, \"100%\", '95%', strStyle + document.getElementById(\"printDiv\").innerHTML);\r\n        }\r\n\r\n        return LODOP;\r\n    };\r\n\r\n    productPrintPreprew = () => {\r\n        let LODOP = this.getLodopAfterInit();\r\n\r\n        if (LODOP) {\r\n            LODOP.PREVIEW();\r\n        }\r\n    };\r\n\r\n    productPrintDirect = () => {\r\n        let LODOP = this.getLodopAfterInit();\r\n\r\n        if (LODOP) {\r\n            LODOP.PRINT();\r\n        }\r\n    };\r\n\r\n    productPrintDirectAndBack = () => {\r\n        this.productPrintDirect();\r\n        this.setState({\r\n            productTransferPrintShow: false,\r\n            filterDropdownVisible4Transfer: true\r\n        })\r\n    };\r\n\r\n    handleBack = () => {\r\n        let paramValueObj = {};\r\n        paramValueObj.template = this._template;\r\n        paramValueObj.orderType = this._orderType;\r\n        paramValueObj.orderCashier = this._orderCashier;\r\n        paramValueObj.timeType = this._timeType;\r\n        paramValueObj.shop = this.state.currentShop;\r\n        paramValueObj.beginDateTime = this._beginDateTime;\r\n        paramValueObj.endDateTime = this._endDateTime;\r\n\r\n        let paramValueStr = JSON.stringify(paramValueObj);\r\n        // console.log('paramValueStr = ' + paramValueStr);\r\n\r\n        let paramStr = 'param=' + escape(paramValueStr);\r\n\r\n        let orderManagementUrl = getWWWHost() + '/orderManagement';\r\n\r\n        orderManagementUrl += '?';\r\n        orderManagementUrl += paramStr;\r\n        window.location.replace(orderManagementUrl);\r\n    };\r\n\r\n    handleAddProduct = () => {\r\n        // this._searchInput = null;\r\n        this.setState({\r\n            addProductionSelectedRowKeys: [], isAddProductionModalVisible: true,\r\n            filterDropdownVisible4Transfer: false, searchProductDataToBeAdd: []\r\n        });\r\n        setTimeout(() => {\r\n            if (this._searchInput4AddProduct) {\r\n                this._searchInput4AddProduct.select();\r\n                this._searchInput4AddProduct.setState({ value: '' });\r\n            }\r\n        }, 0);\r\n    };\r\n\r\n    makeTotalPrice = () => {\r\n        let totalPrice = 0;\r\n        this.state.allProductionDataRealToBeTransfer.forEach(element => {\r\n            totalPrice += element.price;\r\n        });\r\n        return totalPrice;\r\n    };\r\n\r\n    makePartnerPrice = () => {\r\n        let totalPartnerPrice = 0.0;\r\n        this.state.allProductionDataRealToBeTransfer.forEach(element => {\r\n            totalPartnerPrice += element.partnerPrice;\r\n        });\r\n        return totalPartnerPrice;\r\n    };\r\n\r\n    makePartnerPriceTotal = () => {\r\n        let totalPartnerPriceTotal = 0.0;\r\n        this.state.allProductionDataRealToBeTransfer.forEach(element => {\r\n            totalPartnerPriceTotal += element.partnerPriceTotal;\r\n        });\r\n        return totalPartnerPriceTotal;\r\n    };\r\n\r\n    render() {\r\n        const {\r\n            allProductionDataToBeTransfer,\r\n            allProductionDataRealToBeTransfer,\r\n            allProductionDataRealToBeTransferAdding,\r\n            allProductionDataRealToBeTransferAddingText,\r\n            searchProductDataToBeAdd,\r\n            searchingProductData,\r\n            isAddProductionModalVisible,\r\n            addProductionSelectedRowKeys,\r\n            currentShop,\r\n            productSpinTipText,\r\n            productSpinning,\r\n            productTransferPrintShow,\r\n            productTransferConfirmText\r\n        } = this.state;\r\n\r\n        let disableTransferPreviewOrPrint =\r\n            (allProductionDataRealToBeTransfer &&\r\n                allProductionDataRealToBeTransfer.length <= 0) ||\r\n            productTransferConfirmText !== '---确定出货---' ||\r\n            allProductionDataRealToBeTransferAdding;\r\n\r\n        /// 调货列表头配置\r\n        const KTransferColumns4Table = [\r\n            { title: '序', dataIndex: 'key', key: 'key', width: 60, render: (text) => { return <span style={{ fontSize: 10 }}>{text}</span>; } },\r\n            {\r\n                title: '简码', dataIndex: 'barcodeSimple', key: 'barcodeSimple', width: 200, editingIndex: 'editing',\r\n                ...this.getColumnSearchProps('barcodeSimple'),\r\n            },\r\n            { title: '品名', dataIndex: 'orderProductName', key: 'orderProductName', width: 160, render: (text) => { return <span style={{ fontSize: 14, color: 'red' }}>{text}</span>; } },\r\n            { title: '订货量', dataIndex: 'orderNumber', key: 'orderNumber', width: 80, render: (text) => { return <span style={{ fontSize: 14 }}>{text}</span>; } },\r\n            { title: '配货量', dataIndex: 'transferNumber', key: 'transferNumber', width: 160, editable: true, render: (text) => { return <span style={{ fontSize: 16 }}>{text}</span>; } },\r\n            { title: '配货价', dataIndex: 'transferPrice', key: 'transferPrice', width: 100, render: (text) => { return <span style={{ fontSize: 10 }}>{text}</span>; } },\r\n            { title: '分类', dataIndex: 'categoryName', key: 'categoryName', width: 100, render: (text) => { return <span style={{ fontSize: 10 }}>{text}</span>; } },\r\n            { title: '规格', dataIndex: 'specification', key: 'specification', width: 100, render: (text) => { return <span style={{ fontSize: 10 }}>{text}</span>; } },\r\n            {\r\n                title: '备注', dataIndex: 'remark', key: 'remark', width: '*',\r\n                render: (text) => {\r\n                    return text === '新增' ? (<span style={{\r\n                        fontSize: 14, color: 'skyblue',\r\n                        backgroundColor: 'yellow', fontWeight: 'bold'\r\n                    }}>{text}</span>) :\r\n                        <span style={{ fontSize: 10 }}>{text}</span>;\r\n                }\r\n            }\r\n        ];\r\n        const components4Transfer = {\r\n            body: {\r\n                row: EditableRow4Transfer,\r\n                cell: EditableCell4Transfer,\r\n            },\r\n        };\r\n        const transferColumns4TableEditable = KTransferColumns4Table.map((col) => {\r\n            if (!col.editable) {\r\n                return col;\r\n            }\r\n\r\n            return {\r\n                ...col,\r\n                onCell: (record) => ({\r\n                    record,\r\n                    editable: col.editable,\r\n                    dataIndex: col.dataIndex,\r\n                    title: col.title,\r\n                    handleEditableCellNextFocus: this.handleEditableCellNextFocus,\r\n                    handleEditableCellCurrentFocus: this.handleEditableCellCurrentFocus,\r\n                    handleEditableCellCurrentEnter: this.handleEditableCellCurrentEnter\r\n                }),\r\n            };\r\n        });\r\n\r\n        /// 增加商品列表头配置\r\n        const KAddProductionColumns4Table = [\r\n            { title: '序', dataIndex: 'key', key: 'key', width: 40, render: (text) => { return <span style={{ fontSize: 10 }}>{text}</span>; } },\r\n            { title: '条形码', dataIndex: 'barcode', key: 'barcode', width: 140, render: (text) => { return <span style={{ fontSize: 10 }}>{text}</span>; } },\r\n            { title: '品名', dataIndex: 'productName', key: 'productName', width: 120, render: (text) => { return <span style={{ fontSize: 14, color: 'red' }}>{text}</span>; } },\r\n            { title: '订货量', dataIndex: 'orderNumber', key: 'orderNumber', width: 60, render: (text) => { return <span style={{ fontSize: 14 }}>{text}</span>; } },\r\n            { title: '配货量', dataIndex: 'transferNumber', key: 'transferNumber', width: 80, editable: true, render: (text) => { return <span style={{ fontSize: 16 }}>{text}</span>; } },\r\n            { title: '分类', dataIndex: 'categoryName', key: 'categoryName', width: 120, render: (text) => { return <span style={{ fontSize: 10 }}>{text}</span>; } },\r\n            { title: '规格', dataIndex: 'specification', key: 'specification', width: 120, render: (text) => { return <span style={{ fontSize: 10 }}>{text}</span>; } },\r\n            { title: '销售价', dataIndex: 'price', key: 'price', width: 100, render: (text) => { return <span style={{ fontSize: 10 }}>{text}</span>; } },\r\n            { title: '会员价', dataIndex: 'memberPrice', key: 'memberPrice', width: 100, render: (text) => { return <span style={{ fontSize: 10 }}>{text}</span>; } },\r\n            { title: '批发价', dataIndex: 'wholePrice', key: 'wholePrice', width: 100, render: (text) => { return <span style={{ fontSize: 10 }}>{text}</span>; } },\r\n            { title: '备注', dataIndex: 'remark', key: 'remark', width: '*', render: (text) => { return <span style={{ fontSize: 10 }}>{text}</span>; } },\r\n        ];\r\n        const components4AddProduct = {\r\n            body: {\r\n                row: EditableRow4AddProduct,\r\n                cell: EditableCell4AddProduct,\r\n            },\r\n        };\r\n        const addProductColumns4TableEditable = KAddProductionColumns4Table.map((col) => {\r\n            if (!col.editable) {\r\n                return col;\r\n            }\r\n\r\n            return {\r\n                ...col,\r\n                onCell: (record) => ({\r\n                    record,\r\n                    editable: col.editable,\r\n                    dataIndex: col.dataIndex,\r\n                    title: col.title,\r\n                    handleEditableCellNextFocus: this.handleEditableCell4AddProductNextFocus,\r\n                    handleEditableCellCurrentFocus: this.handleEditableCell4AddProductCurrentFocus,\r\n                    handleEditableCellOnChangeAddOrRemove: this.handleEditableCellAddProductOnChangeAddOrRemove\r\n                }),\r\n            };\r\n        });\r\n\r\n        const addProductRowSelection = {\r\n            hideSelectAll: true,\r\n            selectedRowKeys: addProductionSelectedRowKeys,\r\n            onChange: this.onAddProductionSelectChange,\r\n            onSelect: this.onAddProductSelect\r\n        };\r\n\r\n        let currentTimeStr = moment().format('YYYY-MM-DD HH:mm a');\r\n\r\n        const KProductTransferPreviewColumns4Table = [\r\n            { title: '序', dataIndex: 'key', key: 'key', width: 40, render: (text) => { return <span style={{ fontSize: 10 }}>{text}</span>; } },\r\n            { title: '条形码', dataIndex: 'barcode', key: 'barcode', width: 140, render: (text) => { return <span style={{ fontSize: 10 }}>{text}</span>; } },\r\n            { title: '品名', dataIndex: 'orderProductName', key: 'orderProductName', width: 160, render: (text) => { return <span style={{ fontSize: 14, color: 'red' }}>{text}</span>; } },\r\n            { title: '订货量', dataIndex: 'orderNumber', key: 'orderNumber', width: 80, render: (text) => { return <span style={{ fontSize: 14 }}>{text}</span>; } },\r\n            {\r\n                title: '配货量', dataIndex: 'transferNumber', key: 'transferNumber', width: 80, editable: true,\r\n                render:\r\n                    (text, record) => {\r\n                        let orderN = parseFloat(record['orderNumber']);\r\n                        let transferN = parseFloat(text);\r\n                        let color = orderN !== 0 && orderN === transferN ? 'transparent' : 'yellow';\r\n                        return <span style={{ fontSize: 16, backgroundColor: color, padding: 4 }}>{text}</span>;\r\n                    }\r\n            },\r\n            { title: '分类', dataIndex: 'categoryName', key: 'categoryName', width: 120, render: (text) => { return <span style={{ fontSize: 10 }}>{text}</span>; } },\r\n            { title: '规格', dataIndex: 'specification', key: 'specification', width: 120, render: (text) => { return <span style={{ fontSize: 10 }}>{text}</span>; } },\r\n            { title: '销售价', dataIndex: 'price', key: 'price', width: 100, render: (text) => { return <span style={{ fontSize: 10 }}>{text}</span>; } },\r\n            { title: '会员价', dataIndex: 'memberPrice', key: 'memberPrice', width: 100, render: (text) => { return <span style={{ fontSize: 10 }}>{text}</span>; } },\r\n            { title: '批发价', dataIndex: 'wholePrice', key: 'wholePrice', width: 100, render: (text) => { return <span style={{ fontSize: 10 }}>{text}</span>; } },\r\n            { title: '加盟价', dataIndex: 'partnerPrice', key: 'partnerPrice', width: 100, render: (text) => { return <span style={{ fontSize: 10 }}>{text}</span>; } },\r\n            {\r\n                title: '操作',\r\n                key: 'action',\r\n                render: (text, record) => (\r\n                    <Button type='primary' danger onClick={(e) => {\r\n                        this.handleDeleteProduct4Preview(record);\r\n                    }}>删除</Button>\r\n                )\r\n            },\r\n            { title: '备注', dataIndex: 'remark', key: 'remark', width: '*', render: (text) => { return <span style={{ fontSize: 10 }}>{text}</span>; } }\r\n        ];\r\n\r\n        return (\r\n            <div>\r\n                <Spin tip={productSpinTipText} spinning={productSpinning} size='large'>\r\n                    <div>\r\n                        <div style={{\r\n                            zIndex: 2, bottom: 0, left: 0, right: 0, position: 'fixed',\r\n                            width: '100%', height: 60, backgroundColor: 'lightgray'\r\n                        }}>\r\n                            <div>\r\n                                <Button danger type='primary'\r\n                                    disabled={disableTransferPreviewOrPrint}\r\n                                    onClick={(e) => {\r\n                                        this.setState({ productTransferPrintShow: true, filterDropdownVisible4Transfer: false });\r\n                                    }}\r\n                                    style={{ width: 210, height: 30, marginLeft: 50, marginTop: 10 }}>\r\n                                    ---打印出货单---\r\n                                </Button>\r\n\r\n                                <Popconfirm title={`是否确定出货？`}\r\n                                    onConfirm={this.handleProductTransferConfirm}\r\n                                    disabled={disableTransferPreviewOrPrint}>\r\n                                    <Button danger type='primary'\r\n                                        disabled={disableTransferPreviewOrPrint}\r\n                                        style={{ width: 210, height: 30, marginLeft: 50, marginTop: 10 }}>\r\n                                        {productTransferConfirmText}\r\n                                    </Button>\r\n                                </Popconfirm>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div style={{ marginLeft: 10, marginTop: 10 }}>\r\n                            <Button type=\"primary\"\r\n                                style={{ width: 80, height: 40 }}\r\n                                onClick={(e) => this.handleBack()}>\r\n                                <div style={{ fontSize: 16 }}>\r\n                                    后退\r\n                                </div>\r\n                            </Button>\r\n                            <span style={{ marginLeft: 10 }}>{`弯麦(总部)->`}</span>\r\n                            <span style={{ marginLeft: 0, marginRight: 10, color: 'red' }}>{currentShop.name}</span>\r\n\r\n                            <Button type=\"primary\" danger\r\n                                style={{ width: 60, height: 30 }}\r\n                                onClick={() => {\r\n                                    this.handleAddProduct();\r\n                                }}>\r\n                                <div style={{ fontSize: 8 }}>\r\n                                    +商品\r\n                                </div>\r\n                            </Button>\r\n                        </div>\r\n\r\n                        <Table style={{ marginTop: 10, marginLeft: 10, marginRight: 10 }}\r\n                            size='small'\r\n                            components={components4Transfer}\r\n                            rowClassName={() => 'editable-row'}\r\n                            dataSource={allProductionDataToBeTransfer}\r\n                            columns={transferColumns4TableEditable}\r\n                            pagination={false} bordered\r\n                            scroll={{ y: 160, scrollToFirstRowOnChange: true }}\r\n                            footer={() => (\r\n                                <div style={{ textAlign: 'center', height: 15, fontSize: 12 }}>\r\n                                    {`总共 ${allProductionDataToBeTransfer.length} 项`}\r\n                                </div>\r\n                            )}\r\n                        />\r\n                    </div>\r\n                </Spin>\r\n\r\n                <div>\r\n                    <Table\r\n                        style={{\r\n                            height: 480, backgroundColor: 'transparent',\r\n                            marginLeft: 10, marginRight: 10\r\n                        }}\r\n                        size='small'\r\n                        loading={{\r\n                            spinning: allProductionDataRealToBeTransferAdding,\r\n                            tip: allProductionDataRealToBeTransferAddingText\r\n                        }}\r\n                        dataSource={allProductionDataRealToBeTransfer}\r\n                        columns={KProductTransferPreviewColumns4Table}\r\n                        bordered pagination={false}\r\n                        scroll={{ y: 295, scrollToFirstRowOnChange: true }}\r\n                        footer={() => (\r\n                            <div style={{ textAlign: 'center', height: 15, fontSize: 15 }}>\r\n                                {`总共 ${allProductionDataRealToBeTransfer.length} 项`}\r\n                            </div>\r\n                        )}\r\n                    />\r\n                </div>\r\n\r\n                <div>\r\n                    <Modal\r\n                        width={1200}\r\n                        centered\r\n                        keyboard={true}\r\n                        maskClosable={false}\r\n                        closable={false}\r\n                        title={\r\n                            (<div>\r\n                                <span>\r\n                                    添加商品\r\n                                </span>\r\n                                <Search\r\n                                    style={{ width: 240, marginLeft: 20 }}\r\n                                    ref={(node) => {\r\n                                        if (!this._searchInput4AddProduct && node) {\r\n                                            node && node.focus();\r\n                                            this._searchInput4AddProduct = node;\r\n                                        }\r\n                                    }}\r\n                                    enterButton\r\n                                    placeholder='-返回'\r\n                                    onSearch={(text, e) => this.handleAddProductOnSearch(text, e)}\r\n                                    onChange={(e) => {\r\n                                        // console.log('onChange start');\r\n\r\n                                        if (e.target.value !== '') {\r\n                                            let lastStr = e.target.value.substring(e.target.value.length - 1);\r\n                                            if (lastStr === '-') {\r\n                                                this.handleAddProductionModalonOk();\r\n                                                return;\r\n                                            } else if (lastStr === '+' ||\r\n                                                lastStr === '*' || lastStr === '/' || lastStr === '.') {\r\n                                                new Audio(diAudioSrc).play();\r\n                                                return;\r\n                                            }\r\n                                            // console.log(e.target.value);\r\n                                        }\r\n\r\n                                        this._searchText4AddProduct4onChange = e.target.value;\r\n                                        this._lastSearchText4AddProduct4onChange = e.target.value;\r\n                                    }}>\r\n                                </Search>\r\n                            </div>)}\r\n                        visible={isAddProductionModalVisible}\r\n                        onOk={this.handleAddProductionModalonOk}\r\n                        okText='完毕'\r\n                        cancelButtonProps={{ hidden: true }}>\r\n                        <Table\r\n                            size='small'\r\n                            rowSelection={addProductRowSelection}\r\n                            loading={searchingProductData}\r\n                            dataSource={searchProductDataToBeAdd}\r\n                            components={components4AddProduct}\r\n                            columns={addProductColumns4TableEditable}\r\n                            bordered pagination={false}\r\n                            scroll={{ y: 400, scrollToFirstRowOnChange: true }}\r\n                        />\r\n                    </Modal>\r\n                </div>\r\n\r\n                <div>\r\n                    <Modal\r\n                        width={1000}\r\n                        centered\r\n                        keyboard\r\n                        maskClosable={false}\r\n                        maskStyle={{ backgroundColor: 'white' }}\r\n                        title={(<div style={{ height: 0 }}></div>)}\r\n                        closable={false}\r\n                        visible={productTransferPrintShow}\r\n                        footer={\r\n                            (<div style={{ marginRight: 120, marginBottom: 20, marginTop: 20 }}>\r\n                                <Button key=\"back\" onClick={(e) =>\r\n                                    this.setState({\r\n                                        productTransferPrintShow: false,\r\n                                        filterDropdownVisible4Transfer: true\r\n                                    })}>\r\n                                    取消\r\n                                </Button>,\r\n                                <Button key=\"submit\" type=\"primary\" danger onClick={(e) => this.productPrintDirectAndBack()}>\r\n                                    直接打印\r\n                                </Button>,\r\n                                <Button\r\n                                    key=\"link\"\r\n                                    type=\"primary\"\r\n                                    onClick={(e) => this.productPrintPreprew()}\r\n                                >\r\n                                    打印预览\r\n                                </Button>\r\n                            </div>)\r\n                        }>\r\n                        <div id=\"printDiv\" style={{ width: '100%', height: 500, borderStyle: 'dotted' }}>\r\n                            <div style={{\r\n                                marginLeft: 10, marginTop: 10, marginRight: 10,\r\n                                backgroundColor: 'transparent'\r\n                            }}>\r\n                                <div>\r\n                                    <span style={{ fontSize: 14 }}>门店出货单</span>\r\n                                    <span style={{\r\n                                        marginLeft: 10, fontSize: 14, backgroundColor: 'green',\r\n                                        paddingLeft: 12, paddingRight: 12, color: 'white'\r\n                                    }}>\r\n                                        {`共${allProductionDataRealToBeTransfer.length}项`}\r\n                                    </span>\r\n                                </div>\r\n                                <div>\r\n                                    <span>收货门店：</span>\r\n                                    <span style={{ fontSize: 24, fontWeight: 'bold' }}>{currentShop.name}</span>\r\n                                    <span style={{ marginLeft: 100 }}>出单时间：</span>\r\n                                    <span>{currentTimeStr}</span>\r\n                                </div>\r\n                                <div>\r\n                                    {\r\n                                        <table border='1' cellSpacing='0' style={{ float: 'left', borderCollapse: 'collapse' }}>\r\n                                            <thead>\r\n                                                <tr>\r\n                                                    <th style={{ textAlign: 'center', fontWeight: 'bold' }}>序</th>\r\n                                                    <th style={{ textAlign: 'center', fontWeight: 'bold' }}>条码</th>\r\n                                                    <th style={{ textAlign: 'center', fontWeight: 'bold' }}>品名</th>\r\n                                                    <th style={{ textAlign: 'center', fontWeight: 'bold', fontSize: 12 }}>订货量</th>\r\n                                                    <th style={{ textAlign: 'center', fontWeight: 'bold', fontSize: 12 }}>配货量</th>\r\n                                                    <th style={{ textAlign: 'center', fontWeight: 'bold' }}>分类</th>\r\n                                                    <th style={{ textAlign: 'center', fontWeight: 'bold' }}>规格</th>\r\n                                                    <th style={{ textAlign: 'center', fontWeight: 'bold', fontSize: 12 }}>销售价</th>\r\n                                                    <th style={{ textAlign: 'center', fontWeight: 'bold', fontSize: 12 }}>加盟价</th>\r\n                                                    <th style={{ textAlign: 'center', fontWeight: 'bold', fontSize: 12 }}>进货总价</th>\r\n                                                    <th style={{ textAlign: 'center', fontWeight: 'bold' }}>备注</th>\r\n                                                </tr>\r\n                                            </thead>\r\n                                            <tbody>\r\n                                                {\r\n                                                    allProductionDataRealToBeTransfer.map((productItem) => {\r\n                                                        // console.log(productItem)\r\n                                                        let serialNum = allProductionDataRealToBeTransfer.indexOf(productItem) + 1;\r\n                                                        let transferNumberBGcolor = productItem.transferNumber !== 0 &&\r\n                                                            productItem.transferNumber === productItem.orderNumber\r\n                                                            ? 'transparent' : 'yellow';\r\n                                                        return (\r\n                                                            <tr key={serialNum}>\r\n                                                                <th key='1' style={{ height: 22, width: 20, textAlign: 'center', fontSize: 16 }}>{serialNum}</th>\r\n                                                                <th key='2' style={{ height: 22, width: 120, textAlign: 'center', fontSize: 16 }}>{productItem.barcode}</th>\r\n                                                                <th key='3' style={{ height: 22, width: 160, textAlign: 'center', fontSize: 16 }}>{productItem.orderProductName}</th>\r\n                                                                <th key='4' style={{ height: 22, width: 30, textAlign: 'center', fontSize: 16 }}>{productItem.orderNumber}</th>\r\n                                                                <th key='5' style={{ backgroundColor: transferNumberBGcolor, height: 22, width: 30, textAlign: 'center', fontSize: 16 }}>{productItem.transferNumber}</th>\r\n                                                                <th key='6' style={{ height: 22, width: 140, textAlign: 'center', fontSize: 16 }}>{productItem.categoryName}</th>\r\n                                                                <th key='7' style={{ height: 22, width: 140, textAlign: 'center', fontSize: 16 }}>{productItem.specification}</th>\r\n                                                                <th key='8' style={{ height: 22, width: 40, textAlign: 'center', fontSize: 16 }}>{productItem.price}</th>\r\n                                                                <th key='9' style={{ height: 22, width: 40, textAlign: 'center', fontSize: 16 }}>{productItem.partnerPrice}</th>\r\n                                                                <th key='10' style={{ height: 22, width: 40, textAlign: 'center', fontSize: 16 }}>{productItem.partnerPriceTotal}</th>\r\n                                                                <th key='11' style={{ height: 22, width: '*', textAlign: 'center', fontSize: 16 }}></th>\r\n                                                            </tr>)\r\n                                                    })\r\n                                                }\r\n                                                <tr key='total'>\r\n                                                    <th key='1' colSpan='9' style={{ height: 24, textAlign: 'center', fontSize: 16 }}>\r\n                                                        总计\r\n                                                    </th>\r\n                                                    <th key='2' style={{ height: 24, textAlign: 'center', fontSize: 16 }}>\r\n                                                        {this.makePartnerPriceTotal().toFixed(2)}\r\n                                                    </th>\r\n                                                </tr>\r\n                                            </tbody>\r\n                                        </table>\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </Modal>\r\n                </div>\r\n            </div >\r\n        );\r\n    };\r\n};\r\n\r\nexport default ProductDistributeInputer;\r\n","/*\r\n打印商品标签\r\n*/\r\nimport React from 'react';\r\nimport {\r\n    Input, message, List,\r\n    Card, Button, InputNumber,\r\n    DatePicker, Radio\r\n} from 'antd';\r\nimport moment from 'moment';\r\n\r\nimport {\r\n    loadProductsByKeyword\r\n} from '../api/api';\r\n\r\nimport {\r\n    getLabelPrinterIndex\r\n} from '../api/util';\r\n\r\nimport {\r\n    getLodop\r\n} from './Lodop6.226_Clodop4.127/LodopFuncs';\r\n\r\nconst { Search } = Input;\r\n\r\nconst KAmOrPmTypeOptions = [\r\n    { label: '早上 z', value: 'z' },\r\n    { label: '下午 zz', value: 'zz' }\r\n];\r\n\r\nconst KMarkTypeOptions = [\r\n    { label: '不加点号', value: '' },\r\n    { label: '加点号', value: '•' }\r\n];\r\n\r\nclass ProductLabelPrinter extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            productList: [],\r\n            searching: false,\r\n            amOrPmType: KAmOrPmTypeOptions[0].value,\r\n            markType: KMarkTypeOptions[0].value,\r\n            productLabelPrintProductionDate: moment()\r\n        };\r\n    }\r\n\r\n    componentDidMount = async () => {\r\n    };\r\n\r\n    // 搜索\r\n    handleOnSearch = async (value) => {\r\n        if (value.trim() === '' || value === undefined) {\r\n            this.setState({ productList: [] });\r\n            return;\r\n        }\r\n\r\n        this.setState({ searching: true });\r\n        let result = await loadProductsByKeyword(value);\r\n        this.setState({ searching: false });\r\n        if (!result || result.errCode !== 0) {\r\n            this.setState({ productList: [] });\r\n            message.warning('查找商品信息失败~');\r\n            return;\r\n        }\r\n\r\n        // console.log('result.items = ' + result.items);\r\n\r\n        this.setState({ productList: result.items });\r\n    }\r\n\r\n    handleAmOrPmTypeChange = (e) => {\r\n        this.setState({ amOrPmType: e.target.value });\r\n    }\r\n\r\n    handleMarkTypeChange = (e) => {\r\n        this.setState({ markType: e.target.value });\r\n    }\r\n\r\n    handleProductLabelPrintProductionDateChange = (date) => {\r\n        this.setState({ productLabelPrintProductionDate: date });\r\n    }\r\n\r\n    getTitleHtml = (text, fontSize) => {\r\n        let str = \"<!doctype html>\" +\r\n            \"<style>\" +\r\n            \"#title\" +\r\n            \"{\" +\r\n            \"text-align:center;\" +\r\n            \"font-family:'微软雅黑';\" +\r\n            \"font-size:\" +\r\n            fontSize + \";\" +\r\n            \"}\" +\r\n            \"</style>\" +\r\n            \"<div id='title'>\" +\r\n            text +\r\n            \"</div>\";\r\n\r\n        return str;\r\n    }\r\n\r\n    getLodopAfterInit4Label = () => {\r\n        let LODOP = getLodop();\r\n\r\n        if (LODOP) {\r\n            LODOP.PRINT_INIT(\"react使用打印插件CLodop\");  //打印初始化\r\n            LODOP.SET_PRINTER_INDEX(getLabelPrinterIndex(LODOP));\r\n            LODOP.SET_PRINT_PAGESIZE(1, 400, 300, '');\r\n            LODOP.SET_PREVIEW_WINDOW(0, 0, 0, 600, 450, '');\r\n            LODOP.SET_PRINT_COPIES(1);\r\n            LODOP.SET_PRINT_MODE(\"AUTO_CLOSE_PREWINDOW\", 1);//打印后自动关闭预览窗口\r\n        }\r\n\r\n        return LODOP;\r\n    };\r\n\r\n    productLabelPrintDirect = (\r\n        orderProductName,\r\n        barcode,\r\n        transferPrice,\r\n        ingredients,\r\n        productLabelPrintProductionDateAndTime,\r\n        expirationDate) => {\r\n        let LODOP = this.getLodopAfterInit4Label();\r\n\r\n        if (LODOP) {\r\n            let fontSize = '14px';\r\n            if (orderProductName.length > 14) fontSize = '11px';\r\n            else if (orderProductName.length > 12) fontSize = '12px';\r\n            else if (orderProductName.length > 10) fontSize = '13px';\r\n            LODOP.ADD_PRINT_HTM(3, 0, '40mm', 15, this.getTitleHtml(orderProductName, fontSize));\r\n\r\n            LODOP.ADD_PRINT_TEXT(16, 42, 150, 15, barcode);\r\n            LODOP.SET_PRINT_STYLEA(2, \"FontName\", \"微软雅黑\");\r\n            LODOP.SET_PRINT_STYLEA(2, \"FontSize\", 7);\r\n\r\n            LODOP.ADD_PRINT_BARCODE(28, 16, 174, 14, \"128Auto\", barcode);\r\n            LODOP.SET_PRINT_STYLEA(3, \"ShowBarText\", 0);\r\n\r\n            LODOP.ADD_PRINT_TEXT(42, 6, 150, 15, ingredients);\r\n            LODOP.SET_PRINT_STYLEA(4, \"FontName\", \"微软雅黑\");\r\n            LODOP.SET_PRINT_STYLEA(4, \"FontSize\", 7);\r\n\r\n            LODOP.ADD_PRINT_TEXT(54, 6, 150, 15, productLabelPrintProductionDateAndTime);\r\n            LODOP.SET_PRINT_STYLEA(5, \"FontName\", \"微软雅黑\");\r\n            LODOP.SET_PRINT_STYLEA(5, \"FontSize\", 7);\r\n\r\n            LODOP.ADD_PRINT_TEXT(66, 6, 150, 15, expirationDate);\r\n            LODOP.SET_PRINT_STYLEA(6, \"FontName\", \"微软雅黑\");\r\n            LODOP.SET_PRINT_STYLEA(6, \"FontSize\", 7);\r\n\r\n            LODOP.ADD_PRINT_TEXT(78, 6, 150, 15, '生产商：漳州古西优作食品有限公司漳浦分公司');\r\n            LODOP.SET_PRINT_STYLEA(7, \"FontName\", \"微软雅黑\");\r\n            LODOP.SET_PRINT_STYLEA(7, \"FontSize\", 5);\r\n\r\n            LODOP.ADD_PRINT_TEXT(86, 6, 150, 15, '经营许可证编号：JY23506230105266');\r\n            LODOP.SET_PRINT_STYLEA(8, \"FontName\", \"微软雅黑\");\r\n            LODOP.SET_PRINT_STYLEA(8, \"FontSize\", 5);\r\n\r\n            LODOP.ADD_PRINT_TEXT(94, 6, 150, 15, '地址：漳浦县府前街西247号');\r\n            LODOP.SET_PRINT_STYLEA(9, \"FontName\", \"微软雅黑\");\r\n            LODOP.SET_PRINT_STYLEA(9, \"FontSize\", 5);\r\n\r\n            LODOP.ADD_PRINT_TEXT(102, 6, 150, 15, '电话：13290768588');\r\n            LODOP.SET_PRINT_STYLEA(10, \"FontName\", \"微软雅黑\");\r\n            LODOP.SET_PRINT_STYLEA(10, \"FontSize\", 5);\r\n\r\n            LODOP.ADD_PRINT_TEXT(94, 100, 150, 15, transferPrice);\r\n            LODOP.SET_PRINT_STYLEA(11, \"FontName\", \"微软雅黑\");\r\n            LODOP.SET_PRINT_STYLEA(11, \"FontSize\", 12);\r\n\r\n            LODOP.PRINT();\r\n            // LODOP.PREVIEW();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            productList,\r\n            searching,\r\n            amOrPmType,\r\n            markType,\r\n            productLabelPrintProductionDate\r\n        } = this.state;\r\n\r\n        return (\r\n            <div style={{ textAlign: 'center' }}>\r\n                <div style={{ fontSize: 25, marginTop: 32, marginBottom: 32 }}>\r\n                    标签打印\r\n                </div>\r\n                <div>\r\n                    <DatePicker picker='day'\r\n                        size='small'\r\n                        style={{ width: 170 }}\r\n                        placeholder='选择生产日期'\r\n                        format='YYYY-MM-DD dddd'\r\n                        value={productLabelPrintProductionDate}\r\n                        onChange={this.handleProductLabelPrintProductionDateChange} />\r\n                    <Radio.Group style={{ marginLeft: 18 }}\r\n                        options={KAmOrPmTypeOptions}\r\n                        value={amOrPmType}\r\n                        onChange={this.handleAmOrPmTypeChange}>\r\n                    </Radio.Group>\r\n                    <Radio.Group style={{ marginLeft: 18 }}\r\n                        optionType='button'\r\n                        buttonStyle=\"solid\"\r\n                        options={KMarkTypeOptions}\r\n                        value={markType}\r\n                        onChange={this.handleMarkTypeChange}>\r\n                    </Radio.Group>\r\n                </div>\r\n                <div style={{ marginTop: 20 }}>\r\n                    <Search\r\n                        ref={(ref) => this._searchRef = ref}\r\n                        autoFocus\r\n                        style={{ width: 280 }}\r\n                        placeholder=\"输入条形码或者名称\"\r\n                        allowClear\r\n                        size='large'\r\n                        onSearch={this.handleOnSearch}\r\n                    />\r\n                </div>\r\n\r\n                <List\r\n                    loading={searching}\r\n                    style={{\r\n                        marginTop: 20, marginBottom: 20,\r\n                        marginLeft: 10, marginRight: 10\r\n                    }}\r\n                    grid={{\r\n                        gutter: 0,\r\n                        xs: 1,\r\n                        sm: 2,\r\n                        md: 3,\r\n                        lg: 4,\r\n                        xl: 5,\r\n                        xxl: 6,\r\n                    }}\r\n                    bordered\r\n                    dataSource={productList}\r\n                    renderItem={item => (\r\n                        <List.Item key={item.key} style={{ marginTop: 20 }}>\r\n                            <Card title={item.productName} headStyle={{ backgroundColor: '#E8EBE4' }}>\r\n                                <div style={{ border: '1px dotted #5F9EA0' }}>\r\n                                    <div style={{ textAlign: 'center', fontSize: 16, marginTop: 2 }}>\r\n                                        {`弯麦-${item.productName}`}\r\n                                    </div>\r\n                                    <div style={{ fontSize: 14 }}>\r\n                                        {item.barcode}\r\n                                    </div>\r\n                                    <div style={{ textAlign: 'left', fontSize: 14, marginLeft: 8 }}>\r\n                                        {`分类：${item.categoryName}`}\r\n                                    </div>\r\n                                    <div style={{ textAlign: 'left', fontSize: 14, marginLeft: 8 }}>\r\n                                        {`配料表: ${item.ingredients}`}\r\n                                    </div>\r\n                                    <div style={{ textAlign: 'left', fontSize: 14, marginLeft: 8 }}>\r\n                                        {`保质期: ${item.qualityDay}天`}\r\n                                    </div>\r\n                                    <div style={{ textAlign: 'left', fontSize: 12, marginLeft: 8 }}>\r\n                                        生产商：漳州市古西优作食品有限公司漳浦分公司\r\n                                    </div>\r\n                                    <div style={{ textAlign: 'left', fontSize: 12, marginLeft: 8 }}>\r\n                                        地址：漳浦县府前街西247号\r\n                                    </div>\r\n                                    <div style={{ textAlign: 'left', fontSize: 12, marginLeft: 8 }}>\r\n                                        电话：13290768588\r\n                                        <span style={{ fontSize: 14, marginLeft: 40 }}>{`${item.price}元`}</span>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div style={{ marginTop: 8 }}>\r\n                                    <span style={{ textAlign: 'left' }}>\r\n                                        <InputNumber min={1} max={100} defaultValue={1} value={\r\n                                            item._printCount ? item._printCount : 1\r\n                                        }\r\n                                            onChange={(value) => {\r\n                                                item._printCount = value;\r\n                                                this.forceUpdate();\r\n                                            }}></InputNumber>\r\n                                    </span>\r\n                                    <span style={{ textAlign: 'right', marginLeft: 8 }}>\r\n                                        <Button type='primary' danger onClick={() => {\r\n                                            let qualityDay = item.qualityDay;\r\n                                            let qualityDayInt = 3;\r\n                                            try {\r\n                                                qualityDayInt = parseInt(qualityDay);\r\n                                            } catch {\r\n                                                qualityDayInt = 3;\r\n                                            }\r\n                                            let expirationDate = new moment(productLabelPrintProductionDate).add(qualityDayInt, 'days').endOf('day');\r\n\r\n                                            let template = {\r\n                                                name: '弯麦-' + item.productName,\r\n                                                barcode: item.barcode,\r\n                                                price: '¥' + Number(item.price).toFixed(1),\r\n                                                ingredients: '配料表：' + item.ingredients,\r\n                                                productLabelPrintProductionDateAndTime:\r\n                                                    '生产日期：' + productLabelPrintProductionDate.format('MM/DD') + ' ' + amOrPmType + ' ' + markType,\r\n                                                expirationDate: '保质期至：' + expirationDate.format('MM/DD HH:mm')\r\n                                            };\r\n                                            // console.log('template = ' + JSON.stringify(template));\r\n\r\n                                            /// 打印个数\r\n                                            let loopCount = 1;\r\n                                            if (item._printCount) {\r\n                                                loopCount = item._printCount;\r\n                                            }\r\n                                            for (let i = 0; i < loopCount; ++i) {\r\n                                                /// 输出打印\r\n                                                this.productLabelPrintDirect(\r\n                                                    template.name,\r\n                                                    template.barcode,\r\n                                                    template.price,\r\n                                                    template.ingredients,\r\n                                                    template.productLabelPrintProductionDateAndTime,\r\n                                                    template.expirationDate\r\n                                                );\r\n                                            }\r\n\r\n                                            /// 焦点返回，方便下次输入\r\n                                            this._searchRef.select();\r\n                                        }}>发送</Button>\r\n                                    </span>\r\n                                </div>\r\n                            </Card>\r\n                        </List.Item>\r\n                    )\r\n                    }\r\n                />\r\n\r\n            </div >\r\n        )\r\n    };\r\n};\r\n\r\nexport default ProductLabelPrinter;\r\n","/*\r\n普通商品\r\n1：确定商品照片原图，商品名称，商品价格；\r\n2：银豹后台录入商品信息；\r\n3：商品绑定外卖平台。\r\n4：更新外卖平台对应商品属性信息等。\r\n\r\n生日蛋糕\r\n除上面步骤外，额外\r\n1：商品图片放入坚果云《生日蛋糕》目录；\r\n2：商品图片放入自定义网站《生日蛋糕》目录；\r\n3：如需要在银豹副屏幕上推广则放入坚果云《银豹副屏图片》目录；\r\n*/\r\n\r\nimport React from 'react';\r\n// import { loadElemeProducts } from '../api/api';\r\nimport {\r\n    Button\r\n} from 'antd';\r\n\r\n/**--------------------配置信息--------------------*/\r\nclass ProductManagement extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this._a = 1;\r\n    };\r\n\r\n    componentDidMount = async () => {\r\n        // await loadElemeProducts();\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div style={{ marginLeft: 20, marginTop: 20 }}>\r\n                <div>\r\n                    商品资料\r\n                </div>\r\n\r\n                <div>\r\n                    <Button>新增商品</Button>\r\n                    <Button>新增生日蛋糕</Button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ProductManagement;\r\n","import React from 'react';\r\nimport moment from 'moment';\r\nimport QRCode from 'qrcode';\r\nimport html2Canvas from 'html2canvas';\r\nimport QueueAnim from 'rc-queue-anim';\r\nimport {\r\n    Image, Divider, Button, Spin,\r\n    Timeline, Space\r\n} from 'antd';\r\nimport {\r\n    wechatSign,\r\n    geocode,\r\n    findCakeOrder\r\n} from '../api/api';\r\nimport { getWWWHost } from '../api/util';\r\n\r\nclass CakeOrder extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            order: {},\r\n            /// 生成预定单图片\r\n            orderingTime: '',\r\n            orderImageModalVisiable: false,\r\n            orderImageSrc: undefined,\r\n            orderImageCapturing: false,\r\n            localImgDataLoading: false,\r\n            image4QRCode: ''\r\n        };\r\n    };\r\n\r\n    componentDidMount = async () => {\r\n        let query = this.props.query;\r\n        let _id = query && query.get('_id');\r\n        if (_id) {\r\n            let findResult = await findCakeOrder(_id);\r\n            console.log('findResult = ' + JSON.stringify(findResult));\r\n            if (findResult.errCode === 0) {\r\n                let order = findResult.order;\r\n                this.setState({ order: order });\r\n                this.updateWeixinConfig(\r\n                    '蛋糕订购单',\r\n                    `${order?.name}-${order?.cream}-${order?.size}-${order?.pickUpDay}-${order?.pickUpTime}-${order?.pickUpName}-${order?.phoneNumber}`,\r\n                    `http://gratefulwheat.ruyue.xyz${order.images[0]}`\r\n                );\r\n            }\r\n        }\r\n\r\n        this.initLocal();\r\n    };\r\n\r\n    initLocal = () => {\r\n        // 初始化local\r\n        this._lastKeys = [];\r\n\r\n        // 订单模板\r\n        this._theDiv4CaptureWidth = 760;\r\n        let theDiv4CaptureHeight = this._theDiv4CaptureWidth * 148 / 210;\r\n        this._theDiv4CaptureStyle = {\r\n            width: this._theDiv4CaptureWidth,\r\n            height: theDiv4CaptureHeight,\r\n            background: 'white'\r\n        };\r\n        this._theLeftDivInTheDiv4CaptureStyle = {\r\n            width: theDiv4CaptureHeight - 180,\r\n            height: theDiv4CaptureHeight - 180 + 40,\r\n            float: 'left', marginLeft: 8,\r\n            borderRadius: 8, border: '2px dotted #00A2A5'\r\n        };\r\n        this._theRightDivInTheDiv4CaptureStyle = {\r\n            float: 'right',\r\n            width: this._theDiv4CaptureWidth - theDiv4CaptureHeight + 160\r\n        };\r\n\r\n        // 订单图片\r\n        let orderImageWidth = window.innerWidth;\r\n        if (orderImageWidth > 680) orderImageWidth = 680;\r\n        let orderImageHeight = orderImageWidth * 148 / 210;\r\n        let titleAndFooterHeight = 190;\r\n        this._orderImageDivStyle = {\r\n            width: orderImageWidth,\r\n            height: orderImageHeight + titleAndFooterHeight,\r\n            marginTop: (window.innerHeight - (orderImageHeight + titleAndFooterHeight)) / 2,\r\n            marginLeft: (window.innerWidth - orderImageWidth) / 2\r\n        };\r\n\r\n        this._orderImageStyle = {\r\n            width: orderImageWidth,\r\n            height: orderImageHeight,\r\n            border: '2px dashed #00A2A5'\r\n        };\r\n\r\n        this._orderImageInStyle = {\r\n            width: orderImageWidth - 4,\r\n            height: orderImageHeight - 4\r\n        };\r\n    }\r\n\r\n    updateWeixinConfig = async (title, desc, imageUrl) => {\r\n        /// 微信环境判断\r\n        let is_weixin = window.navigator.userAgent.toLowerCase().indexOf(\"micromessenger\") !== -1;\r\n        if (!is_weixin) return;\r\n\r\n        /**\r\n          * 微信配置\r\n          */\r\n        let res = await wechatSign(document.URL.split('#')[0]);\r\n        if (res) {\r\n            /// 如果没有传递过来appid，则微信接口出错，前端不处理后续流程\r\n            if (!res.appId) return;\r\n\r\n            /**\r\n             * 微信JSSDK注入配置信息\r\n             */\r\n            window.wx.config({\r\n                debug: false, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。\r\n                appId: res.appId, // 必填，公众号的唯一标识\r\n                timestamp: res.timestamp, // 必填，生成签名的时间戳\r\n                nonceStr: res.nonceStr, // 必填，生成签名的随机串\r\n                signature: res.signature,// 必填，签名\r\n                jsApiList: [\r\n                    'updateAppMessageShareData',\r\n                    'updateTimelineShareData',\r\n                    'openLocation'\r\n                ] // 必填，需要使用的JS接口列表\r\n            });\r\n\r\n            window.wx.ready(function () {\r\n                /**\r\n                 * config信息验证后会执行ready方法，所有接口调用都必须在config接口获得结果之后，\r\n                 * config是一个客户端的异步操作，所以如果需要在页面加载时就调用相关接口，\r\n                 * 则须把相关接口放在ready函数中调用来确保正确执行。\r\n                 * 对于用户触发时才调用的接口，则可以直接调用，不需要放在ready函数中。\r\n                 * */\r\n                // console.log('window.wx ready');\r\n\r\n                // 自定义“分享给朋友”及“分享到QQ”按钮的分享内容\r\n                window.wx.updateAppMessageShareData({\r\n                    title: title, // 分享标题\r\n                    desc: desc, // 分享描述\r\n                    link: document.URL, // 分享链接，该链接域名或路径必须与当前页面对应的公众号JS安全域名一致\r\n                    imgUrl: imageUrl, // 分享图标\r\n                    success: function () {\r\n                        // 设置成功\r\n                        // console.log('window.wx.updateAppMessageShareData success');\r\n                    },\r\n                    fail: function (res) {\r\n                        // 设置失败\r\n                        // console.log('window.wx.updateAppMessageShareData fail res=' + res);\r\n                    }\r\n                });\r\n\r\n                // 自定义“分享到朋友圈”及“分享到QQ空间”按钮的分享内容\r\n                window.wx.updateTimelineShareData({\r\n                    title: title, // 分享标题\r\n                    link: document.URL, // 分享链接，该链接域名或路径必须与当前页面对应的公众号JS安全域名一致\r\n                    imgUrl: imageUrl, // 分享图标\r\n                    success: function () {\r\n                        // 设置成功\r\n                        // console.log('window.wx.updateTimelineShareData success');\r\n                    },\r\n                    fail: function () {\r\n                        // 设置失败\r\n                        // console.log('window.wx.updateTimelineShareData fail');\r\n                    }\r\n                });\r\n            });\r\n\r\n            window.wx.error(function (res) {\r\n                /**\r\n                 * config信息验证失败会执行error函数，如签名过期导致验证失败，具体错误信息可以打开config的debug模式查看，\r\n                 * 也可以在返回的res参数中查看，对于SPA可以在这里更新签名。\r\n                 */\r\n                console.log('window.wx error res = ' + JSON.stringify(res));\r\n            });\r\n        }\r\n    };\r\n\r\n    handleOrderCakeInfoModalOk = () => {\r\n        const { order } = this.state;\r\n\r\n        this.setState({\r\n            orderImageCapturing: true,\r\n            orderingTime: moment().format('YYYY.MM.DD ddd a HH:mm'),\r\n            image4QRCode: ''\r\n        }, () => {\r\n            setTimeout(async () => {\r\n                let cakeOrderUrl = getWWWHost() + `/cakeOrder?_id=${order?._id}`;\r\n                let qrOpts = {\r\n                    errorCorrectionLevel: 'L',\r\n                    type: 'image/jpeg',\r\n                    quality: 0.8,\r\n                    margin: 2,\r\n                    color: {\r\n                        dark: \"#000000ff\",\r\n                        light: \"#ffffffff\"\r\n                    }\r\n                }\r\n                let qrCode = await QRCode.toDataURL(cakeOrderUrl, qrOpts);\r\n\r\n                this.setState({ image4QRCode: qrCode },\r\n                    async () => {\r\n                        let canvas = await html2Canvas(this._theDiv4Capture);\r\n                        let imageSrc = canvas.toDataURL('image/png');\r\n                        this.setState({\r\n                            orderImageSrc: imageSrc,\r\n                            orderImageCapturing: false,\r\n                            orderImageModalVisiable: true\r\n                        });\r\n                        document.documentElement.style.overflow = 'hidden';\r\n                    });\r\n            }, 0);\r\n        });\r\n    };\r\n\r\n    render() {\r\n        const {\r\n            order,\r\n            orderingTime,\r\n            orderImageCapturing,\r\n            image4QRCode,\r\n            orderImageModalVisiable,\r\n            orderImageSrc\r\n        } = this.state;\r\n        return (\r\n            <div>\r\n                {\r\n                    // 订单图片\r\n                    orderImageModalVisiable ? (\r\n                        <div style={{\r\n                            background: 'rgba(0,0,0,0.9)', position: 'fixed',\r\n                            zIndex: '101', width: 'calc(100%)', height: 'calc(100%)',\r\n                            overflowY: 'hidden', overflowX: 'hidden'\r\n                        }}>\r\n                            <div style={this._orderImageDivStyle}>\r\n                                <div key='a' style={{ height: 110 }}>\r\n                                    <Timeline style={{ paddingTop: 30, paddingLeft: 24, paddingRight: 24 }}>\r\n                                        <Timeline.Item color='white' style={{ color: 'white' }}>{`长按虚线框内的订购单图片并转发给客服`}</Timeline.Item>\r\n                                        <Timeline.Item color='white' style={{ color: 'white' }}>{`注意：不要识别二维码，也不要截屏`}</Timeline.Item>\r\n                                    </Timeline>\r\n                                </div>\r\n\r\n                                <QueueAnim type={['bottom', 'top']}>\r\n                                    <div key='a' style={this._orderImageStyle}>\r\n                                        <Image style={this._orderImageInStyle} preview={false} src={orderImageSrc} />\r\n                                    </div>\r\n                                </QueueAnim>\r\n\r\n                                <div style={{ height: 80, textAlign: 'center' }}>\r\n                                    <Space style={{ marginTop: 24 }}>\r\n                                        <Button key='back' type='primary' danger onClick={() => {\r\n                                            this.setState({ orderImageModalVisiable: false });\r\n                                            document.documentElement.style.overflow = 'visible';\r\n                                        }}>X</Button>\r\n                                    </Space>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ) : (<div></div>)\r\n                }\r\n\r\n                {\r\n                    // 截图模板\r\n                    orderImageCapturing ? (\r\n                        <div style={{\r\n                            opacity: 0.99, background: 'white', position: 'fixed',\r\n                            zIndex: '200', width: 'calc(100%)', height: 'calc(100%)',\r\n                            overflowY: 'hidden', overflowX: 'hidden'\r\n                        }}>\r\n                            <Spin spinning={orderImageCapturing} size='large' tip='生成蛋糕订购单中...' >\r\n                                <div ref={(current) => { this._theDiv4Capture = current; }}\r\n                                    style={this._theDiv4CaptureStyle}>\r\n                                    <div id=\"qrcode\" style={{\r\n                                        textAlign: 'right', position: 'absolute',\r\n                                        paddingRight: 18, paddingTop: 10,\r\n                                        width: this._theDiv4CaptureWidth, height: 150\r\n                                    }}>\r\n                                        <div style={{ fontSize: 12, fontWeight: 'bold' }}>电子订购单二维码</div>\r\n                                        <Image style={{ width: 150, height: 150 }}\r\n                                            preview={false}\r\n                                            src={image4QRCode}\r\n                                        />\r\n                                    </div>\r\n\r\n                                    <div style={{\r\n                                        textAlign: 'left', position: 'absolute', paddingLeft: 20,\r\n                                        width: this._theDiv4CaptureWidth, fontSize: 14, paddingTop: 10,\r\n                                    }}>{`订购时间：${orderingTime}`}</div>\r\n\r\n                                    <div style={{\r\n                                        fontSize: 22,\r\n                                        fontWeight: 'bold',\r\n                                        textAlign: 'center',\r\n                                        paddingTop: 6,\r\n                                        paddingBottom: 6\r\n                                    }}>蛋糕订购单</div>\r\n                                    <div>\r\n                                        <div style={this._theLeftDivInTheDiv4CaptureStyle}>\r\n                                            <div style={{\r\n                                                fontSize: 20,\r\n                                                textAlign: 'center',\r\n                                                paddingTop: 4,\r\n                                                paddingBottom: 4,\r\n                                                fontWeight: 'bold',\r\n                                                background: '#D8D8D8',\r\n                                                borderBottom: '1px dashed black'\r\n                                            }}>\r\n                                                <span>{`《${order?.name}》`}</span>\r\n                                            </div>\r\n                                            <div>\r\n                                                <div style={{ position: 'relative' }}>\r\n                                                    <Image preview={false} src={\r\n                                                        order?.images?.[0].type === 1\r\n                                                            ? order?.images?.[0].thumbnail\r\n                                                            : order?.images?.[0]\r\n                                                    } />\r\n                                                </div>\r\n                                                <Image style={{ marginTop: 16 }} preview={false} src=\"/image/弯麦logo长.png\" />\r\n                                            </div>\r\n                                        </div>\r\n                                        <div style={this._theRightDivInTheDiv4CaptureStyle}>\r\n                                            <Divider orientation='left' dashed style={{ marginTop: 0, marginBottom: 0, fontSize: 8 }}>制作</Divider>\r\n                                            <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                                                <span style={{ fontSize: 14, fontWeight: 'bold' }}>奶油：</span>\r\n                                                <span style={{ fontSize: 18, color: 'green' }}>{order?.cream}</span>\r\n                                            </div>\r\n                                            <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                                                <span style={{ fontSize: 14, fontWeight: 'bold' }}>尺寸：</span>\r\n                                                <span style={{ fontSize: 18, color: 'green' }}>{order?.size}</span>\r\n                                                {\r\n                                                    order?.size === '组合' ? (\r\n                                                        <span style={{ fontSize: 18, color: 'green' }}>\r\n                                                            {` | ${order?.sizeExtra}`}\r\n                                                        </span>) : (<span></span>)\r\n                                                }\r\n                                                <span style={{ fontSize: 18, color: 'green' }}>\r\n                                                    {` | ${order?.height}`}\r\n                                                </span>\r\n                                            </div>\r\n                                            <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                                                <span style={{ fontSize: 14, fontWeight: 'bold' }}>价格：</span>\r\n                                                <span style={{ fontSize: 14 }}>{order?.price}</span>\r\n                                                <span style={{ fontSize: 14 }}>元</span>\r\n                                            </div>\r\n                                            <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                                                <span style={{ fontSize: 14, fontWeight: 'bold' }}>夹心：</span>\r\n                                                <span style={{ fontSize: 16, color: 'green' }}>{\r\n                                                    order?.fillings.length > 0 ?\r\n                                                        order?.fillings.join('+') :\r\n                                                        '没有夹心'\r\n                                                }</span>\r\n                                            </div>\r\n                                            <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                                                <span style={{ fontSize: 14, fontWeight: 'bold' }}>蜡烛：</span>\r\n                                                <span style={{ fontSize: 16, color: 'blue' }}>{order?.candle}</span>\r\n                                                {\r\n                                                    order?.candle === '数字蜡烛' ? (\r\n                                                        <span style={{ fontSize: 16, color: 'blue' }}>\r\n                                                            {`(${order?.candleExtra})`}\r\n                                                        </span>) : (<span></span>)\r\n                                                }\r\n                                                {\r\n                                                    order?.kindling === '火柴盒' ? (\r\n                                                        <span style={{ fontSize: 16, color: 'blue' }}>\r\n                                                            {`+火柴盒`}\r\n                                                        </span>\r\n                                                    ) : (<span></span>)\r\n                                                }\r\n                                            </div>\r\n                                            <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                                                <span style={{ fontSize: 14, fontWeight: 'bold' }}>帽子：</span>\r\n                                                <span style={{ fontSize: 16, color: 'blue' }}>{order?.hat}</span>\r\n                                            </div>\r\n                                            <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                                                <span style={{ fontSize: 14, fontWeight: 'bold' }}>餐具：</span>\r\n                                                <span style={{ fontSize: 16, color: 'blue' }}>{order?.plates}</span>\r\n                                                <span style={{ fontSize: 16, color: 'blue' }}>套</span>\r\n                                            </div>\r\n                                            <Divider orientation='left' style={{ marginTop: 0, marginBottom: 0, fontSize: 8 }}>取货</Divider>\r\n                                            <div>\r\n                                                <span style={{ fontSize: 14, fontWeight: 'bold' }}>时间：</span>\r\n                                                <span style={{ fontSize: 18, color: 'red' }}>{order?.pickUpDay}</span>\r\n                                                <span style={{ fontSize: 18, color: 'red' }}>{order?.pickUpTime}</span>\r\n                                            </div>\r\n                                            <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                                                <span style={{ fontSize: 14, fontWeight: 'bold' }}>方式：</span>\r\n                                                <span style={{ fontSize: 14 }}>{order?.pickUpType}</span>\r\n                                            </div>\r\n                                            <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                                                <span style={{ fontSize: 14, fontWeight: 'bold' }}>门店：</span>\r\n                                                <span style={{ fontSize: 14 }}>{order?.shop}</span>\r\n                                            </div>\r\n                                            {\r\n                                                order?.pickUpType === '商家配送' ? (\r\n                                                    <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                                                        <span style={{ fontSize: 14, fontWeight: 'bold' }}>地址：</span>\r\n                                                        <span style={{ fontSize: 18, color: 'red' }}>{order?.address}</span>\r\n                                                    </div>\r\n                                                ) : (<div></div>)\r\n                                            }\r\n\r\n                                            <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                                                <span style={{ fontSize: 14, fontWeight: 'bold' }}>姓名：</span>\r\n                                                <span style={{ fontSize: 18, color: 'red' }}>\r\n                                                    {`${order?.pickUpName}（${order?.phoneNumber}）`}\r\n                                                </span>\r\n                                            </div>\r\n                                            <Divider orientation='left' style={{ marginTop: 0, marginBottom: 0, fontSize: 8 }}>其它</Divider>\r\n                                            <div style={{ marginTop: 4, marginBottom: 4, marginRight: 8 }}>\r\n                                                <span style={{ fontSize: 14, fontWeight: 'bold' }}>备注：</span>\r\n                                                <span style={{ fontSize: 18, color: 'red', wordWrap: 'break-word' }}>\r\n                                                    {order?.remarks}\r\n                                                </span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </Spin>\r\n                        </div>) : (<div></div>)\r\n                }\r\n\r\n                <div>\r\n                    <div style={{\r\n                        fontSize: 16,\r\n                        textAlign: 'center',\r\n                        paddingTop: 4,\r\n                        paddingBottom: 4,\r\n                        fontWeight: 'bold',\r\n                        background: '#D8D8D8',\r\n                        borderBottom: '1px dashed black'\r\n                    }}>{`《${order?.name}》`}</div>\r\n                    <div style={{ width: '100%', textAlign: 'center' }}>\r\n                        <Image style={{ width: '100%' }} preview={false}\r\n                            src={\r\n                                order?.images?.[0].type === 1\r\n                                    ? order?.images?.[0].thumbnail\r\n                                    : order?.images?.[0]\r\n                            } />\r\n                    </div>\r\n                    <div style={{ marginLeft: 24, marginRight: 24 }}>\r\n                        <Divider style={{ marginTop: 8, marginBottom: 0, fontSize: 8 }}>制作</Divider>\r\n                        <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                            <span style={{ fontSize: 14, fontWeight: 'bold' }}>奶油：</span>\r\n                            <span style={{ fontSize: 18 }}>{order?.cream}</span>\r\n                        </div>\r\n                        <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                            <span style={{ fontSize: 14, fontWeight: 'bold' }}>尺寸：</span>\r\n                            <span style={{ fontSize: 18, color: 'green' }}>{order?.size}</span>\r\n                            {\r\n                                order?.size === '组合' ? (\r\n                                    <span style={{ fontSize: 18, color: 'green' }}>\r\n                                        {order?.sizeExtra}\r\n                                    </span>) : (<span></span>)\r\n                            }\r\n                        </div>\r\n                        <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                            <span style={{ fontSize: 14, fontWeight: 'bold' }}>价格：</span>\r\n                            <span style={{ fontSize: 14 }}>{order?.price}</span>\r\n                            <span style={{ fontSize: 14 }}>元</span>\r\n                        </div>\r\n                        <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                            <span style={{ fontSize: 14, fontWeight: 'bold' }}>夹心：</span>\r\n                            <span style={{ fontSize: 14 }}>\r\n                                {order?.fillings?.length > 0 ? order?.fillings?.join('+') : '没有夹心'}\r\n                            </span>\r\n                        </div>\r\n                        <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                            <span style={{ fontSize: 14, fontWeight: 'bold' }}>蜡烛：</span>\r\n                            <span style={{ fontSize: 16, color: 'blue' }}>{order?.candle}</span>\r\n                            {\r\n                                order?.candle === '数字蜡烛' ? (\r\n                                    <span style={{ fontSize: 16, color: 'blue' }}>\r\n                                        {`(${order?.candleExtra})`}\r\n                                    </span>) : (<span></span>)\r\n                            }\r\n                            {\r\n                                order?.kindling === '火柴盒' ? (\r\n                                    <span style={{ fontSize: 16, color: 'blue' }}>\r\n                                        {`+火柴盒`}\r\n                                    </span>\r\n                                ) : (<span></span>)\r\n                            }\r\n                        </div>\r\n                        <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                            <span style={{ fontSize: 14, fontWeight: 'bold' }}>帽子：</span>\r\n                            <span style={{ fontSize: 16, color: 'blue' }}>{order?.hat}</span>\r\n                        </div>\r\n                        <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                            <span style={{ fontSize: 14, fontWeight: 'bold' }}>餐具：</span>\r\n                            <span style={{ fontSize: 16, color: 'blue' }}>{order?.plates}</span>\r\n                            <span style={{ fontSize: 16, color: 'blue' }}>套</span>\r\n                        </div>\r\n                        <Divider style={{ marginTop: 0, marginBottom: 0, fontSize: 8 }}>取货</Divider>\r\n                        <div>\r\n                            <span style={{ fontSize: 14, fontWeight: 'bold' }}>时间：</span>\r\n                            <span style={{ fontSize: 18, color: 'red' }}>{order?.pickUpDay}</span>\r\n                            <span style={{ fontSize: 18, color: 'red' }}>{order?.pickUpTime}</span>\r\n                        </div>\r\n                        <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                            <span style={{ fontSize: 14, fontWeight: 'bold' }}>方式：</span>\r\n                            <span style={{ fontSize: 14 }}>{order?.pickUpType}</span>\r\n                        </div>\r\n                        <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                            <span style={{ fontSize: 14, fontWeight: 'bold' }}>门店：</span>\r\n                            <span style={{ fontSize: 14 }}>{order?.shop}</span>\r\n                        </div>\r\n                        {\r\n                            order?.pickUpType === '商家配送' ? (\r\n                                <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                                    <span style={{ fontSize: 14, fontWeight: 'bold' }}>地址：</span>\r\n                                    <span style={{ fontSize: 18, color: 'red', textDecoration: 'underline' }}\r\n                                        onClick={async () => {\r\n                                            let locationResult = await geocode('漳浦' + order?.address, '漳州');\r\n                                            if (locationResult.errCode === 0) {\r\n                                                let locationStr = locationResult.location;\r\n                                                let locationArray = locationStr.split(',');\r\n                                                if (locationArray.length === 2) {\r\n                                                    window.wx.openLocation({\r\n                                                        // 经度，浮点数，范围为180 ~ -180。\r\n                                                        longitude: locationArray[0],\r\n                                                        // 纬度，浮点数，范围为90 ~ -90                                            \r\n                                                        latitude: locationArray[1],\r\n                                                        // 位置名\r\n                                                        name: order?.address,\r\n                                                        // 地址详情说明\r\n                                                        address: '漳浦' + order?.address,\r\n                                                        // 地图缩放级别,整型值,范围从1~28。默认为最大\r\n                                                        scale: 15,\r\n                                                        // 在查看位置界面底部显示的超链接,可点击跳转\r\n                                                        infoUrl: 'https://www.baidu.com/'\r\n                                                    });\r\n                                                }\r\n                                            }\r\n                                        }}>{order?.address}</span>\r\n                                </div>\r\n                            ) : (<div></div>)\r\n                        }\r\n\r\n                        <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                            <span style={{ fontSize: 14, fontWeight: 'bold' }}>姓名：</span>\r\n                            <span style={{ fontSize: 18, color: 'red' }}>\r\n                                {`${order?.pickUpName}`}\r\n                            </span>\r\n                            <span style={{ textDecoration: 'underline', fontSize: 20, fontWeight: 'bold', color: 'red' }}>\r\n                                <a href={`tel:${order?.phoneNumber}`}>{`（${order?.phoneNumber}）`}</a>\r\n                            </span>\r\n                        </div>\r\n                        <Divider style={{ marginTop: 0, marginBottom: 0, fontSize: 8 }}>其它</Divider>\r\n                        <div style={{ marginTop: 4, marginBottom: 4, marginRight: 8 }}>\r\n                            <span style={{ fontSize: 14, fontWeight: 'bold' }}>备注：</span>\r\n                            <span style={{ fontSize: 18, color: 'red', wordWrap: 'break-word' }}>\r\n                                {order?.remarks}\r\n                            </span>\r\n                        </div>\r\n\r\n                        <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                            <span style={{ textDecoration: 'underline', fontSize: 20, fontWeight: 'bold' }}>\r\n                                <a href={\"http://gratefulwheat.ruyue.xyz/building\"}>漳浦小区楼栋图</a>\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* 地址，ICP备案，公安备案 */}\r\n                    <div style={{ textAlign: 'center', background: '#D8D8D8', height: 100 }}>\r\n                        <div style={{ paddingTop: 12, marginTop: 10 }}>\r\n                            地址：漳州市漳浦县府前街西247号(教育局对面)\r\n                        </div>\r\n                        <div style={{ color: 'green', fontSize: 14 }}>\r\n                            <span style={{ color: 'black' }}>©弯麦</span>\r\n\r\n                            <a href='http://beian.miit.gov.cn'>\r\n                                <span style={{ marginLeft: 8 }}>闽ICP备2022007668号-1</span>\r\n                            </a>\r\n\r\n                            <div>\r\n                                <a href=\"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=35062302000230\">\r\n                                    <span>\r\n                                        <Image preview={false} src=\"/image/公安备案图标.png\" style={{ float: 'left' }} />\r\n                                    </span>\r\n                                    <span style={{ marginLeft: 8 }}>\r\n                                        闽公网安备 35062302000230号\r\n                                    </span>\r\n                                </a>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div style={{ height: 80 }}></div>\r\n                    <div style={{\r\n                        width: 'calc(100%)', height: 64, backgroundColor: '#E5E4E2',\r\n                        position: 'fixed', bottom: 0, textAlign: 'center', zIndex: '100'\r\n                    }}>\r\n                        <Button type='primary' style={{ top: 16 }} onClick={this.handleOrderCakeInfoModalOk}>生成蛋糕订购单</Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    };\r\n}\r\n\r\nexport default CakeOrder;\r\n","/*\r\n商品菜单\r\n\r\n菜单提取教育局店5日之前有销量的商品\r\n*/\r\n\r\nimport React from 'react';\r\nimport moment from 'moment';\r\nimport { RightSquareFilled, MinusOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport { Collapse, Spin, List, Image, Button, message, Modal } from 'antd';\r\nimport TextLoop from \"react-text-loop\";\r\nimport {\r\n    loadFoodsRecommend,\r\n    loadProductsSale,\r\n    loadBreadAll,\r\n    wechatSign\r\n} from '../api/api';\r\n\r\nconst { Panel } = Collapse;\r\nconst { confirm } = Modal;\r\n\r\nconst KImageRoot = '/image/面包牛奶';\r\n\r\nconst KCategorys = [{\r\n    categoryId: '1656244666392267569', categoryName: '弯麦小饮料', description: '特选特饮，夏季必备',\r\n    thumbnails: [\r\n        `${KImageRoot}/弯麦小饮料/杨枝甘露特饮.jpg`,\r\n        `${KImageRoot}/弯麦小饮料/手打金桔柠檬.jpg`,\r\n        `${KImageRoot}/弯麦小饮料/蜂蜜烧仙草.jpg`\r\n    ], productItems: []\r\n}, {\r\n    categoryId: '1593049881212199906', categoryName: '弯麦常温蛋糕', description: '鸡蛋糕点、回味无穷',\r\n    thumbnails: [\r\n        `${KImageRoot}/弯麦常温蛋糕/轻乳酪芝士蛋糕.jpg`,\r\n        `${KImageRoot}/弯麦常温蛋糕/海苔小贝.jpg`,\r\n        `${KImageRoot}/弯麦常温蛋糕/泡芙(4个装).jpg`\r\n    ], productItems: []\r\n}, {\r\n    categoryId: '1604471906489441680', categoryName: '弯麦小蛋糕', description: '小小仪式、快乐永远',\r\n    thumbnails: [\r\n        `${KImageRoot}/弯麦小蛋糕/迷你小蛋糕.jpg`,\r\n        `${KImageRoot}/弯麦小蛋糕/奶茶蛋糕(5寸).jpg`,\r\n        `${KImageRoot}/弯麦小蛋糕/水果蛋糕(5寸).jpg`\r\n    ], productItems: []\r\n}, {\r\n    categoryId: '1593049816479739965', categoryName: '弯麦现烤面包', description: '新鲜现烤、美味无限',\r\n    thumbnails: [\r\n        `${KImageRoot}/弯麦现烤面包/芝士鸡排三明治.jpg`,\r\n        `${KImageRoot}/弯麦现烤面包/巧克力麻薯球.jpg`,\r\n        `${KImageRoot}/弯麦现烤面包/手工蛋挞(2个).jpg`\r\n    ], productItems: []\r\n}, {\r\n    categoryId: '1592989355905414162', categoryName: '弯麦西点慕斯', description: '甜点慕斯、烦恼拜拜',\r\n    thumbnails: [\r\n        `${KImageRoot}/弯麦西点慕斯/雪媚娘(芒果+草莓).jpg`,\r\n        `${KImageRoot}/弯麦西点慕斯/芒果毛巾卷.jpg`,\r\n        `${KImageRoot}/弯麦西点慕斯/黑森林慕斯.jpg`\r\n    ], productItems: []\r\n}, {\r\n    categoryId: '1690087312515867590', categoryName: '弯麦切片面包', description: '切片吐司、片片留香',\r\n    thumbnails: [\r\n        `${KImageRoot}/弯麦切片面包/鲜奶切片吐司.jpg`,\r\n        `${KImageRoot}/弯麦切片面包/抹茶红豆切片吐司.jpg`,\r\n        `${KImageRoot}/弯麦切片面包/提子切片吐司.jpg`\r\n    ], productItems: []\r\n}, {\r\n    categoryId: '1593049854760654816', categoryName: '弯麦吐司面包', description: '切片吐司、片片留香',\r\n    thumbnails: [\r\n        `${KImageRoot}/弯麦吐司面包/肉松小吐司.jpg`,\r\n        `${KImageRoot}/弯麦吐司面包/纯奶拉丝小吐司.jpg`,\r\n        `${KImageRoot}/弯麦吐司面包/红豆小吐司.jpg`\r\n    ], productItems: []\r\n}, {\r\n    categoryId: '1626767161867698544', categoryName: '弯麦餐包面包', description: '圆圆餐包、生活美满',\r\n    thumbnails: [\r\n        `${KImageRoot}/弯麦餐包面包/紫薯芋泥餐包.jpg`,\r\n        `${KImageRoot}/弯麦餐包面包/沙拉包.jpg`,\r\n        `${KImageRoot}/弯麦餐包面包/特香包.jpg`\r\n    ], productItems: []\r\n}, {\r\n    categoryId: '1593059349213583584', categoryName: '弯麦干点饼干', description: '饼干茶点、惬意午后',\r\n    thumbnails: [\r\n        `${KImageRoot}/弯麦干点饼干/牛油曲奇饼干.jpg`\r\n    ], productItems: []\r\n}, {\r\n    categoryId: '1652965113501744892', categoryName: '弯麦中式糕点', description: '传统糕点，经典传承',\r\n    thumbnails: [\r\n        `${KImageRoot}/弯麦中式糕点/绿豆饼.jpg`,\r\n        `${KImageRoot}/弯麦中式糕点/牛舌Q饼（香芋味）.jpg`,\r\n    ], productItems: []\r\n}, {\r\n    categoryId: '1615972878471894425', categoryName: '长富常温牛奶', description: '精品牛奶、强壮身体',\r\n    thumbnails: [\r\n        `${KImageRoot}/长富常温牛奶/长富24精品纯奶.jpg`,\r\n        `${KImageRoot}/长富常温牛奶/长富武夷森林牧场红枣牛奶.jpg`,\r\n        `${KImageRoot}/长富常温牛奶/长富高钙牛奶.jpg`\r\n    ], productItems: []\r\n}];\r\n\r\nclass ProductMenu extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            foodsRecommendTitle: '最新商品',\r\n            foodsRecommendItems: {},\r\n            foodsRecommendLoading: true,\r\n            foodCategorys: KCategorys,\r\n            orderList: [],\r\n            orderListShow: false,\r\n            orderListTotalPrice: 0,\r\n            orderListTotalCount: 0,\r\n            goOrderViewShow: false,\r\n            orderText: '',\r\n            remarkText: '',\r\n            debug: 0\r\n        };\r\n\r\n        this._lastKeys = [];\r\n        this._breadAll = [];\r\n    }\r\n\r\n    async componentDidMount() {\r\n        let query = this.props.query;\r\n        let debug = query && query.get('debug');\r\n\r\n        if (this._breadAll.length <= 0) {\r\n            this._breadAll = await loadBreadAll();\r\n        }\r\n\r\n        // console.log(this._breadAll);\r\n        let foodsRecommend = await loadFoodsRecommend();\r\n\r\n        let recommendTitle = foodsRecommend.recommendTitle;\r\n        let foodsRecommendItems = foodsRecommend.recommendItems;\r\n        let foodsRecommendItemsNew = {};\r\n        for (let ii = 0; ii < foodsRecommendItems.length; ++ii) {\r\n            let recommendItem = foodsRecommendItems[ii];\r\n\r\n            let keys = Object.keys(this._breadAll);\r\n            for (let jj = 0; jj < keys.length; ++jj) {\r\n                let name4allItem = keys[jj];\r\n                if (recommendItem === name4allItem) {\r\n                    foodsRecommendItemsNew[name4allItem] = this._breadAll[name4allItem];\r\n                    foodsRecommendItemsNew[name4allItem].buyNumber = 0;\r\n                    foodsRecommendItemsNew[name4allItem].disable = false;\r\n                }\r\n            }\r\n        }\r\n\r\n        // console.log('recommendTitle = ' + recommendTitle);\r\n        // console.log('foodsRecommendItemsNew = ' + JSON.stringify(foodsRecommendItemsNew));\r\n\r\n        this.setState({\r\n            foodsRecommendTitle: recommendTitle,\r\n            foodsRecommendItems: foodsRecommendItemsNew,\r\n            foodsRecommendLoading: false,\r\n            debug: debug\r\n        });\r\n\r\n        this.updateWeixinConfig();\r\n    }\r\n\r\n    handleCollapseOnChange = async (keys) => {\r\n        if (!keys) return;\r\n        // console.log('handleCollapseOnChange begin');\r\n\r\n        // console.log(keys);\r\n        let keysOpened = [...keys];\r\n        for (let ii = 0; ii < this._lastKeys.length; ++ii) {\r\n            let key = this._lastKeys[ii];\r\n            let pos = keysOpened.indexOf(key);\r\n            if (pos !== -1) {\r\n                keysOpened.splice(pos, 1);\r\n            }\r\n        }\r\n\r\n        let keysClosed = [...this._lastKeys];\r\n        for (let jj = 0; jj < keys.length; ++jj) {\r\n            let key = keys[jj];\r\n            let pos = keysClosed.indexOf(key);\r\n            if (pos !== -1) {\r\n                keysClosed.splice(pos, 1);\r\n            }\r\n        }\r\n        this._lastKeys = [...keys];\r\n\r\n        const { foodCategorys, foodsRecommendItems } = this.state;\r\n        let foodCategorysNew = [...foodCategorys];\r\n\r\n        // console.log(keysOpened);\r\n        if (keysOpened.length === 1) {\r\n            try {\r\n                let categoryId = keysOpened[0];\r\n                let birthdayCakeCategoryToAdd;\r\n                for (let ii = 0; ii < foodCategorysNew.length; ++ii) {\r\n                    let birthdayCakeCategory = foodCategorysNew[ii];\r\n                    if (birthdayCakeCategory.categoryId === categoryId) {\r\n                        birthdayCakeCategoryToAdd = birthdayCakeCategory;\r\n                        break;\r\n                    }\r\n                }\r\n                if (birthdayCakeCategoryToAdd) {\r\n                    birthdayCakeCategoryToAdd.opened = true;\r\n                    this.setState({ foodCategorys: foodCategorysNew });\r\n                    if (birthdayCakeCategoryToAdd.productItems.length <= 0 &&\r\n                        !birthdayCakeCategoryToAdd.spinning) {\r\n                        birthdayCakeCategoryToAdd.spinning = true;\r\n\r\n                        /// 提取5天之前的数据\r\n                        let nowMoment = moment();\r\n                        let endDateTimeStr = nowMoment.endOf('day').format('YYYY.MM.DD HH:mm:ss');\r\n                        let beginDateTimeStr = nowMoment.subtract(5, 'days').startOf('day').format('YYYY.MM.DD HH:mm:ss');\r\n\r\n                        // console.log(beginDateTimeStr);\r\n                        // console.log(endDateTimeStr);\r\n\r\n                        /// 教育局店，有销量\r\n                        let loadResult = await loadProductsSale(categoryId, ['3995767', '4382444'], '1', beginDateTimeStr, endDateTimeStr, 'barcode', 'true');\r\n                        // console.log(loadResult);\r\n\r\n                        if (loadResult.errCode === 0) {\r\n                            let list = loadResult.list;\r\n                            let newList = [];\r\n                            for (let i = 0; i < list.length; ++i) {\r\n                                let item = { ...list[i] };\r\n\r\n                                let foodsRecommendKeys = Object.keys(foodsRecommendItems);\r\n                                // console.log('foodsRecommendKeys = ' + JSON.stringify(foodsRecommendKeys));\r\n                                let ignore = false;\r\n                                for (let j = 0; j < foodsRecommendKeys.length; ++j) {\r\n                                    if (item.productName === foodsRecommendKeys[j]) {\r\n                                        ignore = true;\r\n                                        break;\r\n                                    }\r\n                                }\r\n\r\n                                if (ignore) {\r\n                                    continue;\r\n                                }\r\n\r\n                                item.buyNumber = 0;\r\n                                item.disable = false;\r\n                                item['配料'] = '-';\r\n                                item['规格'] = '-';\r\n                                item['价格'] = 0;\r\n                                if (this._breadAll[item.productName]) {\r\n                                    item['配料'] = this._breadAll[item.productName]['配料'] ? this._breadAll[item.productName]['配料'] : '-';\r\n                                    item['规格'] = this._breadAll[item.productName]['规格'] ? this._breadAll[item.productName]['规格'] : '-';\r\n                                    item['价格'] = this._breadAll[item.productName]['价格'] ? this._breadAll[item.productName]['价格'] : 0;\r\n                                }\r\n                                newList.push(item);\r\n                            }\r\n\r\n                            newList = newList.sort((a, b) => {\r\n                                return b.saleNumber - a.saleNumber;\r\n                            })\r\n\r\n                            birthdayCakeCategoryToAdd.productItems = newList;\r\n                        }\r\n                        birthdayCakeCategoryToAdd.spinning = false;\r\n\r\n                        this.setState({ foodCategorys: foodCategorysNew });\r\n                        // console.log(foodCategorysNew);\r\n                    }\r\n                }\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        }\r\n        // console.log(keysClosed);\r\n        if (keysClosed.length === 1) {\r\n            let categoryId = keysClosed[0];\r\n            let birthdayCakeCategoryClose;\r\n            for (let ii = 0; ii < foodCategorysNew.length; ++ii) {\r\n                let birthdayCakeCategory = foodCategorysNew[ii];\r\n                if (birthdayCakeCategory.categoryId === categoryId) {\r\n                    birthdayCakeCategoryClose = birthdayCakeCategory;\r\n                    break;\r\n                }\r\n            }\r\n            if (birthdayCakeCategoryClose) {\r\n                birthdayCakeCategoryClose.opened = false;\r\n                this.setState({ foodCategorys: foodCategorysNew });\r\n            }\r\n        }\r\n\r\n        // console.log('handleCollapseOnChange end');    \r\n    }\r\n\r\n    updateWeixinConfig = async () => {\r\n        /// 微信环境判断\r\n        let is_weixin = window.navigator.userAgent.toLowerCase().indexOf(\"micromessenger\") !== -1;\r\n        if (!is_weixin) return;\r\n\r\n        /**\r\n          * 微信配置\r\n          */\r\n        let res = await wechatSign(document.URL.split('#')[0]);\r\n        if (res) {\r\n            /// 如果没有传递过来appid，则微信接口出错，前端不处理后续流程\r\n            if (!res.appId) return;\r\n\r\n            /**\r\n             * 微信JSSDK注入配置信息\r\n             */\r\n            window.wx.config({\r\n                debug: false, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。\r\n                appId: res.appId, // 必填，公众号的唯一标识\r\n                timestamp: res.timestamp, // 必填，生成签名的时间戳\r\n                nonceStr: res.nonceStr, // 必填，生成签名的随机串\r\n                signature: res.signature,// 必填，签名\r\n                jsApiList: [\r\n                    'updateAppMessageShareData',\r\n                    'updateTimelineShareData'\r\n                ] // 必填，需要使用的JS接口列表\r\n            });\r\n\r\n            window.wx.ready(function () {\r\n                /**\r\n                 * config信息验证后会执行ready方法，所有接口调用都必须在config接口获得结果之后，\r\n                 * config是一个客户端的异步操作，所以如果需要在页面加载时就调用相关接口，\r\n                 * 则须把相关接口放在ready函数中调用来确保正确执行。\r\n                 * 对于用户触发时才调用的接口，则可以直接调用，不需要放在ready函数中。\r\n                 * */\r\n                // console.log('window.wx ready');\r\n\r\n                let title = '弯麦面包牛奶饮料电子菜单，不定期更新，点击预定';\r\n                let desc = '现烤面包，西点慕斯，常温蛋糕，吐司餐包，小蛋糕，小饮料，牛奶等美食~';\r\n                let imgUrl = 'http://gratefulwheat.ruyue.xyz/image/面包牛奶/弯麦现烤面包/芝士鸡排三明治.jpg';\r\n\r\n                // 自定义“分享给朋友”及“分享到QQ”按钮的分享内容\r\n                window.wx.updateAppMessageShareData({\r\n                    title: title, // 分享标题\r\n                    desc: desc, // 分享描述\r\n                    link: document.URL, // 分享链接，该链接域名或路径必须与当前页面对应的公众号JS安全域名一致\r\n                    imgUrl: imgUrl, // 分享图标\r\n                    success: function () {\r\n                        // 设置成功\r\n                        // console.log('window.wx.updateAppMessageShareData success');\r\n                    },\r\n                    fail: function (res) {\r\n                        // 设置失败\r\n                        // console.log('window.wx.updateAppMessageShareData fail res=' + res);\r\n                    }\r\n                });\r\n\r\n                // 自定义“分享到朋友圈”及“分享到QQ空间”按钮的分享内容\r\n                window.wx.updateTimelineShareData({\r\n                    title: title, // 分享标题\r\n                    link: document.URL, // 分享链接，该链接域名或路径必须与当前页面对应的公众号JS安全域名一致\r\n                    imgUrl: imgUrl, // 分享图标\r\n                    success: function () {\r\n                        // 设置成功\r\n                        // console.log('window.wx.updateTimelineShareData success');\r\n                    },\r\n                    fail: function () {\r\n                        // 设置失败\r\n                        // console.log('window.wx.updateTimelineShareData fail');\r\n                    }\r\n                });\r\n            });\r\n\r\n            window.wx.error(function (res) {\r\n                /**\r\n                 * config信息验证失败会执行error函数，如签名过期导致验证失败，具体错误信息可以打开config的debug模式查看，\r\n                 * 也可以在返回的res参数中查看，对于SPA可以在这里更新签名。\r\n                 */\r\n                console.log('window.wx error res = ' + JSON.stringify(res));\r\n            });\r\n        }\r\n    }\r\n\r\n    handleIncreaseItemToCart = (item, categoryName) => {\r\n        item.buyNumber = item.buyNumber + 1;\r\n        this.forceUpdate();\r\n\r\n        // console.log(item)\r\n        if (item.buyNumber >= 1) {\r\n            const { orderList } = this.state;\r\n\r\n            let newOrderList = [...orderList];\r\n            let existItem;\r\n            for (let i = 0; i < newOrderList.length; ++i) {\r\n                if (newOrderList[i].barcode === item.barcode) {\r\n                    existItem = newOrderList[i];\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (!existItem) {\r\n                let imageSrc = KImageRoot;\r\n                imageSrc += '/';\r\n                imageSrc += categoryName;\r\n                imageSrc += '/';\r\n                imageSrc += item.productName;\r\n                imageSrc += '.jpg';\r\n                item.imageUrl = imageSrc;\r\n                newOrderList.push(item);\r\n            }\r\n\r\n            this.setState({ orderList: newOrderList });\r\n        }\r\n\r\n\r\n        setTimeout(() => {\r\n            const { orderList } = this.state;\r\n            let totalPrice = 0;\r\n            let totalCount = 0;\r\n            for (let i = 0; i < orderList.length; ++i) {\r\n                let item = orderList[i];\r\n                let tp = item[\"价格\"] * item.buyNumber;\r\n\r\n                tp = this.fixTo2(tp);\r\n                totalPrice += tp;\r\n\r\n                totalCount += item.buyNumber;\r\n            }\r\n\r\n            totalPrice = this.fixTo2(totalPrice);\r\n            this.setState({ orderListTotalPrice: totalPrice, orderListTotalCount: totalCount });\r\n        }, 0);\r\n    }\r\n\r\n    handleDecreaseItemFromCart = (item) => {\r\n        item.buyNumber = item.buyNumber - 1;\r\n        this.forceUpdate();\r\n\r\n        // console.log(item)\r\n        if (item.buyNumber <= 0) {\r\n            const { orderList } = this.state;\r\n\r\n            let newOrderList = [...orderList];\r\n            let existItem;\r\n            for (let i = 0; i < newOrderList.length; ++i) {\r\n                if (newOrderList[i].barcode === item.barcode) {\r\n                    existItem = newOrderList[i];\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (existItem) {\r\n                newOrderList.splice(newOrderList.indexOf(existItem), 1);\r\n            }\r\n\r\n            this.setState({ orderList: newOrderList });\r\n        }\r\n\r\n        setTimeout(() => {\r\n            const { orderList } = this.state;\r\n            let totalPrice = 0;\r\n            let totalCount = 0;\r\n            for (let i = 0; i < orderList.length; ++i) {\r\n                let item = orderList[i];\r\n                let tp = item[\"价格\"] * item.buyNumber;\r\n\r\n                tp = this.fixTo2(tp);\r\n                totalPrice += tp;\r\n\r\n                totalCount += item.buyNumber;\r\n            }\r\n\r\n            totalPrice = this.fixTo2(totalPrice);\r\n            this.setState({ orderListTotalPrice: totalPrice, orderListTotalCount: totalCount });\r\n        }, 0);\r\n    }\r\n\r\n    fixTo2 = (num) => {\r\n        let a = 1; let e = 2;\r\n        for (; e > 0; a *= 10, e--);\r\n        for (; e < 0; a /= 10, e++);\r\n        let newNum = Math.round(num * a) / a;\r\n        return newNum;\r\n    }\r\n\r\n    //复制文本\r\n    copyText = (text) => {\r\n        var element = this.createElement(text);\r\n        element.select();\r\n        element.setSelectionRange(0, element.value.length);\r\n        document.execCommand('copy');\r\n        element.remove();\r\n    }\r\n    //创建临时的输入框元素\r\n    createElement = (text) => {\r\n        var isRTL = document.documentElement.getAttribute('dir') === 'rtl';\r\n        var element = document.createElement('textarea');\r\n        // 防止在ios中产生缩放效果\r\n        element.style.fontSize = '12pt';\r\n        // 重置盒模型\r\n        element.style.border = '0';\r\n        element.style.padding = '0';\r\n        element.style.margin = '0';\r\n        // 将元素移到屏幕外\r\n        element.style.position = 'absolute';\r\n        element.style[isRTL ? 'right' : 'left'] = '-9999px';\r\n        // 移动元素到页面底部\r\n        let yPosition = window.pageYOffset || document.documentElement.scrollTop;\r\n        element.style.top = `${yPosition}px`;\r\n        //设置元素只读\r\n        element.setAttribute('readonly', '');\r\n        element.value = text;\r\n        document.body.appendChild(element);\r\n        return element;\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            foodsRecommendTitle,\r\n            foodsRecommendItems,\r\n            foodsRecommendLoading,\r\n            foodCategorys,\r\n            orderList,\r\n            orderListShow,\r\n            orderListTotalPrice,\r\n            orderListTotalCount,\r\n            goOrderViewShow,\r\n            orderText,\r\n            remarkText,\r\n            debug } = this.state;\r\n\r\n        let disableOrderButton = false;\r\n        let orderButtonText = '去预定';\r\n        if (orderListTotalPrice < 20) {\r\n            disableOrderButton = true;\r\n            let differ = 20 - orderListTotalPrice;\r\n            differ = this.fixTo2(differ);\r\n            orderButtonText = '差¥' + differ + '起送';\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <div style={{\r\n                    textAlign: 'center', color: '#00A2A5',\r\n                    fontSize: 16, fontWeight: 'normal', paddingTop: 7, paddingBottom: 5\r\n                }}>\r\n                    <TextLoop springConfig={{ stiffness: 70, damping: 31 }}\r\n                        adjustingSpeed={500}>\r\n                        <span>\r\n                            <span>联系弯麦总店</span>\r\n                            <span style={{ textDecoration: 'underline' }}>\r\n                                <a href=\"tel:13290768588\">13290768588</a>\r\n                            </span>\r\n                            <span> (微信同号)</span>\r\n                        </span>\r\n                    </TextLoop>\r\n                </div>\r\n\r\n                <div style={{\r\n                    textAlign: 'center', marginTop: 0, fontSize: 20,\r\n                    backgroundColor: '#00A2A5', color: 'white',\r\n                    borderRadius: 30, paddingTop: 8, paddingBottom: 8\r\n                }}>\r\n                    {debug ? `${foodsRecommendTitle}（${Object.keys(foodsRecommendItems).length}）`\r\n                        : `${foodsRecommendTitle}`}\r\n                </div>\r\n                <Spin spinning={foodsRecommendLoading} size='large'>\r\n                    <List\r\n                        style={{ marginLeft: 6, marginRight: 6, marginTop: 6 }}\r\n                        grid={{ gutter: 2, column: 2 }}\r\n                        dataSource={Object.keys(foodsRecommendItems)}\r\n                        renderItem={item => {\r\n                            let item1 = foodsRecommendItems[item];\r\n                            let imageSrc = KImageRoot;\r\n                            imageSrc += '/';\r\n                            imageSrc += item1[\"分类\"];\r\n                            imageSrc += '/';\r\n                            imageSrc += item;\r\n                            imageSrc += '.jpg';\r\n\r\n                            // console.log('imageSrc = ' + imageSrc)\r\n\r\n                            let disableButton = item1.buyNumber <= 0;\r\n                            return (\r\n                                <List.Item>\r\n                                    <div>\r\n                                        <Image preview={true} src={imageSrc}\r\n                                            fallback={`${KImageRoot}/暂时缺货.jpg`}\r\n                                            onError={(e) => {\r\n                                                /// 图片加载不成功时隐藏\r\n                                                // e.target.style.display = 'none';\r\n                                                item1.disable = true;\r\n                                                this.forceUpdate();\r\n                                            }} />\r\n                                        <div style={{\r\n                                            paddingTop: 4,\r\n                                            paddingLeft: 4,\r\n                                            paddingRight: 4,\r\n                                            backgroundColor: 'transparent',\r\n                                        }}>\r\n                                            <div style={{\r\n                                                fontSize: 16,\r\n                                                fontWeight: 'bold',\r\n                                                color: 'black',\r\n                                            }}>\r\n                                                {item}\r\n                                            </div>\r\n                                            <div style={{\r\n                                                fontSize: 12,\r\n                                                color: 'black'\r\n                                            }}>\r\n                                                {`配料：${item1['配料']}`}\r\n                                            </div>\r\n                                            <div style={{\r\n                                                fontSize: 8,\r\n                                                color: 'gray'\r\n                                            }}>\r\n                                                {`规格：${item1['规格']}`}\r\n                                            </div>\r\n                                            <div style={{\r\n                                                fontSize: 15,\r\n                                                fontWeight: 'bold',\r\n                                                color: 'black'\r\n                                            }}>\r\n                                                <span>\r\n                                                    ¥\r\n                                                </span>\r\n                                                <span>\r\n                                                    {item1[\"价格\"]}\r\n                                                </span>\r\n                                                <span>\r\n                                                    /\r\n                                                </span>\r\n                                                <span>\r\n                                                    {item1.unit}\r\n                                                </span>\r\n\r\n                                                <span style={{ float: 'right', backgroundColor: 'transparent' }}>\r\n                                                    {\r\n                                                        disableButton ? (<span></span>) :\r\n                                                            (\r\n                                                                <span>\r\n                                                                    <Button size='small' shape='circle' icon={<MinusOutlined />}\r\n                                                                        onClick={() => { this.handleDecreaseItemFromCart(item1) }} />\r\n                                                                </span>\r\n                                                            )\r\n                                                    }\r\n                                                    &nbsp;\r\n                                                    &nbsp;\r\n                                                    {\r\n                                                        disableButton ? (<span></span>) :\r\n                                                            (\r\n                                                                <span>\r\n                                                                    {item1.buyNumber}\r\n                                                                </span>\r\n                                                            )\r\n                                                    }\r\n                                                    &nbsp;\r\n                                                    &nbsp;\r\n                                                    <span>\r\n                                                        <Button disabled={item1.disable} style={{ color: '#00A2A5' }} size='middle' shape='circle' icon={<PlusOutlined />}\r\n                                                            onClick={() => { this.handleIncreaseItemToCart(item1, item1[\"分类\"]) }} />\r\n                                                    </span>\r\n                                                </span>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        {debug ? (\r\n                                            <div style={{ color: 'red', fontSize: 8 }}>\r\n                                                <span>三天内销售量：</span>\r\n                                                <span>{item1.saleNumber}</span>\r\n                                            </div>\r\n                                        ) : (<div></div>)}\r\n                                        {debug ? (\r\n                                            <div style={{ color: 'red', fontSize: 8 }}>\r\n                                                <span>{item1.barcode}</span>\r\n                                            </div>\r\n                                        ) : (<div></div>)}\r\n                                    </div>\r\n                                </List.Item>\r\n                            );\r\n                        }}\r\n                    />\r\n                </Spin>\r\n                <div style={{\r\n                    textAlign: 'center', color: '#00A2A5',\r\n                    fontSize: 18, paddingTop: 10, paddingBottom: 20\r\n                }}>\r\n                    更多商品请点击下方分类查看\r\n                </div>\r\n\r\n                <Collapse\r\n                    bordered={true}\r\n                    expandIcon={({ isActive }) => <RightSquareFilled style={{ fontSize: 24, color: 'whitesmoke' }} rotate={isActive ? 90 : 0} />}\r\n                    expandIconPosition='right'\r\n                    onChange={this.handleCollapseOnChange}>\r\n                    {\r\n                        foodCategorys.map((item) => {\r\n                            return (\r\n                                <Panel header=\r\n                                    {\r\n                                        (\r\n                                            <div style={{ color: 'white', fontSize: 20 }}>\r\n                                                <div style={{ marginLeft: 12 }}>\r\n                                                    <div>\r\n                                                        {debug ? `${item.categoryName}（${item.productItems.length}）` : `${item.categoryName}`}\r\n                                                    </div>\r\n                                                    <div style={{ fontSize: 12, color: 'whitesmoke' }}>\r\n                                                        {`${item.description}`}\r\n                                                    </div>\r\n                                                </div>\r\n\r\n                                                <div style={{ marginLeft: 4, marginTop: 8 }}>\r\n                                                    {\r\n                                                        item.thumbnails.map((thumbnail) => {\r\n                                                            let key = item.thumbnails.indexOf(thumbnail);\r\n                                                            let lastIndex = item.thumbnails.length - 1;\r\n                                                            return (\r\n                                                                <span key={key}>\r\n                                                                    <Image style={{ marginLeft: 6, width: 50, height: 50, borderRadius: 25 }}\r\n                                                                        preview={false} src={thumbnail} />\r\n                                                                    {key === lastIndex ? <span style={{ marginLeft: 6 }}>......</span> : <span></span>}\r\n                                                                </span>\r\n\r\n                                                            );\r\n                                                        })\r\n                                                    }\r\n                                                </div>\r\n                                            </div>\r\n                                        )\r\n                                    }\r\n                                    style={{ backgroundColor: '#00A2A5', borderRadius: 40 }}\r\n                                    key={item.categoryId}\r\n                                    extra={(<span style={{ fontSize: 16, color: 'whitesmoke' }}>{item.opened ? '点击关闭' : '点击查看更多'}</span>)}>\r\n                                    <Spin spinning={item.spinning}>\r\n                                        <List\r\n                                            style={{ marginLeft: -8, marginRight: -8, marginTop: -8 }}\r\n                                            grid={{ gutter: 2, column: 2 }}\r\n                                            dataSource={item.productItems}\r\n                                            renderItem={item1 => {\r\n                                                let imageSrc = KImageRoot;\r\n                                                imageSrc += '/';\r\n                                                imageSrc += item.categoryName;\r\n                                                imageSrc += '/';\r\n                                                imageSrc += item1.productName;\r\n                                                imageSrc += '.jpg';\r\n\r\n                                                // console.log(imageSrc);\r\n\r\n                                                let disableButton = item1.buyNumber <= 0;\r\n                                                return (\r\n                                                    <List.Item>\r\n                                                        <div>\r\n                                                            <Image preview={true} src={imageSrc}\r\n                                                                fallback={`${KImageRoot}/暂时缺货.jpg`}\r\n                                                                onError={(e) => {\r\n                                                                    /// 图片加载不成功时隐藏\r\n                                                                    // e.target.style.display = 'none';\r\n                                                                    item1.disable = true;\r\n                                                                    this.forceUpdate();\r\n                                                                }} />\r\n                                                            <div style={{\r\n                                                                paddingTop: 4,\r\n                                                                paddingLeft: 4,\r\n                                                                paddingRight: 4,\r\n                                                                backgroundColor: 'transparent',\r\n                                                            }}>\r\n                                                                <div style={{\r\n                                                                    fontSize: 16,\r\n                                                                    fontWeight: 'bold',\r\n                                                                    color: 'black'\r\n                                                                }}>\r\n                                                                    {item1.productName}\r\n                                                                </div>\r\n                                                                <div style={{\r\n                                                                    fontSize: 12,\r\n                                                                    color: 'black'\r\n                                                                }}>\r\n                                                                    {`配料：${item1['配料']}`}\r\n                                                                </div>\r\n                                                                <div style={{\r\n                                                                    fontSize: 8,\r\n                                                                    color: 'gray'\r\n                                                                }}>\r\n                                                                    {`规格：${item1['规格']}`}\r\n                                                                </div>\r\n                                                                <div style={{\r\n                                                                    fontSize: 15,\r\n                                                                    fontWeight: 'bold',\r\n                                                                    color: 'black'\r\n                                                                }}>\r\n                                                                    <span>\r\n                                                                        ¥\r\n                                                                    </span>\r\n                                                                    <span>\r\n                                                                        {item1[\"价格\"]}\r\n                                                                    </span>\r\n                                                                    <span>\r\n                                                                        /\r\n                                                                    </span>\r\n                                                                    <span>\r\n                                                                        {item1.unit}\r\n                                                                    </span>\r\n\r\n                                                                    <span style={{ float: 'right', backgroundColor: 'transparent' }}>\r\n                                                                        {\r\n                                                                            disableButton ? (<span></span>) :\r\n                                                                                (\r\n                                                                                    <span>\r\n                                                                                        <Button size='small' shape='circle' icon={<MinusOutlined />}\r\n                                                                                            onClick={() => { this.handleDecreaseItemFromCart(item1) }} />\r\n                                                                                    </span>\r\n                                                                                )\r\n                                                                        }\r\n                                                                        &nbsp;\r\n                                                                        &nbsp;\r\n                                                                        {\r\n                                                                            disableButton ? (<span></span>) :\r\n                                                                                (\r\n                                                                                    <span>\r\n                                                                                        {item1.buyNumber}\r\n                                                                                    </span>\r\n                                                                                )\r\n                                                                        }\r\n                                                                        &nbsp;\r\n                                                                        &nbsp;\r\n                                                                        <span>\r\n                                                                            <Button disabled={item1.disable} danger size='middle' shape='circle' icon={<PlusOutlined />}\r\n                                                                                onClick={() => { this.handleIncreaseItemToCart(item1, item.categoryName) }} />\r\n                                                                        </span>\r\n                                                                    </span>\r\n                                                                </div>\r\n                                                            </div>\r\n\r\n                                                            {debug ? (\r\n                                                                <div style={{ color: 'red', fontSize: 8 }}>\r\n                                                                    <span>三天内销售量：</span>\r\n                                                                    <span>{item1.saleNumber}</span>\r\n                                                                </div>\r\n                                                            ) : (<div></div>)}\r\n                                                            {debug ? (\r\n                                                                <div style={{ color: 'red', fontSize: 8 }}>\r\n                                                                    <span>{item1.barcode}</span>\r\n                                                                </div>\r\n                                                            ) : (<div></div>)}\r\n                                                        </div>\r\n                                                    </List.Item>\r\n                                                );\r\n                                            }}\r\n                                        />\r\n                                    </Spin>\r\n                                </Panel>\r\n                            );\r\n                        })\r\n                    }\r\n                </Collapse>\r\n\r\n                <div style={{ textAlign: 'center', background: '#D8D8D8', height: 100 }}>\r\n                    <div style={{ paddingTop: 12, marginTop: 10 }}>\r\n                        总部：漳州市漳浦县府前街西247号(教育局对面)\r\n                    </div>\r\n                    <div style={{ color: 'blue', fontSize: 14 }}>\r\n                        <span style={{ color: 'black' }}>©弯麦</span>\r\n\r\n                        <a href='http://beian.miit.gov.cn'>\r\n                            <span style={{ marginLeft: 8 }}>闽ICP备2022007668号-1</span>\r\n                        </a>\r\n\r\n                        <div>\r\n                            <a href=\"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=35062302000230\">\r\n                                <span>\r\n                                    <Image preview={false} src=\"/image/公安备案图标.png\" style={{ float: 'left' }} />\r\n                                </span>\r\n                                <span style={{ marginLeft: 8 }}>\r\n                                    闽公网安备 35062302000230号\r\n                                </span>\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div style={{ height: 60 }}></div>\r\n                <div style={{ height: 60, position: 'fixed', backgroundColor: 'white', width: '100%', bottom: 0 }}>\r\n                    <div style={{ float: 'left', marginTop: 4, marginLeft: 8, width: 50, height: 50 }} onClick={() => {\r\n                        this.setState({ orderListShow: !this.state.orderListShow })\r\n                    }}>\r\n                        <Image style={{ width: 50, height: 50 }} preview={false} src={require('../image/shoppingCart.png')} />\r\n                    </div>\r\n                    <div style={{\r\n                        float: 'left', width: 20, height: 16,\r\n                        backgroundColor: 'red', color: 'white',\r\n                        fontSize: 8, textAlign: 'center', borderRadius: 6\r\n                    }}>{orderListTotalCount}</div>\r\n                    <div style={{ float: 'left', marginLeft: 20, marginTop: 15, fontSize: 20, fontWeight: 'bold' }}>\r\n                        <span style={{ fontSize: 4 }}>¥ </span>\r\n                        <span style={{ fontSize: 24 }}>{orderListTotalPrice}</span>\r\n                    </div>\r\n\r\n                    <div style={{ float: 'right', marginRight: 10, marginTop: 10 }}>\r\n                        <Button disabled={disableOrderButton} type='primary'\r\n                            shape='round' style={{ width: 120, height: 40 }} onClick={() => {\r\n                                let newOrderText = '';\r\n\r\n                                for (let i = 0; i < orderList.length; ++i) {\r\n                                    let item = orderList[i];\r\n                                    newOrderText += item.productName;\r\n                                    newOrderText += '  ';\r\n                                    newOrderText += 'X';\r\n                                    newOrderText += '  ';\r\n                                    newOrderText += item.buyNumber;\r\n                                    newOrderText += '\\n';\r\n                                }\r\n\r\n                                newOrderText += '\\n';\r\n                                newOrderText += '共 ';\r\n                                newOrderText += orderListTotalCount;\r\n                                newOrderText += ' 个 | '\r\n                                newOrderText += '计 '\r\n                                newOrderText += orderListTotalPrice\r\n                                newOrderText += ' 元';\r\n                                newOrderText += '\\n';\r\n\r\n                                this.setState({ goOrderViewShow: true, orderText: newOrderText, remarkText: '' });\r\n                            }}>\r\n                            {orderButtonText}\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n                {\r\n                    orderListShow ? (\r\n                        <div style={{ height: '100%', width: '100%', position: 'fixed', backgroundColor: 'rgba(0, 0, 0, 0.5)', bottom: 60 }} >\r\n                            <div style={{ maxHeight: '65%', overflow: 'scroll', width: '100%', position: 'absolute', backgroundColor: 'white', bottom: 0 }}>\r\n                                <div style={{ marginLeft: 8, marginTop: 6 }}>\r\n                                    <span style={{ fontSize: 8, color: 'black' }}>已选商品</span>\r\n                                    <Button size='small' style={{ float: 'right', right: 4 }} onClick={() => {\r\n                                        this.setState({ orderListShow: false })\r\n                                    }}>收起</Button>\r\n                                </div>\r\n                                <List\r\n                                    itemLayout='vertical'\r\n                                    dataSource={orderList}\r\n                                    renderItem={item => {\r\n                                        // console.log(imageSrc);\r\n                                        let totalPrice = item[\"价格\"] * item.buyNumber;\r\n\r\n                                        totalPrice = this.fixTo2(totalPrice)\r\n\r\n                                        return (\r\n                                            <div>\r\n                                                <div style={{ margin: 10, height: 70, backgroundColor: 'white' }}>\r\n                                                    <div style={{ float: 'left', width: 70, height: 70 }}>\r\n                                                        <Image style={{ width: 70, height: 70 }}\r\n                                                            preview={false} src={item.imageUrl} />\r\n                                                    </div>\r\n\r\n                                                    <div style={{ float: 'left', marginLeft: 10, marginTop: 4 }}>\r\n                                                        <div style={{ fontSize: 16, fontWeight: \"bold\" }}>{item.productName}</div>\r\n                                                        <div style={{ fontSize: 8 }}>{item.specification}</div>\r\n\r\n                                                        <div style={{ marginTop: 4, fontSize: 15, fontWeight: \"bold\" }}>\r\n                                                            <span>¥ </span>\r\n                                                            <span>{totalPrice}</span>\r\n                                                        </div>\r\n                                                    </div>\r\n\r\n                                                    <span style={{ float: 'right', marginTop: 25, backgroundColor: 'transparent' }}>\r\n                                                        {\r\n                                                            (\r\n                                                                <span>\r\n                                                                    <Button size='small' shape='circle' icon={<MinusOutlined />}\r\n                                                                        onClick={() => { this.handleDecreaseItemFromCart(item) }} />\r\n                                                                </span>\r\n                                                            )\r\n                                                        }\r\n                                                        &nbsp;\r\n                                                        &nbsp;\r\n                                                        {\r\n                                                            (\r\n                                                                <span style={{ fontSize: 15, fontWeight: \"bold\" }}>\r\n                                                                    {item.buyNumber}\r\n                                                                </span>\r\n                                                            )\r\n                                                        }\r\n                                                        &nbsp;\r\n                                                        &nbsp;\r\n                                                        <span>\r\n                                                            <Button danger size='middle' shape='circle' icon={<PlusOutlined />}\r\n                                                                onClick={() => { this.handleIncreaseItemToCart(item) }} />\r\n                                                        </span>\r\n                                                    </span>\r\n                                                </div>\r\n                                            </div>\r\n                                        );\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    ) : (<div></div>)\r\n                }\r\n                {\r\n                    goOrderViewShow ? (\r\n                        <div style={{ height: '100%', width: '100%', position: 'fixed', backgroundColor: 'rgba(0, 0, 0, 0.92)', top: 0 }}>\r\n                            <div style={{ width: '100%', marginTop: 20 }}>\r\n                                <div style={{ fontWeight: 'bold', color: 'white', marginLeft: '5%', marginRight: '5%' }}>1：订单信息</div>\r\n                                <textarea placeholder='输入需要的商品和数量' onChange={(t) => {\r\n                                    this.setState({ orderText: t.target.value });\r\n                                }} value={orderText} rows={8} style={{\r\n                                    fontSize: 16,\r\n                                    fontWeight: 'bold',\r\n                                    width: '90%', marginTop: 10,\r\n                                    marginLeft: '5%', marginRight: '5%',\r\n                                    paddingLeft: 16, paddingTop: 12,\r\n                                    paddingRight: 16, paddingBottom: 12\r\n                                }}>\r\n                                </textarea>\r\n                            </div>\r\n\r\n                            <div style={{ width: '100%', marginTop: 2 }}>\r\n                                <div style={{ fontWeight: 'bold', color: 'white', marginLeft: '5%', marginRight: '5%' }}>2：备注</div>\r\n                                <textarea placeholder='输入备注（班级；姓名；会员电话等等）' onChange={(t) => {\r\n                                    this.setState({ remarkText: t.target.value });\r\n                                }} value={remarkText} rows={1} style={{\r\n                                    fontSize: 14,\r\n                                    fontWeight: 'bold',\r\n                                    width: '90%', marginTop: 10,\r\n                                    marginLeft: '5%', marginRight: '5%',\r\n                                    paddingLeft: 12, paddingTop: 8,\r\n                                    paddingRight: 12, paddingBottom: 8\r\n                                }}>\r\n                                </textarea>\r\n                            </div>\r\n\r\n                            <div style={{ color: 'white', marginLeft: '5%', marginRight: '5%', marginTop: 12 }}>\r\n                                点击《取消》，取消预定。\r\n                            </div>\r\n\r\n                            <div style={{ color: 'white', marginLeft: '5%', marginRight: '5%' }}>\r\n                                点击《复制订单信息和备注》，将复制“订单信息和备注”到剪切板。\r\n                            </div>\r\n\r\n                            <div style={{ marginLeft: '5%', width: '100%', marginTop: 20 }}>\r\n                                <span>\r\n                                    <Button danger onClick={() => {\r\n                                        this.setState({ goOrderViewShow: false });\r\n                                    }}>取消</Button>\r\n                                </span>\r\n                                &nbsp;&nbsp;&nbsp;&nbsp;\r\n                                <span>\r\n                                    <Button type='primary' size='large' onClick={() => {\r\n                                        if (orderText.trim().length <= 0) {\r\n                                            message.error('订单信息为空，请输入！');\r\n                                            return;\r\n                                        }\r\n\r\n                                        let allText =\r\n                                            '-----------\\n' + orderText +\r\n                                            '-----------\\n';\r\n\r\n                                        if (remarkText.length > 0) {\r\n                                            allText += remarkText +\r\n                                                '\\n-----------\\n';\r\n                                        }\r\n\r\n                                        this.copyText(allText);\r\n\r\n                                        // console.log('orderText = ' + orderText);\r\n                                        let orderTextArray = orderText.split('\\n');\r\n\r\n                                        confirm({\r\n                                            title:\r\n                                                <div style={{ textAlign: 'center' }}>\r\n                                                    <div>-----------</div>\r\n                                                    {orderTextArray.length > 0 ? orderTextArray.map((text) => {\r\n                                                        return (<div key={text}>{text}</div>);\r\n                                                    }) : <div></div>}\r\n                                                    <div>-----------</div>\r\n                                                    {\r\n                                                        remarkText.length > 0 ? <div>\r\n                                                            <div>{remarkText}</div>\r\n                                                            <div>-----------</div>\r\n                                                        </div> : <div></div>\r\n                                                    }\r\n                                                </div>,\r\n                                            content:\r\n                                                <div style={{ textAlign: 'center' }}>\r\n                                                    “订单信息和备注”已经复制到剪切板，点击《去登记预定》将关闭页面，请将“订单信息和备注”文本粘贴发送给#弯麦总店1号或2号#进行登记预定\r\n                                                </div>,\r\n                                            okText: '去登记预定',\r\n                                            onOk() {\r\n                                                // console.log('OK');\r\n                                                window.wx.closeWindow();\r\n                                            },\r\n                                            onCancel() {\r\n                                                // console.log('Cancel');\r\n                                            },\r\n                                        })\r\n                                    }}>复制订单信息和备注</Button>\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    ) : (<div></div>)\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ProductMenu;\r\n","/*\r\n商品菜单\r\n*/\r\nimport React from 'react';\r\nimport { RightSquareFilled, MinusOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport { Collapse, List, Image, Button, message, Modal } from 'antd';\r\nimport {\r\n    allBreadInfos,\r\n    wechatSign\r\n} from '../api/api';\r\n\r\nconst { Panel } = Collapse;\r\nconst { confirm } = Modal;\r\n\r\n// const KImageRoot = '/面包';\r\nconst KOrderMiniPrice = 20;\r\n\r\nclass ProductMenu extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            // 主页\r\n            breadRecommend: { name: '', products: [] },\r\n            breadCategorys: [],\r\n            breadProducts: [],\r\n\r\n            // 预定\r\n            orderList: [],\r\n            orderListShow: false,\r\n            orderListTotalPrice: 0,\r\n            orderListTotalCount: 0,\r\n            goOrderViewShow: false,\r\n            orderText: '',\r\n            remarkText: '',\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const breadInfosObj = await allBreadInfos();\r\n        // console.log('breadInfosObj = ' + JSON.stringify(breadInfosObj));\r\n        this._weixin = breadInfosObj.weixin;\r\n\r\n        this.makeRenderItemFunc4Product();\r\n        this.initLocal();\r\n\r\n        this.setState({\r\n            breadRecommend: breadInfosObj.recommend,\r\n            breadCategorys: breadInfosObj.categorys,\r\n            breadProducts: breadInfosObj.products,\r\n            orderList: [],\r\n        });\r\n        this.updateWeixinConfig();\r\n    }\r\n\r\n    handleCollapseOnChange = async (keys) => {\r\n        if (!keys) return;\r\n        // console.log(keys);\r\n        let keysOpened = [...keys];\r\n        for (let ii = 0; ii < this._lastKeys.length; ++ii) {\r\n            let key = this._lastKeys[ii];\r\n            let pos = keysOpened.indexOf(key);\r\n            if (pos !== -1) {\r\n                keysOpened.splice(pos, 1);\r\n            }\r\n        }\r\n\r\n        let keysClosed = [...this._lastKeys];\r\n        for (let jj = 0; jj < keys.length; ++jj) {\r\n            let key = keys[jj];\r\n            let pos = keysClosed.indexOf(key);\r\n            if (pos !== -1) {\r\n                keysClosed.splice(pos, 1);\r\n            }\r\n        }\r\n        this._lastKeys = [...keys];\r\n\r\n        const { breadCategorys } = this.state;\r\n\r\n        // console.log(keysOpened);\r\n        let categoryIdOpened = keysOpened.length === 1 ? keysOpened[0] : \"\";\r\n        let categoryIdClosed = keysClosed.length === 1 ? keysClosed[0] : \"\";\r\n\r\n        for (let i = 0; i < breadCategorys.length; ++i) {\r\n            let category = breadCategorys[i];\r\n            // categoryId是字符串类型，category.id是数字类型\r\n            if (category.id.toString() === categoryIdOpened.toString()) {\r\n                category.opened = true;\r\n                this.forceUpdate();\r\n                break;\r\n            }\r\n            if (category.id.toString() === categoryIdClosed.toString()) {\r\n                category.opened = false;\r\n                this.forceUpdate();\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    /// 配置微信分享图标和文案\r\n    updateWeixinConfig = async () => {\r\n        /// 微信环境判断\r\n        let is_weixin = window.navigator.userAgent.toLowerCase().indexOf(\"micromessenger\") !== -1;\r\n        if (!is_weixin) return;\r\n\r\n        /**\r\n          * 微信配置\r\n          */\r\n        let res = await wechatSign(document.URL.split('#')[0]);\r\n        if (res) {\r\n            /// 如果没有传递过来appid，则微信接口出错，前端不处理后续流程\r\n            if (!res.appId) return;\r\n\r\n            /**\r\n             * 微信JSSDK注入配置信息\r\n             */\r\n            window.wx.config({\r\n                debug: false, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。\r\n                appId: res.appId, // 必填，公众号的唯一标识\r\n                timestamp: res.timestamp, // 必填，生成签名的时间戳\r\n                nonceStr: res.nonceStr, // 必填，生成签名的随机串\r\n                signature: res.signature,// 必填，签名\r\n                jsApiList: [\r\n                    'updateAppMessageShareData',\r\n                    'updateTimelineShareData'\r\n                ] // 必填，需要使用的JS接口列表\r\n            });\r\n\r\n            let that = this;\r\n            window.wx.ready(function () {\r\n                /**\r\n                 * config信息验证后会执行ready方法，所有接口调用都必须在config接口获得结果之后，\r\n                 * config是一个客户端的异步操作，所以如果需要在页面加载时就调用相关接口，\r\n                 * 则须把相关接口放在ready函数中调用来确保正确执行。\r\n                 * 对于用户触发时才调用的接口，则可以直接调用，不需要放在ready函数中。\r\n                 * */\r\n                // console.log('window.wx ready');\r\n\r\n                let wXConfig = that._weixin;\r\n                let title = wXConfig.title;\r\n                let desc = wXConfig.desc;\r\n                let imgUrl = wXConfig.imgUrl;\r\n\r\n                // 自定义“分享给朋友”及“分享到QQ”按钮的分享内容\r\n                window.wx.updateAppMessageShareData({\r\n                    title: title, // 分享标题\r\n                    desc: desc, // 分享描述\r\n                    link: document.URL, // 分享链接，该链接域名或路径必须与当前页面对应的公众号JS安全域名一致\r\n                    imgUrl: imgUrl, // 分享图标\r\n                    success: function () {\r\n                        // 设置成功\r\n                        // console.log('window.wx.updateAppMessageShareData success');\r\n                    },\r\n                    fail: function (res) {\r\n                        // 设置失败\r\n                        // console.log('window.wx.updateAppMessageShareData fail res=' + res);\r\n                    }\r\n                });\r\n\r\n                // 自定义“分享到朋友圈”及“分享到QQ空间”按钮的分享内容\r\n                window.wx.updateTimelineShareData({\r\n                    title: title, // 分享标题\r\n                    link: document.URL, // 分享链接，该链接域名或路径必须与当前页面对应的公众号JS安全域名一致\r\n                    imgUrl: imgUrl, // 分享图标\r\n                    success: function () {\r\n                        // 设置成功\r\n                        // console.log('window.wx.updateTimelineShareData success');\r\n                    },\r\n                    fail: function () {\r\n                        // 设置失败\r\n                        // console.log('window.wx.updateTimelineShareData fail');\r\n                    }\r\n                });\r\n            });\r\n\r\n            window.wx.error(function (res) {\r\n                /**\r\n                 * config信息验证失败会执行error函数，如签名过期导致验证失败，具体错误信息可以打开config的debug模式查看，\r\n                 * 也可以在返回的res参数中查看，对于SPA可以在这里更新签名。\r\n                 */\r\n                console.log('window.wx error res = ' + JSON.stringify(res));\r\n            });\r\n        }\r\n    }\r\n\r\n    handleIncreaseItemToCart = (item) => {\r\n        item.buyNumber = item.buyNumber + 1;\r\n        this.forceUpdate();\r\n\r\n        // console.log(item)\r\n        if (item.buyNumber >= 1) {\r\n            const { orderList } = this.state;\r\n\r\n            let newOrderList = [...orderList];\r\n            let existItem;\r\n            for (let i = 0; i < newOrderList.length; ++i) {\r\n                if (newOrderList[i].name === item.name) {\r\n                    existItem = newOrderList[i];\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (!existItem) {\r\n                newOrderList.push(item);\r\n            }\r\n\r\n            this.setState({ orderList: newOrderList });\r\n        }\r\n\r\n        setTimeout(() => {\r\n            const { orderList } = this.state;\r\n            let totalPrice = 0;\r\n            let totalCount = 0;\r\n            for (let i = 0; i < orderList.length; ++i) {\r\n                let item = orderList[i];\r\n                let tp = item.specification.price * item.buyNumber;\r\n\r\n                tp = this.fixTo2(tp);\r\n                totalPrice += tp;\r\n\r\n                totalCount += item.buyNumber;\r\n            }\r\n\r\n            totalPrice = this.fixTo2(totalPrice);\r\n            this.setState({ orderListTotalPrice: totalPrice, orderListTotalCount: totalCount });\r\n        }, 0);\r\n    }\r\n\r\n    handleDecreaseItemFromCart = (item) => {\r\n        item.buyNumber = item.buyNumber - 1;\r\n        this.forceUpdate();\r\n\r\n        // console.log(item)\r\n        if (item.buyNumber <= 0) {\r\n            const { orderList } = this.state;\r\n\r\n            let newOrderList = [...orderList];\r\n            let existItem;\r\n            for (let i = 0; i < newOrderList.length; ++i) {\r\n                if (newOrderList[i].name === item.name) {\r\n                    existItem = newOrderList[i];\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (existItem) {\r\n                newOrderList.splice(newOrderList.indexOf(existItem), 1);\r\n            }\r\n\r\n            this.setState({ orderList: newOrderList });\r\n        }\r\n\r\n        setTimeout(() => {\r\n            const { orderList } = this.state;\r\n            let totalPrice = 0;\r\n            let totalCount = 0;\r\n            for (let i = 0; i < orderList.length; ++i) {\r\n                let item = orderList[i];\r\n                let tp = item.specification.price * item.buyNumber;\r\n\r\n                tp = this.fixTo2(tp);\r\n                totalPrice += tp;\r\n\r\n                totalCount += item.buyNumber;\r\n            }\r\n\r\n            totalPrice = this.fixTo2(totalPrice);\r\n            this.setState({ orderListTotalPrice: totalPrice, orderListTotalCount: totalCount });\r\n        }, 0);\r\n    }\r\n\r\n    initLocal = () => {\r\n        // 初始化local\r\n        this._lastKeys = [];\r\n\r\n        // 首页列数\r\n        this._columnNumber = 2;\r\n        const interWidth = window.innerWidth;\r\n        // console.log('interWidth = ' + interWidth);\r\n        if (interWidth > 900) {\r\n            this._columnNumber = 4;\r\n        } else if (interWidth > 600) {\r\n            this._columnNumber = 3;\r\n        }\r\n    }\r\n\r\n    makeRenderItemFunc4Product = () => {\r\n        this._renderItemFunc4Product = (product, index) => {\r\n            return (\r\n                <List.Item>\r\n                    <div>\r\n                        <Image style={{ border: '1px dotted #00A2A5', borderRadius: 8 }}\r\n                            preview={true} src={`${product?.images?.[0]}`} />\r\n                        <div style={{\r\n                            paddingTop: 4,\r\n                            paddingLeft: 4,\r\n                            paddingRight: 4,\r\n                            backgroundColor: 'transparent',\r\n                        }}>\r\n                            <div style={{\r\n                                fontSize: 16,\r\n                                fontWeight: 'bold',\r\n                                color: 'black'\r\n                            }}>\r\n                                {product.name}\r\n                            </div>\r\n                            <div style={{\r\n                                fontSize: 12,\r\n                                color: 'black'\r\n                            }}>\r\n                                {`配料：${product.ingredient}`}\r\n                            </div>\r\n                            <div style={{\r\n                                fontSize: 14,\r\n                                color: 'gray'\r\n                            }}>\r\n                                {`保质期：${product.expirationDate}`}\r\n                            </div>\r\n                            <div style={{\r\n                                fontSize: 10,\r\n                                color: 'gray'\r\n                            }}>\r\n                                {`规格：${product.specification.name}`}\r\n                            </div>\r\n                            <div style={{\r\n                                fontSize: 15,\r\n                                fontWeight: 'bold',\r\n                                color: 'black'\r\n                            }}>\r\n                                <span>\r\n                                    {`¥${product.specification.price}/${product.specification.unit}`}\r\n                                </span>\r\n                                <span style={{ float: 'right', backgroundColor: 'transparent' }}>\r\n                                    {\r\n                                        product.buyNumber <= 0 ? (<span></span>) :\r\n                                            (\r\n                                                <span>\r\n                                                    <Button size='small' shape='circle' icon={<MinusOutlined />}\r\n                                                        onClick={() => { this.handleDecreaseItemFromCart(product) }} />\r\n                                                </span>\r\n                                            )\r\n                                    }\r\n                                    &nbsp;\r\n                                    &nbsp;\r\n                                    {\r\n                                        product.buyNumber <= 0 ? (<span></span>) :\r\n                                            (\r\n                                                <span>\r\n                                                    {product.buyNumber}\r\n                                                </span>\r\n                                            )\r\n                                    }\r\n                                    &nbsp;\r\n                                    &nbsp;\r\n                                    <span>\r\n                                        <Button danger size='middle' shape='circle' icon={<PlusOutlined />}\r\n                                            onClick={() => { this.handleIncreaseItemToCart(product) }} />\r\n                                    </span>\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </List.Item >\r\n            )\r\n        }\r\n    }\r\n\r\n    fixTo2 = (num) => {\r\n        let a = 1; let e = 2;\r\n        for (; e > 0; a *= 10, e--);\r\n        for (; e < 0; a /= 10, e++);\r\n        let newNum = Math.round(num * a) / a;\r\n        return newNum;\r\n    }\r\n\r\n    //复制文本\r\n    copyText = (text) => {\r\n        var element = this.createElement(text);\r\n        element.select();\r\n        element.setSelectionRange(0, element.value.length);\r\n        document.execCommand('copy');\r\n        element.remove();\r\n    }\r\n\r\n    //创建临时的输入框元素\r\n    createElement = (text) => {\r\n        var isRTL = document.documentElement.getAttribute('dir') === 'rtl';\r\n        var element = document.createElement('textarea');\r\n        // 防止在ios中产生缩放效果\r\n        element.style.fontSize = '12pt';\r\n        // 重置盒模型\r\n        element.style.border = '0';\r\n        element.style.padding = '0';\r\n        element.style.margin = '0';\r\n        // 将元素移到屏幕外\r\n        element.style.position = 'absolute';\r\n        element.style[isRTL ? 'right' : 'left'] = '-9999px';\r\n        // 移动元素到页面底部\r\n        let yPosition = window.pageYOffset || document.documentElement.scrollTop;\r\n        element.style.top = `${yPosition}px`;\r\n        //设置元素只读\r\n        element.setAttribute('readonly', '');\r\n        element.value = text;\r\n        document.body.appendChild(element);\r\n        return element;\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            breadRecommend,\r\n            breadCategorys,\r\n            orderList,\r\n            orderListShow,\r\n            orderListTotalPrice,\r\n            orderListTotalCount,\r\n            goOrderViewShow,\r\n            orderText,\r\n            remarkText\r\n        } = this.state;\r\n\r\n        let disableOrderButton = false;\r\n        let orderButtonText = '去预定';\r\n        if (orderListTotalPrice < KOrderMiniPrice) {\r\n            disableOrderButton = true;\r\n            let differ = KOrderMiniPrice - orderListTotalPrice;\r\n            differ = this.fixTo2(differ);\r\n            orderButtonText = '差¥' + differ + '起送';\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                {/* 头部区域 */}\r\n                <div style={{\r\n                    textAlign: 'center', color: '#00A2A5',\r\n                    fontSize: 16, fontWeight: 'normal', paddingTop: 7, paddingBottom: 5\r\n                }}>\r\n                    <span>\r\n                        <span>联系弯麦总店</span>\r\n                        <span style={{ textDecoration: 'underline' }}>\r\n                            <a href=\"tel:13290768588\">13290768588</a>\r\n                        </span>\r\n                        <span> (微信同号)</span>\r\n                    </span>\r\n                </div>\r\n\r\n                {/* 推荐区域 */}\r\n                <div style={{\r\n                    textAlign: 'center', marginTop: 10, fontSize: 16,\r\n                    backgroundColor: '#00A2A5', color: 'white',\r\n                    borderRadius: 30, paddingTop: 8, paddingBottom: 8\r\n                }}>\r\n                    {`${breadRecommend.name}`}\r\n                </div>\r\n                <List style={{ marginLeft: 4, marginRight: 4, marginTop: 4 }}\r\n                    grid={{ gutter: 4, column: this._columnNumber }}\r\n                    dataSource={breadRecommend.products}\r\n                    renderItem={this._renderItemFunc4Product}\r\n                />\r\n                <div style={{\r\n                    textAlign: 'center', color: '#00A2A5',\r\n                    fontSize: 18, paddingTop: 10, paddingBottom: 20\r\n                }}>\r\n                    更多款式请点击下方分类查看\r\n                </div>\r\n\r\n                {/* 分类区域 */}\r\n                <Collapse\r\n                    bordered={true}\r\n                    expandIcon={({ isActive }) =>\r\n                        <RightSquareFilled\r\n                            style={{ fontSize: 24, color: 'whitesmoke' }}\r\n                            rotate={isActive ? 90 : 0} />\r\n                    }\r\n                    expandIconPosition='right'\r\n                    onChange={this.handleCollapseOnChange}>\r\n                    {\r\n                        breadCategorys.map((category) => {\r\n                            return (<Panel\r\n                                header={\r\n                                    (\r\n                                        <div style={{ color: 'white', fontSize: 20 }}>\r\n                                            <div style={{ marginLeft: 12 }}>\r\n                                                <div>\r\n                                                    {`${category.name}`}\r\n                                                </div>\r\n                                                <div style={{ fontSize: 12, color: 'whitesmoke' }}>\r\n                                                    {`${category.description}`}\r\n                                                </div>\r\n                                            </div>\r\n                                            <div style={{ marginLeft: 4, marginTop: 8 }}>\r\n                                                {\r\n                                                    category.images.map((image) => {\r\n                                                        let index = category.images.indexOf(image);\r\n                                                        let lastIndex = category.images.length - 1;\r\n                                                        return (\r\n                                                            <span key={index}>\r\n                                                                <Image style={{ marginLeft: 6, width: 44, height: 44, borderRadius: 10 }}\r\n                                                                    preview={false} src={image} />\r\n                                                                {index === lastIndex ? <span style={{ marginLeft: 6 }}>......</span> : <span></span>}\r\n                                                            </span>\r\n                                                        );\r\n                                                    })\r\n                                                }\r\n                                            </div>\r\n                                        </div>\r\n                                    )\r\n                                }\r\n                                style={{ backgroundColor: '#00A2A5', borderRadius: 40 }}\r\n                                key={category.id}\r\n                                extra={\r\n                                    <span style={{ fontSize: 16, color: 'whitesmoke' }}>\r\n                                        {category.opened ? '点击收起' : '点击查看更多'}\r\n                                    </span>\r\n                                }>\r\n\r\n                                <List style={{ marginLeft: -12, marginRight: -12, marginTop: -12 }}\r\n                                    grid={{ gutter: 4, column: this._columnNumber }}\r\n                                    dataSource={category.products}\r\n                                    renderItem={this._renderItemFunc4Product} />\r\n                            </Panel>)\r\n                        })\r\n                    }\r\n                </Collapse>\r\n\r\n                {/* 底部区域 */}\r\n                <div style={{ textAlign: 'center', background: '#D8D8D8', height: 100 }}>\r\n                    <div style={{ paddingTop: 12, marginTop: 10 }}>\r\n                        总部：漳州市漳浦县府前街西247号(教育局对面)\r\n                    </div>\r\n                    <div style={{ color: 'blue', fontSize: 14 }}>\r\n                        <span style={{ color: 'black' }}>©弯麦</span>\r\n\r\n                        <a href='http://beian.miit.gov.cn'>\r\n                            <span style={{ marginLeft: 8 }}>闽ICP备2022007668号-1</span>\r\n                        </a>\r\n\r\n                        <div>\r\n                            <a href=\"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=35062302000230\">\r\n                                <span>\r\n                                    <Image preview={false} src=\"/image/公安备案图标.png\" style={{ float: 'left' }} />\r\n                                </span>\r\n                                <span style={{ marginLeft: 8 }}>\r\n                                    闽公网安备 35062302000230号\r\n                                </span>\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div style={{ height: 60 }} />\r\n\r\n                {/* 购物车区域 */}\r\n                <div style={{ height: 60, position: 'fixed', backgroundColor: 'white', width: '100%', bottom: 0 }}>\r\n                    <div style={{ float: 'left', marginTop: 4, marginLeft: 8, width: 50, height: 50 }} onClick={() => {\r\n                        this.setState({ orderListShow: !this.state.orderListShow })\r\n                    }}>\r\n                        <Image style={{ width: 50, height: 50 }} preview={false} src={require('../image/shoppingCart.png')} />\r\n                    </div>\r\n                    <div style={{\r\n                        float: 'left', width: 20, height: 16,\r\n                        backgroundColor: 'red', color: 'white',\r\n                        fontSize: 8, textAlign: 'center', borderRadius: 6\r\n                    }}>{orderListTotalCount}</div>\r\n                    <div style={{ float: 'left', marginLeft: 20, marginTop: 15, fontSize: 20, fontWeight: 'bold' }}>\r\n                        <span style={{ fontSize: 4 }}>¥ </span>\r\n                        <span style={{ fontSize: 24 }}>{orderListTotalPrice}</span>\r\n                    </div>\r\n\r\n                    <div style={{ float: 'right', marginRight: 10, marginTop: 10 }}>\r\n                        <Button disabled={disableOrderButton} type='primary'\r\n                            shape='round' style={{ width: 120, height: 40 }} onClick={() => {\r\n                                let newOrderText = '';\r\n\r\n                                for (let i = 0; i < orderList.length; ++i) {\r\n                                    let item = orderList[i];\r\n                                    newOrderText += item.name;\r\n                                    newOrderText += '  ';\r\n                                    newOrderText += 'X';\r\n                                    newOrderText += '  ';\r\n                                    newOrderText += item.buyNumber;\r\n                                    newOrderText += '\\n';\r\n                                }\r\n\r\n                                newOrderText += '\\n';\r\n                                newOrderText += '共 ';\r\n                                newOrderText += orderListTotalCount;\r\n                                newOrderText += ' 个 | '\r\n                                newOrderText += '计 '\r\n                                newOrderText += orderListTotalPrice\r\n                                newOrderText += ' 元';\r\n                                newOrderText += '\\n';\r\n\r\n                                this.setState({ goOrderViewShow: true, orderText: newOrderText, remarkText: '' });\r\n                            }}>\r\n                            {orderButtonText}\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* 购物车简要商品区域 */}\r\n                {\r\n                    orderListShow ? (\r\n                        <div style={{ height: '100%', width: '100%', position: 'fixed', backgroundColor: 'rgba(0, 0, 0, 0.5)', bottom: 60 }} >\r\n                            <div style={{ maxHeight: '65%', overflow: 'scroll', width: '100%', position: 'absolute', backgroundColor: 'white', bottom: 0 }}>\r\n                                <div style={{ marginLeft: 8, marginTop: 6 }}>\r\n                                    <span style={{ fontSize: 8, color: 'black' }}>已选商品</span>\r\n                                    <Button size='middle' style={{ float: 'right', right: 4 }} onClick={() => {\r\n                                        this.setState({ orderListShow: false })\r\n                                    }}>X</Button>\r\n                                </div>\r\n                                <List\r\n                                    itemLayout='vertical'\r\n                                    dataSource={orderList}\r\n                                    renderItem={item => {\r\n                                        let totalPrice = item.specification.price * item.buyNumber;\r\n                                        totalPrice = this.fixTo2(totalPrice)\r\n\r\n                                        return (\r\n                                            <div style={{ margin: 10, height: 100, backgroundColor: 'white' }}>\r\n                                                <div style={{ float: 'left', width: 70, height: 70, marginRight: 10 }}>\r\n                                                    <Image style={{ width: 70, height: 70 }}\r\n                                                        preview={false} src={item?.images?.[0]} />\r\n                                                </div>\r\n                                                <div style={{ marginTop: 0, height: 70 }}>\r\n                                                    <div style={{ fontSize: 16, fontWeight: \"bold\" }}>{item.name}</div>\r\n                                                    <div style={{ fontSize: 8 }}>{item.specification.name}</div>\r\n                                                    <div style={{ marginTop: 4, fontSize: 15, fontWeight: \"bold\" }}>\r\n                                                        <span>¥ </span>\r\n                                                        <span>{totalPrice}</span>\r\n                                                    </div>\r\n                                                </div>\r\n\r\n                                                <div style={{ float: 'right', marginTop: 0, backgroundColor: 'transparent', display: 'inline-block' }}>\r\n                                                    <span>\r\n                                                        <Button size='small' shape='circle' icon={<MinusOutlined />}\r\n                                                            onClick={() => { this.handleDecreaseItemFromCart(item) }} />\r\n                                                    </span>\r\n                                                    &nbsp;\r\n                                                    &nbsp;\r\n                                                    <span style={{ fontSize: 15, fontWeight: \"bold\" }}>\r\n                                                        {item.buyNumber}\r\n                                                    </span>\r\n                                                    &nbsp;\r\n                                                    &nbsp;\r\n                                                    <span>\r\n                                                        <Button danger size='middle' shape='circle' icon={<PlusOutlined />}\r\n                                                            onClick={() => { this.handleIncreaseItemToCart(item) }} />\r\n                                                    </span>\r\n                                                </div>\r\n                                            </div>\r\n                                        );\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    ) : (<div></div>)\r\n                }\r\n\r\n                {/* 购物车详细商品区域 */}\r\n                {\r\n                    goOrderViewShow ? (\r\n                        <div style={{ height: '100%', width: '100%', position: 'fixed', backgroundColor: 'rgba(0, 0, 0, 0.92)', top: 0 }}>\r\n                            <div style={{ width: '100%', marginTop: 20 }}>\r\n                                <div style={{ fontWeight: 'bold', color: 'white', marginLeft: '5%', marginRight: '5%' }}>1：订单信息</div>\r\n                                <textarea placeholder='输入需要的商品和数量' onChange={(t) => {\r\n                                    this.setState({ orderText: t.target.value });\r\n                                }} value={orderText} rows={8} style={{\r\n                                    fontSize: 16,\r\n                                    fontWeight: 'bold',\r\n                                    width: '90%', marginTop: 10,\r\n                                    marginLeft: '5%', marginRight: '5%',\r\n                                    paddingLeft: 16, paddingTop: 12,\r\n                                    paddingRight: 16, paddingBottom: 12\r\n                                }}>\r\n                                </textarea>\r\n                            </div>\r\n\r\n                            <div style={{ width: '100%', marginTop: 2 }}>\r\n                                <div style={{ fontWeight: 'bold', color: 'white', marginLeft: '5%', marginRight: '5%' }}>2：备注</div>\r\n                                <textarea placeholder='输入备注（班级；姓名；会员电话等等）' onChange={(t) => {\r\n                                    this.setState({ remarkText: t.target.value });\r\n                                }} value={remarkText} rows={1} style={{\r\n                                    fontSize: 14,\r\n                                    fontWeight: 'bold',\r\n                                    width: '90%', marginTop: 10,\r\n                                    marginLeft: '5%', marginRight: '5%',\r\n                                    paddingLeft: 12, paddingTop: 8,\r\n                                    paddingRight: 12, paddingBottom: 8\r\n                                }}>\r\n                                </textarea>\r\n                            </div>\r\n\r\n                            <div style={{ color: 'white', marginLeft: '5%', marginRight: '5%', marginTop: 12 }}>\r\n                                点击《取消》，取消预定。\r\n                            </div>\r\n\r\n                            <div style={{ color: 'white', marginLeft: '5%', marginRight: '5%' }}>\r\n                                点击《复制订单信息和备注》，将复制“订单信息和备注”到剪切板。\r\n                            </div>\r\n\r\n                            <div style={{ marginLeft: '5%', width: '100%', marginTop: 20 }}>\r\n                                <span>\r\n                                    <Button danger onClick={() => {\r\n                                        this.setState({ goOrderViewShow: false });\r\n                                    }}>取消</Button>\r\n                                </span>\r\n                                &nbsp;&nbsp;&nbsp;&nbsp;\r\n                                <span>\r\n                                    <Button type='primary' size='large' onClick={() => {\r\n                                        if (orderText.trim().length <= 0) {\r\n                                            message.error('订单信息为空，请输入！');\r\n                                            return;\r\n                                        }\r\n\r\n                                        let allText =\r\n                                            '-----------\\n' + orderText +\r\n                                            '-----------\\n';\r\n\r\n                                        if (remarkText.length > 0) {\r\n                                            allText += remarkText +\r\n                                                '\\n-----------\\n';\r\n                                        }\r\n\r\n                                        this.copyText(allText);\r\n\r\n                                        // console.log('orderText = ' + orderText);\r\n                                        let orderTextArray = orderText.split('\\n');\r\n\r\n                                        confirm({\r\n                                            title:\r\n                                                <div style={{ textAlign: 'center' }}>\r\n                                                    <div>-----------</div>\r\n                                                    {orderTextArray.length > 0 ? orderTextArray.map((text) => {\r\n                                                        return (<div key={Math.floor(Math.random() * 1000)}>{text}</div>);\r\n                                                    }) : <div></div>}\r\n                                                    <div>-----------</div>\r\n                                                    {\r\n                                                        remarkText.length > 0 ? <div>\r\n                                                            <div>{remarkText}</div>\r\n                                                            <div>-----------</div>\r\n                                                        </div> : <div></div>\r\n                                                    }\r\n                                                </div>,\r\n                                            content:\r\n                                                <div style={{ textAlign: 'center' }}>\r\n                                                    “订单信息和备注”已经复制到剪切板，点击《去登记预定》将关闭页面，请将“订单信息和备注”文本粘贴发送给#弯麦总店1号或2号#进行登记预定\r\n                                                </div>,\r\n                                            okText: '去登记预定',\r\n                                            onOk() {\r\n                                                // console.log('OK');\r\n                                                window.wx.closeWindow();\r\n                                            },\r\n                                            onCancel() {\r\n                                                // console.log('Cancel');\r\n                                            },\r\n                                        })\r\n                                    }}>复制订单信息和备注</Button>\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    ) : (<div></div>)\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ProductMenu;\r\n","/*\r\n商品菜单，用于打印\r\n\r\n菜单提取教育局店3日之前有销量的商品\r\n*/\r\n\r\nimport React from 'react';\r\nimport moment from 'moment';\r\n\r\nimport { Spin, Image, Button } from 'antd';\r\n\r\nimport {\r\n    loadProductsSale\r\n} from '../api/api';\r\nimport {\r\n    getPageName4A4Printer,\r\n    getA4PrinterIndex,\r\n} from '../api/util';\r\nimport {\r\n    getLodop\r\n} from './Lodop6.226_Clodop4.127/LodopFuncs';\r\nconst KCategorys = [\r\n    { categoryId: '1656244666392267569', categoryName: '弯麦小饮料', productItems: [] },\r\n    { categoryId: '1593049881212199906', categoryName: '弯麦常温蛋糕', productItems: [] },\r\n    { categoryId: '1604471906489441680', categoryName: '弯麦小蛋糕', productItems: [] },\r\n    { categoryId: '1593049816479739965', categoryName: '弯麦现烤面包', productItems: [] },\r\n    { categoryId: '1592989355905414162', categoryName: '弯麦西点慕斯', productItems: [] },\r\n    { categoryId: '1593049854760654816', categoryName: '弯麦吐司面包', productItems: [] },\r\n    { categoryId: '1626767161867698544', categoryName: '弯麦餐包面包', productItems: [] },\r\n    { categoryId: '1593059349213583584', categoryName: '弯麦干点饼干', productItems: [] },\r\n    { categoryId: '1652965113501744892', categoryName: '弯麦中式糕点', productItems: [] },\r\n    { categoryId: '1615972878471894425', categoryName: '长富常温牛奶', productItems: [] }\r\n];\r\n\r\nconst KImageRoot = '/image/面包牛奶';\r\n\r\nclass ProductMenu4Printer extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            productSpinTipText: '',\r\n            productSpinning: false,\r\n            allData: [],\r\n            debug: 0\r\n        };\r\n    }\r\n\r\n    componentDidMount = async () => {\r\n        let query = this.props.query;\r\n        let debug = query && query.get('debug');\r\n\r\n        this.setState({ debug: debug });\r\n        this.refresh();\r\n    };\r\n\r\n    refresh = async () => {\r\n        this.setState({ productSpinning: true, productSpinTipText: '获取商品信息...' }, async () => {\r\n            let theData = [];\r\n            for (let i = 0; i < KCategorys.length; ++i) {\r\n                let category = KCategorys[i];\r\n                let categoryId = category.categoryId;\r\n                let categoryName = category.categoryName;\r\n\r\n                /// 提取5天之前的数据\r\n                let nowMoment = moment();\r\n                let endDateTimeStr = nowMoment.endOf('day').format('YYYY.MM.DD HH:mm:ss');\r\n                let beginDateTimeStr = nowMoment.subtract(5, 'days').startOf('day').format('YYYY.MM.DD HH:mm:ss');\r\n\r\n                // console.log(beginDateTimeStr);\r\n                // console.log(endDateTimeStr);\r\n\r\n                /// 教育局店，有销量\r\n                let loadResult = await loadProductsSale(categoryId, ['3995767', '4382444'], '1', beginDateTimeStr, endDateTimeStr, 'barcode', 'true');\r\n                // console.log(loadResult);\r\n\r\n                if (loadResult.errCode === 0 && loadResult.list.length > 0) {\r\n                    let resultList = loadResult.list;\r\n                    for (let j = 0; j < resultList.length; ++j) {\r\n                        let newItem = { ...resultList[j] };\r\n                        if (j % 4 === 0) {\r\n                            let newPage = { key: theData.length + 1, categoryName: categoryName, productItems: [] };\r\n                            newPage.productItems.push(newItem);\r\n                            theData.push(newPage);\r\n                        } else {\r\n                            let lastData = theData[theData.length - 1].productItems;\r\n                            lastData.push(newItem);\r\n                        }\r\n                    }\r\n                }\r\n                // break;\r\n            }\r\n\r\n            // console.log(theData);\r\n\r\n            let theDataAfterPage = [];\r\n            for (let i = 0; i < theData.length; ++i) {\r\n                let item = theData[i];\r\n                if (i % 7 === 0) {\r\n                    let newPage = { key: theDataAfterPage.length + 1, productPages: [] };\r\n                    newPage.productPages.push(item);\r\n                    theDataAfterPage.push(newPage);\r\n                } else {\r\n                    let lastPage = theDataAfterPage[theDataAfterPage.length - 1].productPages;\r\n                    lastPage.push(item);\r\n                }\r\n            }\r\n\r\n            // console.log(theDataAfterPage);\r\n\r\n            this.setState({ allData: theDataAfterPage, productSpinning: false, productSpinTipText: '' });\r\n        });\r\n    };\r\n\r\n    getLodopAfterInit = () => {\r\n        let LODOP = getLodop();\r\n\r\n        if (LODOP) {\r\n            LODOP.PRINT_INIT(\"react使用打印插件CLodop\");  //打印初始化\r\n            let strStyle =\r\n                `<style>\r\n                </style> `;\r\n\r\n            LODOP.SET_PRINTER_INDEX(getA4PrinterIndex(LODOP));\r\n            LODOP.SET_PRINT_PAGESIZE(2, 0, 0, getPageName4A4Printer());\r\n            LODOP.SET_PREVIEW_WINDOW(0, 0, 0, 800, 600, '');\r\n            // LODOP.SET_PRINT_COPIES(1);\r\n            LODOP.SET_SHOW_MODE(\"LANDSCAPE_DEFROTATED\", 1);//横向时的正向显示\r\n            LODOP.SET_PRINT_MODE(\"AUTO_CLOSE_PREWINDOW\", 1);//打印后自动关闭预览窗口\r\n            LODOP.ADD_PRINT_HTM(0, 0, \"100%\", '100%', strStyle + document.getElementById(\"printDiv\").innerHTML);\r\n        }\r\n\r\n        return LODOP;\r\n    };\r\n\r\n    productPrintPreprew = () => {\r\n        let LODOP = this.getLodopAfterInit();\r\n\r\n        if (LODOP) {\r\n            LODOP.PREVIEW();\r\n        }\r\n    };\r\n\r\n    render() {\r\n        const { allData, productSpinTipText, productSpinning, debug } = this.state;\r\n\r\n        return (\r\n            <div>\r\n                <Spin tip={productSpinTipText} spinning={productSpinning} size='large'>\r\n                    <div>\r\n                        <Button style={{\r\n                            backgroundColor: 'transparent',\r\n                            margin: 10,\r\n                        }} onClick={() => this.productPrintPreprew()}>\r\n                            微信菜单打印\r\n                        </Button>\r\n\r\n                        <div id='printDiv'>\r\n                            {\r\n                                allData.map((item) => {\r\n                                    let productPage = item.productPages;\r\n                                    let totalPage = allData.length;\r\n                                    let currentPage = allData.indexOf(item) + 1;\r\n                                    return (\r\n                                        <div key={item.key} style={{ backgroundColor: 'transparent', width: 1374, height: 964 }}>\r\n                                            {\r\n                                                productPage.map((item1) => {\r\n                                                    let productItems = item1.productItems;\r\n                                                    return (\r\n                                                        <div key={item1.key} style={{ float: 'left', marginTop: 0 }}>\r\n                                                            <div style={{\r\n                                                                textAlign: 'center', backgroundColor: 'green', color: 'white',\r\n                                                                marginLeft: 0, marginRight: 0, paddingTop: 5, paddingBottom: 5\r\n                                                            }}>\r\n                                                                {item1.categoryName}\r\n                                                            </div>\r\n                                                            <div style={{ height: 10 }}></div>\r\n                                                            <div style={{ float: 'left', marginLeft: 0, width: 10, height: 850, backgroundColor: 'transparent' }} />\r\n                                                            <div style={{ float: 'left', width: 160, height: 850 }}>\r\n                                                                {\r\n                                                                    productItems.map((item2) => {\r\n                                                                        let imageSrc = KImageRoot;\r\n                                                                        imageSrc += '/';\r\n                                                                        imageSrc += item1.categoryName;\r\n                                                                        imageSrc += '/';\r\n                                                                        imageSrc += item2.productName;;\r\n                                                                        imageSrc += '.jpg';\r\n                                                                        // console.log(imageSrc)\r\n                                                                        return (\r\n                                                                            <div key={item2.key}>\r\n                                                                                <div style={{ width: 160, height: 160 }}>\r\n                                                                                    <Image style={{ width: 160, height: 160 }} preview={false}\r\n                                                                                        fallback={`${KImageRoot}/暂时缺货.jpg`}\r\n                                                                                        src={imageSrc} onError={(e) => {\r\n                                                                                            /// 图片加载不成功时隐藏\r\n                                                                                            // e.target.style.display = 'none';\r\n                                                                                        }} />\r\n                                                                                </div>\r\n                                                                                <div style={{ fontSize: 14, color: 'black' }}>{item2.productName}</div>\r\n                                                                                <div style={{ fontSize: 12, color: 'gray' }}>{item2.specification}</div>\r\n                                                                                <div style={{ fontSize: 14, color: 'black' }}>\r\n                                                                                    <span>\r\n                                                                                        ¥\r\n                                                                                    </span>\r\n                                                                                    <span>\r\n                                                                                        {item2.price}\r\n                                                                                    </span>\r\n                                                                                    <span>\r\n                                                                                        /\r\n                                                                                    </span>\r\n                                                                                    <span>\r\n                                                                                        {item2.unit}\r\n                                                                                    </span>\r\n                                                                                </div>\r\n                                                                                <div style={{ height: 5 }}></div>\r\n                                                                                {debug ? (\r\n                                                                                    <div style={{ color: 'red', fontSize: 8 }}>\r\n                                                                                        <span>三天内销售量：</span>\r\n                                                                                        <span>{item2.saleNumber}</span>\r\n                                                                                    </div>\r\n                                                                                ) : (<div></div>)}\r\n                                                                                {debug ? (\r\n                                                                                    <div style={{ color: 'red', fontSize: 8 }}>\r\n                                                                                        <span>{item2.barcode}</span>\r\n                                                                                    </div>\r\n                                                                                ) : (<div></div>)}\r\n                                                                            </div>\r\n                                                                        )\r\n                                                                    })\r\n                                                                }\r\n                                                            </div>\r\n                                                            <div style={{ float: 'left', marginLeft: 0, width: 10, height: 850, backgroundColor: 'transparent' }} />\r\n                                                        </div>\r\n                                                    )\r\n                                                })\r\n                                            }\r\n\r\n                                            <div style={{ float: 'left', marginLeft: 5, marginTop: 0, fontSize: 15 }}>\r\n                                                <div style={{\r\n                                                    textAlign: 'center', backgroundColor: 'red', color: 'white',\r\n                                                    marginLeft: 0, marginRight: 0, paddingTop: 5, paddingBottom: 5\r\n                                                }}>\r\n                                                    总店2号微信\r\n                                                </div>\r\n                                                <Image style={{ width: 105, height: 105, marginTop: 10 }} preview={false} src={require('../image/教育局总店2号微信.jpg')} />\r\n                                                <div style={{\r\n                                                    textAlign: 'center', fontSize: 6\r\n                                                }}>\r\n                                                    添加时备注\"立人\"\r\n                                                </div>\r\n                                                <div style={{\r\n                                                    textAlign: 'center', backgroundColor: 'red', color: 'white', marginTop: 10,\r\n                                                    marginLeft: 0, marginRight: 0, paddingTop: 5, paddingBottom: 5\r\n                                                }}>\r\n                                                    总店2号电话\r\n                                                </div>\r\n                                                <div style={{\r\n                                                    textAlign: 'center'\r\n                                                }}>\r\n                                                    18599568588\r\n                                                </div>\r\n                                                <div style={{\r\n                                                    textAlign: 'center'\r\n                                                }}>\r\n                                                    （微信同号）\r\n                                                </div>\r\n                                                <div style={{\r\n                                                    textAlign: 'center', backgroundColor: 'red', color: 'white', marginTop: 10,\r\n                                                    marginLeft: 0, marginRight: 0, paddingTop: 5, paddingBottom: 5\r\n                                                }}>\r\n                                                    总店地址\r\n                                                </div>\r\n                                                <div style={{\r\n                                                    textAlign: 'center'\r\n                                                }}>\r\n                                                    漳浦县绥安镇\r\n                                                </div>\r\n\r\n                                                <div style={{\r\n                                                    textAlign: 'center'\r\n                                                }}>\r\n                                                    府前街西247号\r\n                                                </div>\r\n\r\n                                                <div style={{\r\n                                                    textAlign: 'center'\r\n                                                }}>\r\n                                                    （教育局对面）\r\n                                                </div>\r\n\r\n                                                <div style={{\r\n                                                    textAlign: 'center',\r\n                                                    marginTop: 40\r\n                                                }}>\r\n                                                    <Image style={{ width: 100, height: 100 }} preview={false} src={require('../image/logo.png')} />\r\n                                                </div>\r\n\r\n                                                <div style={{\r\n                                                    textAlign: 'center',\r\n                                                    marginTop: 40\r\n                                                }}>\r\n                                                    页码\r\n                                                </div>\r\n\r\n                                                <div style={{\r\n                                                    textAlign: 'center'\r\n                                                }}>\r\n                                                    <span>{currentPage}</span>\r\n                                                    <span>/</span>\r\n                                                    <span>{totalPage}</span>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </Spin>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ProductMenu4Printer;\r\n","/*\r\n商品菜单，用于打印\r\n*/\r\nimport React from 'react';\r\nimport { Image, Button } from 'antd';\r\nimport {\r\n    allBreadInfos\r\n} from '../api/api';\r\nimport {\r\n    getPageName4A4Printer,\r\n    getA4PrinterIndex,\r\n} from '../api/util';\r\nimport {\r\n    getLodop\r\n} from './Lodop6.226_Clodop4.127/LodopFuncs';\r\n\r\nclass ProductMenu4Printer extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            allData: []\r\n        };\r\n    }\r\n\r\n    componentDidMount = async () => {\r\n        this.refresh();\r\n    };\r\n\r\n    refresh = async () => {\r\n        const breadInfosObj = await allBreadInfos();\r\n        // console.log('breadInfosObj = ' + JSON.stringify(breadInfosObj));\r\n        let categorys = breadInfosObj.categorys;\r\n        let theData = [];\r\n        for (let i = 0; i < categorys.length; ++i) {\r\n            let category = categorys[i];\r\n            let categoryName = category.name;\r\n            let products = category.products;\r\n            for (let j = 0; j < products.length; ++j) {\r\n                let newItem = products[j];\r\n                if (j % 4 === 0) {\r\n                    let newPage = { key: theData.length + 1, categoryName: categoryName, productItems: [] };\r\n                    newPage.productItems.push(newItem);\r\n                    theData.push(newPage);\r\n                } else {\r\n                    let lastData = theData[theData.length - 1].productItems;\r\n                    lastData.push(newItem);\r\n                }\r\n            }\r\n            // break;\r\n        }\r\n\r\n        // console.log(theData);\r\n\r\n        let theDataAfterPage = [];\r\n        for (let i = 0; i < theData.length; ++i) {\r\n            let item = theData[i];\r\n            if (i % 7 === 0) {\r\n                let newPage = { key: theDataAfterPage.length + 1, productPages: [] };\r\n                newPage.productPages.push(item);\r\n                theDataAfterPage.push(newPage);\r\n            } else {\r\n                let lastPage = theDataAfterPage[theDataAfterPage.length - 1].productPages;\r\n                lastPage.push(item);\r\n            }\r\n        }\r\n\r\n        // console.log(theDataAfterPage);\r\n\r\n        this.setState({ allData: theDataAfterPage, productSpinning: false, productSpinTipText: '' });\r\n    };\r\n\r\n    getLodopAfterInit = () => {\r\n        let LODOP = getLodop();\r\n\r\n        if (LODOP) {\r\n            LODOP.PRINT_INIT(\"react使用打印插件CLodop\");  //打印初始化\r\n            let strStyle =\r\n                `<style>\r\n                </style> `;\r\n\r\n            LODOP.SET_PRINTER_INDEX(getA4PrinterIndex(LODOP));\r\n            LODOP.SET_PRINT_PAGESIZE(2, 0, 0, getPageName4A4Printer());\r\n            LODOP.SET_PREVIEW_WINDOW(0, 0, 0, 800, 600, '');\r\n            // LODOP.SET_PRINT_COPIES(1);\r\n            LODOP.SET_SHOW_MODE(\"LANDSCAPE_DEFROTATED\", 1);//横向时的正向显示\r\n            LODOP.SET_PRINT_MODE(\"AUTO_CLOSE_PREWINDOW\", 1);//打印后自动关闭预览窗口\r\n            LODOP.ADD_PRINT_HTM(0, 0, \"100%\", '100%', strStyle + document.getElementById(\"printDiv\").innerHTML);\r\n        }\r\n\r\n        return LODOP;\r\n    };\r\n\r\n    productPrintPreprew = () => {\r\n        let LODOP = this.getLodopAfterInit();\r\n\r\n        if (LODOP) {\r\n            LODOP.PREVIEW();\r\n        }\r\n    };\r\n\r\n    render() {\r\n        const { allData }\r\n            = this.state;\r\n\r\n        return (\r\n            <div>\r\n                <Button style={{\r\n                    backgroundColor: 'transparent',\r\n                    margin: 10,\r\n                }} onClick={() => this.productPrintPreprew()}>\r\n                    微信菜单打印\r\n                </Button>\r\n\r\n                <div id='printDiv'>\r\n                    {\r\n                        allData.map((item) => {\r\n                            let productPage = item.productPages;\r\n                            let totalPage = allData.length;\r\n                            let currentPage = allData.indexOf(item) + 1;\r\n                            return (\r\n                                <div key={item.key} style={{ backgroundColor: 'transparent', width: 1374, height: 964 }}>\r\n                                    {\r\n                                        productPage.map((item1) => {\r\n                                            let productItems = item1.productItems;\r\n                                            return (\r\n                                                <div key={item1.key} style={{ float: 'left', marginTop: 0 }}>\r\n                                                    <div style={{\r\n                                                        textAlign: 'center', backgroundColor: 'green', color: 'white',\r\n                                                        marginLeft: 0, marginRight: 0, paddingTop: 5, paddingBottom: 5\r\n                                                    }}>\r\n                                                        {item1.categoryName}\r\n                                                    </div>\r\n                                                    <div style={{ height: 10 }}></div>\r\n                                                    <div style={{ float: 'left', marginLeft: 0, width: 10, height: 850, backgroundColor: 'transparent' }} />\r\n                                                    <div style={{ float: 'left', width: 160, height: 850 }}>\r\n                                                        {\r\n                                                            productItems.map((item2) => {\r\n                                                                return (\r\n                                                                    <div key={productItems.indexOf(item2)}>\r\n                                                                        <div style={{ width: 160, height: 160 }}>\r\n                                                                            <Image style={{ width: 160, height: 160 }} preview={false}\r\n                                                                                src={item2?.images[0]} />\r\n                                                                        </div>\r\n                                                                        <div style={{ fontSize: 14, color: 'black' }}>{item2.name}</div>\r\n                                                                        <div style={{ fontSize: 12, color: 'gray' }}>{`规格：${item2.specification.name}`}</div>\r\n                                                                        <div style={{ fontSize: 14, color: 'black' }}>\r\n                                                                            {`¥${item2?.specification?.price}/${item2?.specification?.unit}`}\r\n                                                                        </div>\r\n                                                                        <div style={{ height: 5 }}></div>\r\n                                                                    </div>\r\n                                                                )\r\n                                                            })\r\n                                                        }\r\n                                                    </div>\r\n                                                    <div style={{ float: 'left', marginLeft: 0, width: 10, height: 850, backgroundColor: 'transparent' }} />\r\n                                                </div>\r\n                                            )\r\n                                        })\r\n                                    }\r\n\r\n                                    <div style={{ float: 'left', marginLeft: 5, marginTop: 0, fontSize: 15 }}>\r\n                                        <div style={{\r\n                                            textAlign: 'center',\r\n                                            marginTop: 4,\r\n                                            marginBottom: 12\r\n                                        }}>\r\n                                            <Image style={{ width: 100, height: 100 }} preview={false} src={require('../image/弯麦logo方-黑白.png')} />\r\n                                        </div>\r\n\r\n                                        <div style={{\r\n                                            textAlign: 'center', backgroundColor: 'red', color: 'white',\r\n                                            marginLeft: 0, marginRight: 0, paddingTop: 5, paddingBottom: 5\r\n                                        }}>\r\n                                            总店2号微信\r\n                                        </div>\r\n                                        <Image style={{ width: 105, height: 105, marginTop: 10 }} preview={false} src={require('../image/教育局总店2号微信.jpg')} />\r\n                                        <div style={{\r\n                                            textAlign: 'center', fontSize: 6\r\n                                        }}>\r\n                                            添加时备注\"立人\"\r\n                                        </div>\r\n                                        <div style={{\r\n                                            textAlign: 'center', backgroundColor: 'red', color: 'white', marginTop: 10,\r\n                                            marginLeft: 0, marginRight: 0, paddingTop: 5, paddingBottom: 5\r\n                                        }}>\r\n                                            总店2号电话\r\n                                        </div>\r\n                                        <div style={{\r\n                                            textAlign: 'center'\r\n                                        }}>\r\n                                            18599568588\r\n                                        </div>\r\n                                        <div style={{\r\n                                            textAlign: 'center'\r\n                                        }}>\r\n                                            （微信同号）\r\n                                        </div>\r\n                                        <div style={{\r\n                                            textAlign: 'center', backgroundColor: 'red', color: 'white', marginTop: 10,\r\n                                            marginLeft: 0, marginRight: 0, paddingTop: 5, paddingBottom: 5\r\n                                        }}>\r\n                                            总店地址\r\n                                        </div>\r\n                                        <div style={{\r\n                                            textAlign: 'center'\r\n                                        }}>\r\n                                            漳浦县绥安镇\r\n                                        </div>\r\n\r\n                                        <div style={{\r\n                                            textAlign: 'center'\r\n                                        }}>\r\n                                            府前街西247号\r\n                                        </div>\r\n\r\n                                        <div style={{\r\n                                            textAlign: 'center'\r\n                                        }}>\r\n                                            （教育局对面）\r\n                                        </div>\r\n\r\n                                        <div style={{\r\n                                            textAlign: 'center',\r\n                                            marginTop: 40\r\n                                        }}>\r\n                                            页码\r\n                                        </div>\r\n\r\n                                        <div style={{\r\n                                            textAlign: 'center'\r\n                                        }}>\r\n                                            <span>{currentPage}</span>\r\n                                            <span>/</span>\r\n                                            <span>{totalPage}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        })\r\n                    }\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ProductMenu4Printer;\r\n","/*\r\n库存管理：查看各门店库存，盘点门店库存，门店互相调货。\r\n*/\r\nimport React from 'react';\r\nimport moment from 'moment';\r\nimport {\r\n    Button, Menu,\r\n    Dropdown, Table,\r\n    Image\r\n} from 'antd';\r\nimport { DownOutlined } from '@ant-design/icons';\r\nimport {\r\n    // getTest,\r\n    getAllShopExceptAll,\r\n    getAllCategorysExceptAll\r\n} from '../api/util';\r\nimport {\r\n    loadProductsSale,\r\n    wechatSign\r\n} from '../api/api';\r\n/**--------------------配置信息--------------------*/\r\n/// 门店信息\r\nconst KAllShopsExceptAll = getAllShopExceptAll();\r\n/// 分类信息\r\nconst KAllCategorysExceptAll = getAllCategorysExceptAll();\r\n\r\nclass ProductStockManagement extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this._a = 1;\r\n\r\n        this.state = {\r\n            stockLoading: false,\r\n            currentShop4StockList: KAllShopsExceptAll[0],\r\n            currentCategory4StockList: KAllCategorysExceptAll[0],\r\n            stockListData: []\r\n        };\r\n    };\r\n\r\n    componentDidMount = async () => {\r\n        // await loadElemeProducts();\r\n        await this.fetchStockList();\r\n        this.updateWeixinConfig();\r\n    };\r\n\r\n    fetchStockList = async () => {\r\n        try {\r\n            this.setState({\r\n                stockListData: [], stockLoading: true\r\n            }, async () => {\r\n                const { currentShop4StockList, currentCategory4StockList } = this.state;\r\n                let nowMoment = moment();\r\n                let endDateTimeStr = nowMoment.endOf('day').format('YYYY.MM.DD HH:mm:ss');\r\n                let beginDateTimeStr = nowMoment.subtract(3, 'days').startOf('day').format('YYYY.MM.DD HH:mm:ss');\r\n                let loadResult = await loadProductsSale(currentCategory4StockList.categoryId, currentShop4StockList.userId, '1', beginDateTimeStr, endDateTimeStr, 'stock', 'true');\r\n                // console.log(loadResult);\r\n                if (loadResult.errCode === 0) {\r\n                    let list = loadResult.list;\r\n                    this.setState({ stockListData: list, stockLoading: false })\r\n                }\r\n            });\r\n        } catch (err) {\r\n            this.setState({\r\n                stockLoading: false\r\n            });\r\n        }\r\n    };\r\n\r\n    updateWeixinConfig = async () => {\r\n        /// 微信环境判断\r\n        let is_weixin = window.navigator.userAgent.toLowerCase().indexOf(\"micromessenger\") !== -1;\r\n        if (!is_weixin) return;\r\n\r\n        /**\r\n          * 微信配置\r\n          */\r\n        let res = await wechatSign(document.URL.split('#')[0]);\r\n        if (res) {\r\n            /// 如果没有传递过来appid，则微信接口出错，前端不处理后续流程\r\n            if (!res.appId) return;\r\n\r\n            /**\r\n             * 微信JSSDK注入配置信息\r\n             */\r\n            window.wx.config({\r\n                debug: false, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。\r\n                appId: res.appId, // 必填，公众号的唯一标识\r\n                timestamp: res.timestamp, // 必填，生成签名的时间戳\r\n                nonceStr: res.nonceStr, // 必填，生成签名的随机串\r\n                signature: res.signature,// 必填，签名\r\n                jsApiList: [\r\n                    'updateAppMessageShareData',\r\n                    'updateTimelineShareData'\r\n                ] // 必填，需要使用的JS接口列表\r\n            });\r\n\r\n            window.wx.ready(function () {\r\n                /**\r\n                 * config信息验证后会执行ready方法，所有接口调用都必须在config接口获得结果之后，\r\n                 * config是一个客户端的异步操作，所以如果需要在页面加载时就调用相关接口，\r\n                 * 则须把相关接口放在ready函数中调用来确保正确执行。\r\n                 * 对于用户触发时才调用的接口，则可以直接调用，不需要放在ready函数中。\r\n                 * */\r\n                // console.log('window.wx ready');\r\n\r\n                let title = '弯麦面包牛奶库存';\r\n                let desc = '用于连锁门店库存查看、盘点、调度';\r\n                let imgUrl = 'http://gratefulwheat.ruyue.xyz/image/面包牛奶/库存.jpg';\r\n\r\n                // 自定义“分享给朋友”及“分享到QQ”按钮的分享内容\r\n                window.wx.updateAppMessageShareData({\r\n                    title: title, // 分享标题\r\n                    desc: desc, // 分享描述\r\n                    link: document.URL, // 分享链接，该链接域名或路径必须与当前页面对应的公众号JS安全域名一致\r\n                    imgUrl: imgUrl, // 分享图标\r\n                    success: function () {\r\n                        // 设置成功\r\n                        // console.log('window.wx.updateAppMessageShareData success');\r\n                    },\r\n                    fail: function (res) {\r\n                        // 设置失败\r\n                        // console.log('window.wx.updateAppMessageShareData fail res=' + res);\r\n                    }\r\n                });\r\n\r\n                // 自定义“分享到朋友圈”及“分享到QQ空间”按钮的分享内容\r\n                window.wx.updateTimelineShareData({\r\n                    title: title, // 分享标题\r\n                    link: document.URL, // 分享链接，该链接域名或路径必须与当前页面对应的公众号JS安全域名一致\r\n                    imgUrl: imgUrl, // 分享图标\r\n                    success: function () {\r\n                        // 设置成功\r\n                        // console.log('window.wx.updateTimelineShareData success');\r\n                    },\r\n                    fail: function () {\r\n                        // 设置失败\r\n                        // console.log('window.wx.updateTimelineShareData fail');\r\n                    }\r\n                });\r\n            });\r\n\r\n            window.wx.error(function (res) {\r\n                /**\r\n                 * config信息验证失败会执行error函数，如签名过期导致验证失败，具体错误信息可以打开config的debug模式查看，\r\n                 * 也可以在返回的res参数中查看，对于SPA可以在这里更新签名。\r\n                 */\r\n                console.log('window.wx error res = ' + JSON.stringify(res));\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            stockLoading,\r\n            currentShop4StockList,\r\n            currentCategory4StockList,\r\n            stockListData\r\n        } = this.state;\r\n\r\n        /// 订单列表头配置\r\n        const KStockColumns4Table = [\r\n            { title: '序', dataIndex: 'key', key: 'key', width: 20, render: (text) => { return <span style={{ fontSize: 10 }}>{text}</span>; } },\r\n            { title: '条码', dataIndex: 'barcode', key: 'barcode', width: 80, render: (text) => { return <span style={{ fontSize: 10 }}>{text}</span>; } },\r\n            {\r\n                title: '图片', dataIndex: 'productName', key: 'image', width: 60, render: (text) => {\r\n                    let image = `/image/面包牛奶/${currentCategory4StockList.name}/${text}.jpg`;\r\n                    return (<Image style={{ width: 40, height: 40 }} preview={true} src={image} />);\r\n                }\r\n            },\r\n            { title: '名称', dataIndex: 'productName', key: 'productName', width: 120, render: (text) => { return <span style={{ fontSize: 12 }}>{text}</span>; } },\r\n            {\r\n                title: '库存', dataIndex: 'stock', key: 'stock', width: 60, render:\r\n                    (text) => {\r\n                        let fg = 'black';\r\n                        if (text === '0' || text.substring(0, 1) === '-') {\r\n                            fg = 'red';\r\n                        }\r\n                        return <span style={{ fontSize: 16, color: fg }}>{text}</span>;\r\n                    }\r\n            },\r\n            { title: '备注', dataIndex: 'remark', key: 'remark', width: '*', render: (text) => { return <span style={{ fontSize: 12 }}>{text}</span>; } },\r\n        ];\r\n\r\n        return (\r\n            <div style={{ marginLeft: 20, marginTop: 5, marginRight: 20 }}>\r\n                <div style={{ fontSize: 15, marginBottom: 5 }}>库存管理</div>\r\n\r\n                <div>\r\n                    <span>\r\n                        <Dropdown\r\n                            overlay={\r\n                                () => {\r\n                                    return (<Menu onClick={async ({ key }) => {\r\n                                        this.setState({ currentShop4StockList: KAllShopsExceptAll[key] }, async () => {\r\n                                            await this.fetchStockList();\r\n                                        });\r\n                                    }} >\r\n                                        {\r\n                                            KAllShopsExceptAll.map((shop) => {\r\n                                                let fg = 'black';\r\n                                                if (shop.name === currentShop4StockList.name) fg = 'red';\r\n                                                return (<Menu.Item key={shop.index} style={{ color: fg }}>\r\n                                                    {shop.name}\r\n                                                </Menu.Item>);\r\n                                            })\r\n                                        }\r\n                                    </Menu>)\r\n                                }\r\n                            } arrow trigger={['click']} disabled={stockLoading}>\r\n                            <Button size=\"small\" style={{ width: 160 }} onClick={e => e.preventDefault()}>\r\n                                {currentShop4StockList.name}\r\n                                <DownOutlined />\r\n                            </Button>\r\n                        </Dropdown>\r\n                    </span>\r\n\r\n                    <span style={{ marginLeft: 10 }}>\r\n                        <Dropdown\r\n                            overlay={\r\n                                () => {\r\n                                    return (<Menu onClick={async ({ key }) => {\r\n                                        this.setState({ currentCategory4StockList: KAllCategorysExceptAll[key] }, async () => {\r\n                                            await this.fetchStockList();\r\n                                        });\r\n                                    }} >\r\n                                        {\r\n                                            KAllCategorysExceptAll.map((shop) => {\r\n                                                let fg = 'black';\r\n                                                if (shop.name === currentCategory4StockList.name) fg = 'red';\r\n                                                return (<Menu.Item key={shop.index} style={{ color: fg }}>\r\n                                                    {shop.name}\r\n                                                </Menu.Item>);\r\n                                            })\r\n                                        }\r\n                                    </Menu>)\r\n                                }\r\n                            } arrow trigger={['click']} disabled={stockLoading}>\r\n                            <Button size=\"small\" style={{ width: 100 }} onClick={e => e.preventDefault()}>\r\n                                {currentCategory4StockList.name}\r\n                                <DownOutlined />\r\n                            </Button>\r\n                        </Dropdown>\r\n                    </span>\r\n                </div>\r\n\r\n                <Table\r\n                    style={{ marginTop: 10 }}\r\n                    size='small'\r\n                    loading={stockLoading}\r\n                    dataSource={stockListData}\r\n                    columns={KStockColumns4Table}\r\n                    pagination={false} bordered\r\n                    footer={() => {\r\n                        return (\r\n                            <div style={{ textAlign: 'center', height: 15, fontSize: 12 }}>\r\n                                {`总共${stockListData.length}项`}\r\n                            </div>\r\n                        )\r\n                    }} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ProductStockManagement;\r\n","/*\r\n建筑物地图：查看和搜索漳浦小区建筑物地图\r\n*/\r\nimport React from 'react';\r\nimport {\r\n    Input, Button, Image\r\n} from 'antd';\r\nimport {\r\n    wechatSign\r\n} from '../api/api';\r\n\r\nconst { Search } = Input;\r\nconst KBuildMapNames = [\r\n    '碧桂园御江府', '漳浦碧桂园', '常德商贸城', '大亭花园', '东平小区', '府前唐街&万新广场', '富丽山庄', '港城国际豪庭', '花开富贵',\r\n    '花开富贵1', '华府二期', '华府三期', '华府五期', '华府一期', '吉祥福邸', '假日新天国际', '江滨花园二期', '江滨花园一期',\r\n    '金利花园&金浦花园', '金绿欧洲城', '聚源东岸', '兰溪御墅', '龙城尊庭', '龙门花园', '美伦清华园', '欧洲阳光小区', '钱隆首府',\r\n    '润景金座', '盛唐花园', '石斋花园', '书香门第&东苑花园', '汤泉世纪', '西湖花园&西湖金典&锦绣西湖', '新都城市广场&新都中央华庭', '学府一号',\r\n    '阳光龙泉', '怡景园', '印石花园', '印石花园B区', '盈丰花园一期&盈丰花园二期', '御景山庄', '漳浦宾馆', '阳光城汤泉世纪3期', '金凯嘉花园',\r\n    '富源新城', '西湖苑', '益民家园', '惠民家园', '立欣东方新城', '夏商水岸名都'\r\n];\r\n\r\n/**--------------------配置信息--------------------*/\r\nclass BuildingMap extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            keyword: '',\r\n            buildMapNamesFilter: []\r\n        };\r\n    };\r\n\r\n    componentDidMount = async () => {\r\n        this.loadMapByKeyword();\r\n        this.updateWeixinConfig();\r\n    };\r\n\r\n    loadMapByKeyword = () => {\r\n        const { keyword } = this.state;\r\n        // console.log(keyword);\r\n\r\n        let buildMapNamesFilter = [];\r\n\r\n        if (keyword && keyword !== '') {\r\n            for (let i = 0; i < KBuildMapNames.length; ++i) {\r\n                let buildMap = KBuildMapNames[i];\r\n\r\n                if (buildMap.indexOf(keyword) !== -1) {\r\n                    buildMapNamesFilter.push(buildMap);\r\n                }\r\n            }\r\n        }\r\n\r\n        this.setState({ buildMapNamesFilter: buildMapNamesFilter });\r\n    };\r\n\r\n    updateWeixinConfig = async () => {\r\n        /// 微信环境判断\r\n        let is_weixin = window.navigator.userAgent.toLowerCase().indexOf(\"micromessenger\") !== -1;\r\n        if (!is_weixin) return;\r\n\r\n        /**\r\n          * 微信配置\r\n          */\r\n        let res = await wechatSign(document.URL.split('#')[0]);\r\n        if (res) {\r\n            /// 如果没有传递过来appid，则微信接口出错，前端不处理后续流程\r\n            if (!res.appId) return;\r\n\r\n            /**\r\n             * 微信JSSDK注入配置信息\r\n             */\r\n            window.wx.config({\r\n                debug: false, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。\r\n                appId: res.appId, // 必填，公众号的唯一标识\r\n                timestamp: res.timestamp, // 必填，生成签名的时间戳\r\n                nonceStr: res.nonceStr, // 必填，生成签名的随机串\r\n                signature: res.signature,// 必填，签名\r\n                jsApiList: [\r\n                    'updateAppMessageShareData',\r\n                    'updateTimelineShareData'\r\n                ] // 必填，需要使用的JS接口列表\r\n            });\r\n\r\n            window.wx.ready(function () {\r\n                /**\r\n                 * config信息验证后会执行ready方法，所有接口调用都必须在config接口获得结果之后，\r\n                 * config是一个客户端的异步操作，所以如果需要在页面加载时就调用相关接口，\r\n                 * 则须把相关接口放在ready函数中调用来确保正确执行。\r\n                 * 对于用户触发时才调用的接口，则可以直接调用，不需要放在ready函数中。\r\n                 * */\r\n                // console.log('window.wx ready');\r\n\r\n                let title = '漳浦小区楼栋图';\r\n                let desc = '查看漳浦各个小区的楼栋号';\r\n                let imgUrl = 'http://gratefulwheat.ruyue.xyz/image/漳浦小区楼栋图/漳浦西湖.jpg';\r\n\r\n                // 自定义“分享给朋友”及“分享到QQ”按钮的分享内容\r\n                window.wx.updateAppMessageShareData({\r\n                    title: title, // 分享标题\r\n                    desc: desc, // 分享描述\r\n                    link: document.URL, // 分享链接，该链接域名或路径必须与当前页面对应的公众号JS安全域名一致\r\n                    imgUrl: imgUrl, // 分享图标\r\n                    success: function () {\r\n                        // 设置成功\r\n                        // console.log('window.wx.updateAppMessageShareData success');\r\n                    },\r\n                    fail: function (res) {\r\n                        // 设置失败\r\n                        // console.log('window.wx.updateAppMessageShareData fail res=' + res);\r\n                    }\r\n                });\r\n\r\n                // 自定义“分享到朋友圈”及“分享到QQ空间”按钮的分享内容\r\n                window.wx.updateTimelineShareData({\r\n                    title: title, // 分享标题\r\n                    link: document.URL, // 分享链接，该链接域名或路径必须与当前页面对应的公众号JS安全域名一致\r\n                    imgUrl: imgUrl, // 分享图标\r\n                    success: function () {\r\n                        // 设置成功\r\n                        // console.log('window.wx.updateTimelineShareData success');\r\n                    },\r\n                    fail: function () {\r\n                        // 设置失败\r\n                        // console.log('window.wx.updateTimelineShareData fail');\r\n                    }\r\n                });\r\n            });\r\n\r\n            window.wx.error(function (res) {\r\n                /**\r\n                 * config信息验证失败会执行error函数，如签名过期导致验证失败，具体错误信息可以打开config的debug模式查看，\r\n                 * 也可以在返回的res参数中查看，对于SPA可以在这里更新签名。\r\n                 */\r\n                console.log('window.wx error res = ' + JSON.stringify(res));\r\n            });\r\n        }\r\n    };\r\n\r\n    handleAll = () => {\r\n        let buildMapNamesFilter = [];\r\n        for (let i = 0; i < KBuildMapNames.length; ++i) {\r\n            let buildMap = KBuildMapNames[i];\r\n            buildMapNamesFilter.push(buildMap);\r\n        }\r\n        this.setState({ buildMapNamesFilter: buildMapNamesFilter });\r\n    };\r\n\r\n    render() {\r\n        const {\r\n            keyword,\r\n            buildMapNamesFilter\r\n        } = this.state;\r\n\r\n\r\n        // console.log(buildMapNamesFilter);\r\n\r\n        return (\r\n            <div style={{ marginLeft: 20, marginTop: 5, marginRight: 20 }}>\r\n                <div style={{\r\n                    textAlign: 'center', color: '#B9B973',\r\n                    fontSize: 14, fontWeight: \"bold\", paddingTop: 7, paddingBottom: 5\r\n                }}>\r\n                    <span>预定蛋糕请先添加教育局总店2号</span>\r\n                    <span style={{ textDecoration: 'underline' }}>\r\n                        <a href=\"tel:18599568588\">18599568588</a>\r\n                    </span>\r\n                    <span> (微信同号)</span>\r\n                </div>\r\n\r\n                <span>\r\n                    <Search style={{ width: 180, marginTop: 4, marginLeft: 6, marginBottom: 4 }} size=\"middle\"\r\n                        placeholder=\"小区名\"\r\n                        onSearch={async () => {\r\n                            this.loadMapByKeyword();\r\n                        }}\r\n                        value={keyword}\r\n                        onChange={(e) => {\r\n                            const { value } = e.target;\r\n                            this.setState({ keyword: value }, () => {\r\n                                this.loadMapByKeyword();\r\n                            });\r\n                        }} />\r\n                </span>\r\n                <span>\r\n                    <Button type='primary' style={{ marginLeft: 6, marginTop: 4 }} onClick={this.handleAll}>全部小区</Button>\r\n                </span>\r\n\r\n                <div>\r\n                    {\r\n                        buildMapNamesFilter.map((name) => {\r\n                            let src = \"/image/漳浦小区楼栋图/\" + name + '.jpg';\r\n\r\n                            return (\r\n                                <div key={name}>\r\n                                    <div>\r\n                                        <span style={{ color: 'red' }}>《{name}》</span>\r\n                                    </div>\r\n                                    <img alt='请添加图片' style={{ width: '100%' }} src={src} />\r\n                                    <div style={{ height: 20 }}></div>\r\n                                </div>\r\n                            );\r\n                        })\r\n                    }\r\n                </div>\r\n\r\n                <div style={{ height: 30 }}>---没有更多了请联系管理员添加---</div>\r\n\r\n                <div style={{ textAlign: 'center', background: '#D8D8D8', height: 100 }}>\r\n                    <div style={{ paddingTop: 12, marginTop: 10 }}>\r\n                        总部：漳州市漳浦县府前街西247号(教育局对面)\r\n                    </div>\r\n                    <div style={{ color: 'blue', fontSize: 14 }}>\r\n                        <span style={{ color: 'black' }}>©弯麦</span>\r\n\r\n                        <a href='http://beian.miit.gov.cn'>\r\n                            <span style={{ marginLeft: 8 }}>闽ICP备2022007668号-1</span>\r\n                        </a>\r\n\r\n                        <div>\r\n                            <a href=\"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=35062302000230\">\r\n                                <span>\r\n                                    <Image preview={false} src=\"/image/公安备案图标.png\" style={{ float: 'left' }} />\r\n                                </span>\r\n                                <span style={{ marginLeft: 8 }}>\r\n                                    闽公网安备 35062302000230号\r\n                                </span>\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default BuildingMap;\r\n","/*\r\n建筑物示意图：查看和搜索漳浦小区楼栋地图\r\n*/\r\nimport React from 'react';\r\nimport {\r\n    Input, Button, Image\r\n} from 'antd';\r\nimport {\r\n    wechatSign,\r\n    allBuildingInfos\r\n} from '../api/api';\r\nconst { Search } = Input;\r\n\r\nclass Building extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            keyword: '',\r\n            buildingAfterFilter: []\r\n        };\r\n    };\r\n\r\n    componentDidMount = async () => {\r\n        let buildingInfos = await allBuildingInfos();\r\n        this._weixin = buildingInfos.weixin;\r\n        this._buildings = buildingInfos.buildings;\r\n\r\n        this.showBuildingByKeyword();\r\n        this.updateWeixinConfig();\r\n    };\r\n\r\n    showBuildingByKeyword = async () => {\r\n        const { keyword } = this.state;\r\n        // console.log(keyword);\r\n\r\n        let buildingAfterFilter = [];\r\n\r\n        if (keyword && keyword !== '') {\r\n            for (let i = 0; i < this._buildings.length; ++i) {\r\n                let building = this._buildings[i];\r\n\r\n                if (building?.name?.indexOf(keyword) !== -1) {\r\n                    buildingAfterFilter.push(building);\r\n                }\r\n            }\r\n        }\r\n\r\n        this.setState({ buildingAfterFilter: buildingAfterFilter });\r\n    };\r\n\r\n    updateWeixinConfig = async () => {\r\n        /// 微信环境判断\r\n        let is_weixin = window.navigator.userAgent.toLowerCase().indexOf(\"micromessenger\") !== -1;\r\n        if (!is_weixin) return;\r\n\r\n        /**\r\n          * 微信配置\r\n          */\r\n        let res = await wechatSign(document.URL.split('#')[0]);\r\n        if (res) {\r\n            /// 如果没有传递过来appid，则微信接口出错，前端不处理后续流程\r\n            if (!res.appId) return;\r\n\r\n            /**\r\n             * 微信JSSDK注入配置信息\r\n             */\r\n            window.wx.config({\r\n                debug: false, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。\r\n                appId: res.appId, // 必填，公众号的唯一标识\r\n                timestamp: res.timestamp, // 必填，生成签名的时间戳\r\n                nonceStr: res.nonceStr, // 必填，生成签名的随机串\r\n                signature: res.signature,// 必填，签名\r\n                jsApiList: [\r\n                    'updateAppMessageShareData',\r\n                    'updateTimelineShareData'\r\n                ] // 必填，需要使用的JS接口列表\r\n            });\r\n\r\n            let that = this;\r\n            window.wx.ready(function () {\r\n                /**\r\n                 * config信息验证后会执行ready方法，所有接口调用都必须在config接口获得结果之后，\r\n                 * config是一个客户端的异步操作，所以如果需要在页面加载时就调用相关接口，\r\n                 * 则须把相关接口放在ready函数中调用来确保正确执行。\r\n                 * 对于用户触发时才调用的接口，则可以直接调用，不需要放在ready函数中。\r\n                 * */\r\n                // console.log('window.wx ready');\r\n                let wXConfig = that._weixin;\r\n                let title = wXConfig.title;\r\n                let desc = wXConfig.desc;\r\n                let imgUrl = wXConfig.imgUrl;\r\n\r\n                // 自定义“分享给朋友”及“分享到QQ”按钮的分享内容\r\n                window.wx.updateAppMessageShareData({\r\n                    title: title, // 分享标题\r\n                    desc: desc, // 分享描述\r\n                    link: document.URL, // 分享链接，该链接域名或路径必须与当前页面对应的公众号JS安全域名一致\r\n                    imgUrl: imgUrl, // 分享图标\r\n                    success: function () {\r\n                        // 设置成功\r\n                        // console.log('window.wx.updateAppMessageShareData success');\r\n                    },\r\n                    fail: function (res) {\r\n                        // 设置失败\r\n                        // console.log('window.wx.updateAppMessageShareData fail res=' + res);\r\n                    }\r\n                });\r\n\r\n                // 自定义“分享到朋友圈”及“分享到QQ空间”按钮的分享内容\r\n                window.wx.updateTimelineShareData({\r\n                    title: title, // 分享标题\r\n                    link: document.URL, // 分享链接，该链接域名或路径必须与当前页面对应的公众号JS安全域名一致\r\n                    imgUrl: imgUrl, // 分享图标\r\n                    success: function () {\r\n                        // 设置成功\r\n                        // console.log('window.wx.updateTimelineShareData success');\r\n                    },\r\n                    fail: function () {\r\n                        // 设置失败\r\n                        // console.log('window.wx.updateTimelineShareData fail');\r\n                    }\r\n                });\r\n            });\r\n\r\n            window.wx.error(function (res) {\r\n                /**\r\n                 * config信息验证失败会执行error函数，如签名过期导致验证失败，具体错误信息可以打开config的debug模式查看，\r\n                 * 也可以在返回的res参数中查看，对于SPA可以在这里更新签名。\r\n                 */\r\n                console.log('window.wx error res = ' + JSON.stringify(res));\r\n            });\r\n        }\r\n    };\r\n\r\n    handleAll = () => {\r\n        this.setState({ buildingAfterFilter: [...this._buildings] });\r\n    };\r\n\r\n    render() {\r\n        const {\r\n            keyword,\r\n            buildingAfterFilter\r\n        } = this.state;\r\n        // console.log(buildingAfterFilter);\r\n        return (\r\n            <div style={{ marginLeft: 20, marginTop: 5, marginRight: 20 }}>\r\n                <div style={{\r\n                    textAlign: 'center', color: '#B9B973',\r\n                    fontSize: 12, fontWeight: \"bold\", paddingTop: 7, paddingBottom: 5\r\n                }}>\r\n                    <span>预定蛋糕请先添加教育局总店2号</span>\r\n                    <span style={{ textDecoration: 'underline' }}>\r\n                        <a href=\"tel:18599568588\">18599568588</a>\r\n                    </span>\r\n                    <span> (微信同号)</span>\r\n                </div>\r\n\r\n                <span>\r\n                    <Search style={{ width: 180, marginTop: 4, marginLeft: 6, marginBottom: 4 }} size=\"middle\"\r\n                        placeholder=\"小区名\"\r\n                        onSearch={async () => {\r\n                            this.showBuildingByKeyword();\r\n                        }}\r\n                        value={keyword}\r\n                        onChange={(e) => {\r\n                            const { value } = e.target;\r\n                            this.setState({ keyword: value }, () => {\r\n                                this.showBuildingByKeyword();\r\n                            });\r\n                        }} />\r\n                </span>\r\n                <span>\r\n                    <Button type='primary' style={{ marginLeft: 6, marginTop: 4 }} onClick={this.handleAll}>全部小区</Button>\r\n                </span>\r\n                <div style={{ color: 'green', fontSize: 14 }}>{`共 ${buildingAfterFilter.length} 条记录`}</div>\r\n                {\r\n                    buildingAfterFilter.map((building) => {\r\n                        return (\r\n                            <div key={building.name}>\r\n                                <div>\r\n                                    <span style={{ fontWeight: 'bold', fontSize: 18 }}>{building.name}</span>\r\n                                </div>\r\n                                <img alt='请添加图片' style={{ width: '100%', border: '1px dotted green', borderRadius: 8 }} src={building.image} />\r\n                                <div style={{ height: 20 }}></div>\r\n                            </div>\r\n                        );\r\n                    })\r\n                }\r\n\r\n                <div style={{ height: 30 }}>没有更多楼栋信息，请联系管理员添加</div>\r\n\r\n                <div style={{ textAlign: 'center', background: '#D8D8D8', height: 100 }}>\r\n                    <div style={{ paddingTop: 12, marginTop: 10 }}>\r\n                        总部：漳州市漳浦县府前街西247号(教育局对面)\r\n                    </div>\r\n                    <div style={{ color: 'blue', fontSize: 14 }}>\r\n                        <span style={{ color: 'black' }}>©弯麦</span>\r\n\r\n                        <a href='http://beian.miit.gov.cn'>\r\n                            <span style={{ marginLeft: 8 }}>闽ICP备2022007668号-1</span>\r\n                        </a>\r\n\r\n                        <div>\r\n                            <a href=\"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=35062302000230\">\r\n                                <span>\r\n                                    <Image preview={false} src=\"/image/公安备案图标.png\" style={{ float: 'left' }} />\r\n                                </span>\r\n                                <span style={{ marginLeft: 8 }}>\r\n                                    闽公网安备 35062302000230号\r\n                                </span>\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Building;\r\n","import React from 'react';\r\nimport {\r\n    Image, Divider\r\n} from 'antd';\r\nimport {\r\n    wechatSign,\r\n    geocode,\r\n    findCakeOrder\r\n} from '../api/api';\r\n\r\nconst KPickUpTypeOptions = [\r\n    { label: '自己提货', value: '自己提货' },\r\n    { label: '商家配送', value: '商家配送' }\r\n];\r\n\r\nconst KCandleTypeOptions = [\r\n    { label: '螺纹蜡烛', value: '螺纹蜡烛' },\r\n    { label: '数字蜡烛', value: '数字蜡烛' },\r\n    { label: '爱心蜡烛', value: '爱心蜡烛' },\r\n    { label: '曲线蜡烛', value: '曲线蜡烛' },\r\n    // { label: '五星蜡烛', value: '五星蜡烛' },\r\n    { label: '荷花●音乐蜡烛', value: '荷花●音乐蜡烛' }\r\n];\r\n\r\nclass BirthdayCakeOrder extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            cakeName: '',\r\n            cakeImage: '',\r\n            creamType: '',\r\n            cakeSize: '',\r\n            cakeSizeExtra: '',\r\n            cakePrice: '',\r\n            pickUpDay: '',\r\n            pickUpTime: '',\r\n            pickUpType: '',\r\n            responseShop: '',\r\n            deliverCity: '漳州',\r\n            deliverCounty: '漳浦',\r\n            deliverAddress: '',\r\n            pickUpName: '',\r\n            phoneNumber: '',\r\n            remarks: ''\r\n        };\r\n    };\r\n\r\n    componentDidMount = async () => {\r\n        let query = this.props.query;\r\n        let _id = query && query.get('_id');\r\n        if (_id) {\r\n            let findResult = await findCakeOrder(_id);\r\n            if (findResult && findResult.errCode === 0) {\r\n                let order = findResult.order;\r\n                this.setState({\r\n                    cakeName: order.cakeName,\r\n                    cakeImage: `/image/生日蛋糕/蛋糕3.0/${order.cakeName}-方图.jpg`,\r\n                    creamType: order.creamType,\r\n                    cakeSize: order.cakeSize,\r\n                    cakeSizeExtra: order.cakeSizeExtra,\r\n                    cakePrice: order.cakePrice,\r\n                    cakeFillings: order.cakeFillings,\r\n                    candleType: order.candleType,\r\n                    ignitorType: order.ignitorType,\r\n                    number4candle: order.number4candle,\r\n                    cakePlateNumber: order.cakePlateNumber,\r\n                    pickUpDay: order.pickUpDay,\r\n                    pickUpTime: order.pickUpTime,\r\n                    pickUpType: order.pickUpType,\r\n                    responseShop: order.responseShop,\r\n                    deliverAddress: order.deliverAddress,\r\n                    pickUpName: order.pickUpName,\r\n                    phoneNumber: order.phoneNumber,\r\n                    remarks: order.remarks\r\n                })\r\n            }\r\n        }\r\n\r\n        this.updateWeixinConfig();\r\n    };\r\n\r\n    updateWeixinConfig = async () => {\r\n        /// 微信环境判断\r\n        let is_weixin = window.navigator.userAgent.toLowerCase().indexOf(\"micromessenger\") !== -1;\r\n        if (!is_weixin) return;\r\n\r\n        /**\r\n          * 微信配置\r\n          */\r\n        let res = await wechatSign(document.URL.split('#')[0]);\r\n        if (res) {\r\n            /// 如果没有传递过来appid，则微信接口出错，前端不处理后续流程\r\n            if (!res.appId) return;\r\n\r\n            /**\r\n             * 微信JSSDK注入配置信息\r\n             */\r\n            window.wx.config({\r\n                debug: false, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。\r\n                appId: res.appId, // 必填，公众号的唯一标识\r\n                timestamp: res.timestamp, // 必填，生成签名的时间戳\r\n                nonceStr: res.nonceStr, // 必填，生成签名的随机串\r\n                signature: res.signature,// 必填，签名\r\n                jsApiList: [\r\n                    'updateAppMessageShareData',\r\n                    'updateTimelineShareData',\r\n                    'openLocation'\r\n                ] // 必填，需要使用的JS接口列表\r\n            });\r\n\r\n            window.wx.ready(function () {\r\n                /**\r\n                 * config信息验证后会执行ready方法，所有接口调用都必须在config接口获得结果之后，\r\n                 * config是一个客户端的异步操作，所以如果需要在页面加载时就调用相关接口，\r\n                 * 则须把相关接口放在ready函数中调用来确保正确执行。\r\n                 * 对于用户触发时才调用的接口，则可以直接调用，不需要放在ready函数中。\r\n                 * */\r\n                // console.log('window.wx ready');\r\n\r\n                let title = '蛋糕订购单';\r\n                let desc = '查看弯麦蛋糕订购单信息';\r\n                let imgUrl = 'http://gratefulwheat.ruyue.xyz/image/生日蛋糕/蛋糕3.0/叮当王子-方图.jpg';\r\n\r\n                // 自定义“分享给朋友”及“分享到QQ”按钮的分享内容\r\n                window.wx.updateAppMessageShareData({\r\n                    title: title, // 分享标题\r\n                    desc: desc, // 分享描述\r\n                    link: document.URL, // 分享链接，该链接域名或路径必须与当前页面对应的公众号JS安全域名一致\r\n                    imgUrl: imgUrl, // 分享图标\r\n                    success: function () {\r\n                        // 设置成功\r\n                        // console.log('window.wx.updateAppMessageShareData success');\r\n                    },\r\n                    fail: function (res) {\r\n                        // 设置失败\r\n                        // console.log('window.wx.updateAppMessageShareData fail res=' + res);\r\n                    }\r\n                });\r\n\r\n                // 自定义“分享到朋友圈”及“分享到QQ空间”按钮的分享内容\r\n                window.wx.updateTimelineShareData({\r\n                    title: title, // 分享标题\r\n                    link: document.URL, // 分享链接，该链接域名或路径必须与当前页面对应的公众号JS安全域名一致\r\n                    imgUrl: imgUrl, // 分享图标\r\n                    success: function () {\r\n                        // 设置成功\r\n                        // console.log('window.wx.updateTimelineShareData success');\r\n                    },\r\n                    fail: function () {\r\n                        // 设置失败\r\n                        // console.log('window.wx.updateTimelineShareData fail');\r\n                    }\r\n                });\r\n            });\r\n\r\n            window.wx.error(function (res) {\r\n                /**\r\n                 * config信息验证失败会执行error函数，如签名过期导致验证失败，具体错误信息可以打开config的debug模式查看，\r\n                 * 也可以在返回的res参数中查看，对于SPA可以在这里更新签名。\r\n                 */\r\n                console.log('window.wx error res = ' + JSON.stringify(res));\r\n            });\r\n        }\r\n    };\r\n\r\n    render() {\r\n        const {\r\n            cakeName,\r\n            cakeImage,\r\n            creamType,\r\n            cakeSize,\r\n            cakeSizeExtra,\r\n            cakePrice,\r\n            cakeFillings,\r\n            candleType,\r\n            ignitorType,\r\n            number4candle,\r\n            cakePlateNumber,\r\n            pickUpDay,\r\n            pickUpTime,\r\n            pickUpType,\r\n            responseShop,\r\n            deliverCity,\r\n            deliverCounty,\r\n            deliverAddress,\r\n            pickUpName,\r\n            phoneNumber,\r\n            remarks\r\n        } = this.state;\r\n\r\n        let tel = 'tel:' + phoneNumber\r\n        return (\r\n            <div>\r\n                <div style={{\r\n                    fontSize: 12,\r\n                    textAlign: 'center',\r\n                    paddingTop: 6,\r\n                    paddingBottom: 0\r\n                }}>蛋糕订购单</div>\r\n                <div style={{\r\n                    fontSize: 18,\r\n                    textAlign: 'center',\r\n                    paddingTop: 4,\r\n                    paddingBottom: 4,\r\n                    fontWeight: 'bold'\r\n                }}>{cakeName}</div>\r\n                <div style={{ width: '100%', textAlign: 'center' }}>\r\n                    <Image style={{ width: 180 }} preview={false} src={cakeImage} />\r\n                </div>\r\n                <div style={{ marginLeft: 24, marginRight: 24 }}>\r\n                    <Divider style={{ marginTop: 0, marginBottom: 0, fontSize: 8 }}>制作</Divider>\r\n                    <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                        <span style={{ fontSize: 14 }}>奶油：</span>\r\n                        <span style={{ fontSize: 14, fontWeight: 'bold' }}>{creamType}</span>\r\n                    </div>\r\n                    <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                        <span style={{ fontSize: 14 }}>尺寸：</span>\r\n                        <span style={{ fontSize: 14, fontWeight: 'bold' }}>{cakeSize}</span>\r\n                        {\r\n                            cakeSize === '组合' ? (\r\n                                <span style={{ fontSize: 14, fontWeight: 'bold' }}>\r\n                                    {cakeSizeExtra}\r\n                                </span>) : (<span></span>)\r\n                        }\r\n                    </div>\r\n                    <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                        <span style={{ fontSize: 14 }}>价格：</span>\r\n                        <span style={{ fontSize: 14, fontWeight: 'bold' }}>{cakePrice}</span>\r\n                        <span style={{ fontSize: 14, fontWeight: 'bold' }}>元</span>\r\n                    </div>\r\n                    <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                        <span style={{ fontSize: 14 }}>夹心：</span>\r\n                        <span style={{ fontSize: 14, fontWeight: 'bold' }}>{cakeFillings}</span>\r\n                    </div>\r\n                    <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                        <span style={{ fontSize: 14 }}>蜡烛：</span>\r\n                        <span style={{ fontSize: 14, fontWeight: 'bold' }}>{candleType}</span>\r\n                        {\r\n                            candleType === KCandleTypeOptions[1].value ? (\r\n                                <span style={{ fontSize: 14, fontWeight: 'bold' }}>\r\n                                    {`${number4candle}`}\r\n                                </span>) : (\r\n                                <span>\r\n                                </span>\r\n                            )\r\n                        }\r\n                        {\r\n                            ignitorType === '需要火柴' ? (\r\n                                <span style={{ fontSize: 14, fontWeight: 'bold' }}>\r\n                                    {`+火柴盒`}\r\n                                </span>\r\n                            ) : (<span></span>)\r\n                        }\r\n                    </div>\r\n                    <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                        <span style={{ fontSize: 14 }}>帽子：</span>\r\n                        <span style={{ fontSize: 14, fontWeight: 'bold' }}>金卡皇冠帽</span>\r\n                    </div>\r\n                    <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                        <span style={{ fontSize: 14 }}>餐具：</span>\r\n                        <span style={{ fontSize: 14, fontWeight: 'bold' }}>{cakePlateNumber}</span>\r\n                        <span style={{ fontSize: 14, fontWeight: 'bold' }}>套</span>\r\n                    </div>\r\n                    <Divider style={{ marginTop: 0, marginBottom: 0, fontSize: 8 }}>取货</Divider>\r\n                    <div>\r\n                        <span style={{ fontSize: 14 }}>时间：</span>\r\n                        <span style={{ fontSize: 14, fontWeight: 'bold' }}>{pickUpDay}</span>\r\n                        <span style={{ fontSize: 14, fontWeight: 'bold' }}> {pickUpTime}</span>\r\n                    </div>\r\n                    <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                        <span style={{ fontSize: 14 }}>方式：</span>\r\n                        <span style={{ fontSize: 14, fontWeight: 'bold' }}>{pickUpType}</span>\r\n                    </div>\r\n                    <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                        <span style={{ fontSize: 14 }}>门店：</span>\r\n                        <span style={{ fontSize: 14, fontWeight: 'bold' }}>{responseShop}</span>\r\n                    </div>\r\n                    {\r\n                        pickUpType === KPickUpTypeOptions[1].value ? (\r\n                            <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                                <span style={{ fontSize: 14 }}>地址：</span>\r\n                                <span style={{ textDecoration: 'underline', fontSize: 20, fontWeight: 'bold', color: 'green' }}\r\n                                    onClick={async () => {\r\n                                        let locationResult = await geocode(deliverCounty + deliverAddress, deliverCity);\r\n                                        if (locationResult.errCode === 0) {\r\n                                            let locationStr = locationResult.location;\r\n                                            let locationArray = locationStr.split(',');\r\n                                            if (locationArray.length === 2) {\r\n                                                window.wx.openLocation({\r\n                                                    // 经度，浮点数，范围为180 ~ -180。\r\n                                                    longitude: locationArray[0],\r\n                                                    // 纬度，浮点数，范围为90 ~ -90                                            \r\n                                                    latitude: locationArray[1],\r\n                                                    // 位置名\r\n                                                    name: deliverAddress,\r\n                                                    // 地址详情说明\r\n                                                    address: deliverCounty + deliverAddress,\r\n                                                    // 地图缩放级别,整型值,范围从1~28。默认为最大\r\n                                                    scale: 15,\r\n                                                    // 在查看位置界面底部显示的超链接,可点击跳转\r\n                                                    infoUrl: 'https://www.baidu.com/'\r\n                                                });\r\n                                            }\r\n                                        }\r\n                                    }}>\r\n                                    {deliverCounty + deliverAddress}\r\n                                </span>\r\n                            </div>\r\n                        ) : (<span></span>)\r\n                    }\r\n\r\n                    <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                        <span style={{ fontSize: 14 }}>姓名：</span>\r\n                        <span style={{ fontSize: 14, fontWeight: 'bold' }}>{pickUpName}</span>\r\n                    </div>\r\n                    <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                        <span style={{ fontSize: 14 }}>手机：</span>\r\n                        <span style={{ textDecoration: 'underline', fontSize: 20, fontWeight: 'bold' }}>\r\n                            <a href={tel}>{phoneNumber}</a>\r\n                        </span>\r\n                    </div>\r\n                    <Divider style={{ marginTop: 0, marginBottom: 0, fontSize: 8 }}>其它</Divider>\r\n                    <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                        <span style={{ fontSize: 14 }}>备注：</span>\r\n                        <span style={{ fontSize: 14, fontWeight: 'bold', wordWrap: 'break-word' }}>{remarks}</span>\r\n                    </div>\r\n\r\n                    <div style={{ marginTop: 4, marginBottom: 4 }}>\r\n                        <span style={{ textDecoration: 'underline', fontSize: 20, fontWeight: 'bold' }}>\r\n                            <a href={\"http://gratefulwheat.ruyue.xyz/buildingMap\"}>漳浦小区楼栋图</a>\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div style={{ textAlign: 'center', background: '#D8D8D8', height: 100 }}>\r\n                    <div style={{ paddingTop: 12, marginTop: 10 }}>\r\n                        总部：漳州市漳浦县府前街西247号(教育局对面)\r\n                    </div>\r\n                    <div style={{ color: 'blue', fontSize: 14 }}>\r\n                        <span style={{ color: 'black' }}>©弯麦</span>\r\n\r\n                        <a href='http://beian.miit.gov.cn'>\r\n                            <span style={{ marginLeft: 8 }}>闽ICP备2022007668号-1</span>\r\n                        </a>\r\n\r\n                        <div>\r\n                            <a href=\"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=35062302000230\">\r\n                                <span>\r\n                                    <Image preview={false} src=\"/image/公安备案图标.png\" style={{ float: 'left' }} />\r\n                                </span>\r\n                                <span style={{ marginLeft: 8 }}>\r\n                                    闽公网安备 35062302000230号\r\n                                </span>\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>)\r\n    };\r\n}\r\n\r\nexport default BirthdayCakeOrder;\r\n","import React from 'react';\r\n\r\nclass TestVideo extends React.Component {\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <video\r\n                    width={500}\r\n                    height={500}\r\n                    id=\"video-player\"\r\n                    autoPlay\r\n                    controls\r\n                    loop\r\n                    src=\"/生日蛋糕/图册/6-男孩&男生系列/小王子小公主_40_logo.mp4\"\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default TestVideo;\r\n\r\n\r\n","import React from \"react\";\r\n// import ProductSale from \"./view/productSale\";\r\n// import ProductDiscard from \"./view/productDiscard\";\r\n// import ProductSaleAndDiscard from \"./view/productSaleAndDiscard.js\";\r\n// import CouponSummary from \"./view/couponSummary\";\r\n// import DIYReserve from \"./view/diyReserve\";\r\n// import OrderManagement from \"./view/orderManagement\";\r\nimport OrderManagement1 from \"./view/orderManagement1\";\r\n// import ProductionPlanPrinter from \"./view/productionPlanPrinter\";\r\nimport ProductionPlanPrinter1 from \"./view/productionPlanPrinter1\";\r\n// import ProductDistributePrinter from \"./view/productDistributePrinter\";\r\nimport ProductDistributePrinter1 from \"./view/productDistributePrinter1\";\r\nimport ProductDistributeInputer from \"./view/productDistributeInputer\";\r\nimport ProductLabelPrinter from \"./view/productLabelPrinter\";\r\nimport ProductManagement from \"./view/productManagement\";\r\n// import BirthdayCakeSale from \"./view/birthdayCakeSale\";\r\nimport CakeMenu from \"./view/cakeMenu\";\r\nimport CakeOrder from \"./view/cakeOrder\";\r\nimport ProductMenu from \"./view/productMenu\";\r\nimport ProductMenu1 from \"./view/productMenu1\";\r\nimport ProductMenu4Printer from \"./view/productMenu4Printer\";\r\nimport ProductMenu4Printer1 from \"./view/productMenu4Printer1\";\r\nimport ProductStockManagement from \"./view/productStockManagement\";\r\nimport BuildingMap from \"./view/buildingMap\";\r\nimport Building from \"./view/building\";\r\n// import MapContainer from \"./view/MapContainer\";\r\nimport BirthdayCakeOrder from \"./view/birthdayCakeOrder\";\r\nimport TestVideo from \"./view/testVideo\";\r\n\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  useLocation\r\n} from \"react-router-dom\";\r\nimport './routerApp.css';\r\n\r\nimport {\r\n  ConfigProvider\r\n} from 'antd';\r\n// 在需要用到的 组件文件中引入中文语言包\r\nimport zhCN from 'antd/es/locale/zh_CN';\r\nimport VConsole from 'vconsole';\r\nif (process.env.NODE_ENV === 'development') {\r\n  new VConsole();\r\n}\r\n\r\nfunction useQuery() {\r\n  return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nfunction Inside4QueryParams() {\r\n  let query = useQuery();\r\n\r\n  return (\r\n    <div>\r\n      <Route exact path=\"/\" children={<CakeMenu query={query} />} />\r\n      <Route path=\"/productionPlanPrinter1\" children={<ProductionPlanPrinter1 query={query} />} />\r\n      <Route path=\"/orderManagement1\" children={<OrderManagement1 query={query} />} />\r\n      <Route path=\"/productDistributePrinter1\" children={<ProductDistributePrinter1 query={query} />} />\r\n      <Route path=\"/productDistributeInputer\" children={<ProductDistributeInputer query={query} />} />\r\n      <Route path=\"/productLabelPrinter\" children={<ProductLabelPrinter query={query} />} />\r\n      <Route path=\"/productManagement\" children={<ProductManagement query={query} />} />\r\n      <Route path=\"/cakeMenu\" children={<CakeMenu query={query} />} />\r\n      <Route path=\"/cakeOrder\" children={<CakeOrder query={query} />} />\r\n      <Route path=\"/productMenu\" children={<ProductMenu query={query} />} />\r\n      <Route path=\"/productMenu1\" children={<ProductMenu1 query={query} />} />\r\n      <Route path=\"/productMenu4Printer\" children={<ProductMenu4Printer query={query} />} />\r\n      <Route path=\"/productMenu4Printer1\" children={<ProductMenu4Printer1 query={query} />} />\r\n      <Route path=\"/productStockManagement\" children={<ProductStockManagement query={query} />} />\r\n      <Route path=\"/buildingMap\" children={<BuildingMap query={query} />} />\r\n      <Route path=\"/Building\" children={<Building query={query} />} />\r\n      <Route path=\"/birthdayCakeOrder\" children={<BirthdayCakeOrder query={query} />} />\r\n      <Route path=\"/testVideo\" children={<TestVideo query={query} />} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function RouterApp() {\r\n  return (\r\n    <ConfigProvider locale={zhCN}>\r\n      <Router>\r\n        <Inside4QueryParams />\r\n      </Router>\r\n    </ConfigProvider>\r\n  );\r\n}\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './routerApp';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />,\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","//==本JS是加载Lodop插件及CLodop服务的综合示例，可直接使用，建议看懂后融进自己页面程序==\r\n\r\nvar CreatedOKLodopObject, CLodopIsLocal, CLodopJsState;\r\n\r\n//==判断是否需要CLodop(那些不支持插件的浏览器):==\r\nfunction needCLodop() {\r\n    try {\r\n        var ua = navigator.userAgent;\r\n        if (ua.match(/Windows\\sPhone/i))\r\n            return true;\r\n        if (ua.match(/iPhone|iPod|iPad/i))\r\n            return true;\r\n        if (ua.match(/Android/i))\r\n            return true;\r\n        if (ua.match(/Edge\\D?\\d+/i))\r\n            return true;\r\n\r\n        var verTrident = ua.match(/Trident\\D?\\d+/i);\r\n        var verIE = ua.match(/MSIE\\D?\\d+/i);\r\n        var verOPR = ua.match(/OPR\\D?\\d+/i);\r\n        var verFF = ua.match(/Firefox\\D?\\d+/i);\r\n        var x64 = ua.match(/x64/i);\r\n        if ((!verTrident) && (!verIE) && (x64))\r\n            return true;\r\n        else if (verFF) {\r\n            verFF = verFF[0].match(/\\d+/);\r\n            if ((verFF[0] >= 41) || (x64))\r\n                return true;\r\n        } else if (verOPR) {\r\n            verOPR = verOPR[0].match(/\\d+/);\r\n            if (verOPR[0] >= 32)\r\n                return true;\r\n        } else if ((!verTrident) && (!verIE)) {\r\n            var verChrome = ua.match(/Chrome\\D?\\d+/i);\r\n            if (verChrome) {\r\n                verChrome = verChrome[0].match(/\\d+/);\r\n                if (verChrome[0] >= 41)\r\n                    return true;\r\n            }\r\n        }\r\n        return false;\r\n    } catch (err) {\r\n        return true;\r\n    }\r\n}\r\n\r\n//==加载引用CLodop的主JS,用双端口8000和18000(以防其中一个被占):==\r\nfunction loadCLodop() {\r\n    if (CLodopJsState === \"loading\" || CLodopJsState === \"complete\") return;\r\n    CLodopJsState = \"loading\";\r\n    var head = document.head || document.getElementsByTagName(\"head\")[0] || document.documentElement;\r\n    var JS1 = document.createElement(\"script\");\r\n    var JS2 = document.createElement(\"script\");\r\n    JS1.src = \"http://localhost:8000/CLodopfuncs.js?priority=1\";\r\n    JS2.src = \"http://localhost:18000/CLodopfuncs.js\";\r\n    JS1.onload = JS2.onload = function () { CLodopJsState = \"complete\"; }\r\n    JS1.onerror = JS2.onerror = function (evt) { CLodopJsState = \"complete\"; }\r\n    head.insertBefore(JS1, head.firstChild);\r\n    head.insertBefore(JS2, head.firstChild);\r\n    CLodopIsLocal = !!((JS1.src + JS2.src).match(/\\/\\/localho|\\/\\/127.0.0./i));\r\n}\r\n\r\nif (needCLodop()) { loadCLodop(); }//加载\r\n\r\n//==获取LODOP对象主过程,判断是否安装、需否升级:==\r\nfunction getLodop(oOBJECT, oEMBED) {\r\n    var strHtmInstall = \"<br><font color='#FF00FF'>打印控件未安装!点击这里<a href=download/install_lodop32.exe target='_self'>执行安装</a>,安装后请刷新页面或重新进入。</font>\";\r\n    var strHtmUpdate = \"<br><font color='#FF00FF'>打印控件需要升级!点击这里<a href=download/install_lodop32.exe target='_self'>执行升级</a>,升级后请重新进入。</font>\";\r\n    var strHtm64_Install = \"<br><font color='#FF00FF'>打印控件未安装!点击这里<a href=download/install_lodop64.exe target='_self'>执行安装</a>,安装后请刷新页面或重新进入。</font>\";\r\n    var strHtm64_Update = \"<br><font color='#FF00FF'>打印控件需要升级!点击这里<a href=download/install_lodop64.exe target='_self'>执行升级</a>,升级后请重新进入。</font>\";\r\n    var strHtmFireFox = \"<br><br><font color='#FF00FF'>（注意：如曾安装过Lodop旧版附件npActiveXPLugin,请在【工具】->【附加组件】->【扩展】中先卸它）</font>\";\r\n    var strHtmChrome = \"<br><br><font color='#FF00FF'>(如果此前正常，仅因浏览器升级或重安装而出问题，需重新执行以上安装）</font>\";\r\n    var strCLodopInstall_1 = \"<br><font color='#FF00FF'>Web打印服务CLodop未安装启动，点击这里<a href=download/CLodop_Setup_for_Win32NT.exe target='_self'>下载执行安装</a>\";\r\n    var strCLodopInstall_2 = \"<br>（若此前已安装过，可<a href='CLodop.protocol:setup' target='_self'>点这里直接再次启动</a>）\";\r\n    var strCLodopInstall_3 = \"，成功后请刷新本页面。</font>\";\r\n    var strCLodopUpdate = \"<br><font color='#FF00FF'>Web打印服务CLodop需升级!点击这里<a href=download/CLodop_Setup_for_Win32NT.exe target='_self'>执行升级</a>,升级后请刷新页面。</font>\";\r\n    var LODOP;\r\n    try {\r\n        var ua = navigator.userAgent;\r\n        var isIE = !!(ua.match(/MSIE/i)) || !!(ua.match(/Trident/i));\r\n        if (needCLodop()) {\r\n            try {\r\n                LODOP = window.getCLodop();\r\n            } catch (err) { }\r\n            if (!LODOP && CLodopJsState !== \"complete\") {\r\n                if (CLodopJsState === \"loading\") alert(\"网页还没下载完毕，请稍等一下再操作.\"); else alert(\"没有加载CLodop的主js，请先调用loadCLodop过程.\");\r\n                return;\r\n            }\r\n            if (!LODOP) {\r\n                document.body.innerHTML = strCLodopInstall_1 + (CLodopIsLocal ? strCLodopInstall_2 : \"\") + strCLodopInstall_3 + document.body.innerHTML;\r\n                return;\r\n            } else {\r\n                if (window.CLODOP.CVERSION < \"4.1.2.7\") {\r\n                    document.body.innerHTML = strCLodopUpdate + document.body.innerHTML;\r\n                }\r\n                if (oEMBED && oEMBED.parentNode)\r\n                    oEMBED.parentNode.removeChild(oEMBED); //清理旧版无效元素\r\n                if (oOBJECT && oOBJECT.parentNode)\r\n                    oOBJECT.parentNode.removeChild(oOBJECT);\r\n            }\r\n        } else {\r\n            var is64IE = isIE && !!(ua.match(/x64/i));\r\n            //==如果页面有Lodop就直接使用,否则新建:==\r\n            if (oOBJECT || oEMBED) {\r\n                if (isIE)\r\n                    LODOP = oOBJECT;\r\n                else\r\n                    LODOP = oEMBED;\r\n            } else if (!CreatedOKLodopObject) {\r\n                LODOP = document.createElement(\"object\");\r\n                LODOP.setAttribute(\"width\", 0);\r\n                LODOP.setAttribute(\"height\", 0);\r\n                LODOP.setAttribute(\"style\", \"position:absolute;left:0px;top:-100px;width:0px;height:0px;\");\r\n                if (isIE)\r\n                    LODOP.setAttribute(\"classid\", \"clsid:2105C259-1E0C-4534-8141-A753534CB4CA\");\r\n                else\r\n                    LODOP.setAttribute(\"type\", \"application/x-print-lodop\");\r\n                document.documentElement.appendChild(LODOP);\r\n                CreatedOKLodopObject = LODOP;\r\n            } else\r\n                LODOP = CreatedOKLodopObject;\r\n            //==Lodop插件未安装时提示下载地址:==\r\n            if ((!LODOP) || (!LODOP.VERSION)) {\r\n                if (ua.indexOf('Chrome') >= 0)\r\n                    document.body.innerHTML = strHtmChrome + document.body.innerHTML;\r\n                if (ua.indexOf('Firefox') >= 0)\r\n                    document.body.innerHTML = strHtmFireFox + document.body.innerHTML;\r\n                document.body.innerHTML = (is64IE ? strHtm64_Install : strHtmInstall) + document.body.innerHTML;\r\n                return LODOP;\r\n            }\r\n        }\r\n        if (LODOP.VERSION < \"6.2.2.6\") {\r\n            if (!needCLodop())\r\n                document.body.innerHTML = (is64IE ? strHtm64_Update : strHtmUpdate) + document.body.innerHTML;\r\n        }\r\n        //===如下空白位置适合调用统一功能(如注册语句、语言选择等):==\r\n\r\n        LODOP.SET_LICENSES(\"\", \"DDC88D02EC4E4C7258D120DD76309A3C\", \"\", \"\");\r\n\r\n        //=======================================================\r\n        return LODOP;\r\n    } catch (err) {\r\n        alert(\"getLodop出错:\" + err);\r\n    }\r\n}\r\n\r\nmodule.exports = { getLodop };\r\n","module.exports = __webpack_public_path__ + \"static/media/di.0258c2a5.wav\";"],"sourceRoot":""}